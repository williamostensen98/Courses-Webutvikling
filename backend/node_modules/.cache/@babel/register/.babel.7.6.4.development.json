{
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"./routes/course\"));\n\nvar _grades = _interopRequireDefault(require(\"./routes/grades\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Babel is added as a dependency in package.json and used to type modern .js syntax and then transpiled. \n// import express from 'express' is equal to const express = require('express')\nconst API_PORT = 3001; // Listening for incoming HTTP requests on port 3001\n\nconst app = (0, _express.default)(); // Creating an express-object\n// When calling app.use(), we add another \"filter\" for all requests to go through. E.g., app.use(bodyParser.json()) parses incoming requests to JSON-format.\n\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)());\napp.use('/courses', _course.default);\napp.use('/courses/:course_code/grades', _grades.default);\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\"); // * indicates that anyone can connect. Can be changed to specific IPs.\n\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); // Which headers we allow\n\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE'); // Defining all type of requests we want to accept.\n\n  next();\n});\napp.listen(API_PORT, () => console.log(`LISTENING ON PORT ${API_PORT}`)); // Adress to MongoDB. On format: mongodb://<username>:<pwd>@<IP>/<DNS>:<port>/<database>\n\nconst dbRoute = 'mongodb://victojo:admin@it2810-39.idi.ntnu.no:27017/grades'; // Connecting to the MongoDB by using mongoose\n\n_mongoose.default.connect(dbRoute, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useFindAndModify: false\n}); // Connection is our active connection to the MongoDB\n\n\nconst connection = _mongoose.default.connection; // Once the connection is established, execute the content of function\n\nconnection.once('open', function () {\n  console.log(\"MongoDB database connection established successfully\");\n}); // Handle all 404 errors (not found)\n\napp.use((req, res, next) => {\n  res.status(404).send(\"The information you are looking for is not here! Try a different path\");\n}); // Handles all requests resulting in a 500 response\n\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.sendFile(_path.default.join(__dirname, '../public/500.html'));\n}); //  URL: https://grades.no/api/courses/tdt4145/grades\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJBUElfUE9SVCIsImFwcCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwiY291cnNlUm91dGVzIiwiZ3JhZGVSb3V0ZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsImRiUm91dGUiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwiY29ubmVjdGlvbiIsIm9uY2UiLCJzdGF0dXMiLCJzZW5kIiwiZXJyIiwiZXJyb3IiLCJzdGFjayIsInNlbmRGaWxlIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBO0FBR0EsTUFBTUEsUUFBUSxHQUFHLElBQWpCLEMsQ0FBdUI7O0FBQ3ZCLE1BQU1DLEdBQUcsR0FBRyx1QkFBWixDLENBQXVCO0FBRXZCOztBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxvQkFBUjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUSxVQUFSLEVBQW9CRyxlQUFwQjtBQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUSw4QkFBUixFQUF3Q0ksZUFBeEM7QUFHQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBU0ssR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUM3QkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFENkIsQ0FDbUI7O0FBQ2hERixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxnREFBM0MsRUFGNkIsQ0FFaUU7O0FBQzlGRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0MsRUFINkIsQ0FHeUQ7O0FBQ3RGRCxFQUFBQSxJQUFJO0FBQ1AsQ0FMRDtBQU9BUixHQUFHLENBQUNVLE1BQUosQ0FBV1gsUUFBWCxFQUFxQixNQUFNWSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxxQkFBb0JiLFFBQVMsRUFBMUMsQ0FBM0IsRSxDQUVBOztBQUNBLE1BQU1jLE9BQU8sR0FBRyw0REFBaEIsQyxDQUVBOztBQUNBQyxrQkFBU0MsT0FBVCxDQUFpQkYsT0FBakIsRUFBMEI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFLElBQW5CO0FBQXlCQyxFQUFBQSxrQkFBa0IsRUFBRSxJQUE3QztBQUFtREMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFBckUsQ0FBMUIsRSxDQUNBOzs7QUFDQSxNQUFNQyxVQUFVLEdBQUdMLGtCQUFTSyxVQUE1QixDLENBRUE7O0FBQ0FBLFVBQVUsQ0FBQ0MsSUFBWCxDQUFnQixNQUFoQixFQUF3QixZQUFXO0FBQy9CVCxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzREFBWjtBQUNILENBRkQsRSxDQUlBOztBQUNBWixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDSyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFrQjtBQUN0QkQsRUFBQUEsR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsdUVBQXJCO0FBQ0QsQ0FGSCxFLENBSUE7O0FBQ0F0QixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDc0IsR0FBRCxFQUFLakIsR0FBTCxFQUFTQyxHQUFULEVBQWFDLElBQWIsS0FBc0I7QUFDMUJHLEVBQUFBLE9BQU8sQ0FBQ2EsS0FBUixDQUFjRCxHQUFHLENBQUNFLEtBQWxCO0FBQ0FsQixFQUFBQSxHQUFHLENBQUNtQixRQUFKLENBQWFDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFvQixvQkFBcEIsQ0FBYjtBQUNELENBSEgsRSxDQUtBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9WaWN0b3IvRG9jdW1lbnRzL05UTlUvSDIwMTkvV2VidXR2aWtsaW5nL3Byb3NqZWt0XzMvYmFja2VuZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGNvdXJzZVJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvY291cnNlXCJcbmltcG9ydCBncmFkZVJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvZ3JhZGVzXCJcbi8vIEJhYmVsIGlzIGFkZGVkIGFzIGEgZGVwZW5kZW5jeSBpbiBwYWNrYWdlLmpzb24gYW5kIHVzZWQgdG8gdHlwZSBtb2Rlcm4gLmpzIHN5bnRheCBhbmQgdGhlbiB0cmFuc3BpbGVkLiBcbi8vIGltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnIGlzIGVxdWFsIHRvIGNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcblxuXG5jb25zdCBBUElfUE9SVCA9IDMwMDE7IC8vIExpc3RlbmluZyBmb3IgaW5jb21pbmcgSFRUUCByZXF1ZXN0cyBvbiBwb3J0IDMwMDFcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsgLy8gQ3JlYXRpbmcgYW4gZXhwcmVzcy1vYmplY3RcblxuLy8gV2hlbiBjYWxsaW5nIGFwcC51c2UoKSwgd2UgYWRkIGFub3RoZXIgXCJmaWx0ZXJcIiBmb3IgYWxsIHJlcXVlc3RzIHRvIGdvIHRocm91Z2guIEUuZy4sIGFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpIHBhcnNlcyBpbmNvbWluZyByZXF1ZXN0cyB0byBKU09OLWZvcm1hdC5cbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZSgnL2NvdXJzZXMnLCBjb3Vyc2VSb3V0ZXMpXG5hcHAudXNlKCcvY291cnNlcy86Y291cnNlX2NvZGUvZ3JhZGVzJywgZ3JhZGVSb3V0ZXMpXG5cblxuYXBwLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpOyAvLyAqIGluZGljYXRlcyB0aGF0IGFueW9uZSBjYW4gY29ubmVjdC4gQ2FuIGJlIGNoYW5nZWQgdG8gc3BlY2lmaWMgSVBzLlxuICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdFwiKTsgLy8gV2hpY2ggaGVhZGVycyB3ZSBhbGxvd1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBPUFRJT05TLCBQVVQsIFBBVENILCBERUxFVEUnKTsgLy8gRGVmaW5pbmcgYWxsIHR5cGUgb2YgcmVxdWVzdHMgd2Ugd2FudCB0byBhY2NlcHQuXG4gICAgbmV4dCgpO1xufSk7XG5cbmFwcC5saXN0ZW4oQVBJX1BPUlQsICgpID0+IGNvbnNvbGUubG9nKGBMSVNURU5JTkcgT04gUE9SVCAke0FQSV9QT1JUfWApKTtcblxuLy8gQWRyZXNzIHRvIE1vbmdvREIuIE9uIGZvcm1hdDogbW9uZ29kYjovLzx1c2VybmFtZT46PHB3ZD5APElQPi88RE5TPjo8cG9ydD4vPGRhdGFiYXNlPlxuY29uc3QgZGJSb3V0ZSA9ICdtb25nb2RiOi8vdmljdG9qbzphZG1pbkBpdDI4MTAtMzkuaWRpLm50bnUubm86MjcwMTcvZ3JhZGVzJztcblxuLy8gQ29ubmVjdGluZyB0byB0aGUgTW9uZ29EQiBieSB1c2luZyBtb25nb29zZVxubW9uZ29vc2UuY29ubmVjdChkYlJvdXRlLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLCB1c2VGaW5kQW5kTW9kaWZ5OiBmYWxzZSB9KTtcbi8vIENvbm5lY3Rpb24gaXMgb3VyIGFjdGl2ZSBjb25uZWN0aW9uIHRvIHRoZSBNb25nb0RCXG5jb25zdCBjb25uZWN0aW9uID0gbW9uZ29vc2UuY29ubmVjdGlvbjtcblxuLy8gT25jZSB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCwgZXhlY3V0ZSB0aGUgY29udGVudCBvZiBmdW5jdGlvblxuY29ubmVjdGlvbi5vbmNlKCdvcGVuJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJNb25nb0RCIGRhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5XCIpO1xufSlcblxuLy8gSGFuZGxlIGFsbCA0MDQgZXJyb3JzIChub3QgZm91bmQpXG5hcHAudXNlKChyZXEscmVzLG5leHQpID0+IHtcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIlRoZSBpbmZvcm1hdGlvbiB5b3UgYXJlIGxvb2tpbmcgZm9yIGlzIG5vdCBoZXJlISBUcnkgYSBkaWZmZXJlbnQgcGF0aFwiKVxuICB9KVxuXG4vLyBIYW5kbGVzIGFsbCByZXF1ZXN0cyByZXN1bHRpbmcgaW4gYSA1MDAgcmVzcG9uc2VcbmFwcC51c2UoKGVycixyZXEscmVzLG5leHQpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjaylcbiAgICByZXMuc2VuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwnLi4vcHVibGljLzUwMC5odG1sJykpXG4gIH0pXG5cbi8vICBVUkw6IGh0dHBzOi8vZ3JhZGVzLm5vL2FwaS9jb3Vyc2VzL3RkdDQxNDUvZ3JhZGVzXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "API_PORT",
        "app",
        "use",
        "bodyParser",
        "json",
        "courseRoutes",
        "gradeRoutes",
        "req",
        "res",
        "next",
        "header",
        "listen",
        "console",
        "log",
        "dbRoute",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useFindAndModify",
        "connection",
        "once",
        "status",
        "send",
        "err",
        "error",
        "stack",
        "sendFile",
        "path",
        "join",
        "__dirname"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA;AAGA,MAAMA,QAAQ,GAAG,IAAjB,C,CAAuB;;AACvB,MAAMC,GAAG,GAAG,uBAAZ,C,CAAuB;AAEvB;;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBG,eAApB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,8BAAR,EAAwCI,eAAxC;AAGAL,GAAG,CAACC,GAAJ,CAAQ,UAASK,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7BD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C,EAD6B,CACmB;;AAChDF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C,EAF6B,CAEiE;;AAC9FF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,wCAA3C,EAH6B,CAGyD;;AACtFD,EAAAA,IAAI;AACP,CALD;AAOAR,GAAG,CAACU,MAAJ,CAAWX,QAAX,EAAqB,MAAMY,OAAO,CAACC,GAAR,CAAa,qBAAoBb,QAAS,EAA1C,CAA3B,E,CAEA;;AACA,MAAMc,OAAO,GAAG,4DAAhB,C,CAEA;;AACAC,kBAASC,OAAT,CAAiBF,OAAjB,EAA0B;AAAEG,EAAAA,eAAe,EAAE,IAAnB;AAAyBC,EAAAA,kBAAkB,EAAE,IAA7C;AAAmDC,EAAAA,gBAAgB,EAAE;AAArE,CAA1B,E,CACA;;;AACA,MAAMC,UAAU,GAAGL,kBAASK,UAA5B,C,CAEA;;AACAA,UAAU,CAACC,IAAX,CAAgB,MAAhB,EAAwB,YAAW;AAC/BT,EAAAA,OAAO,CAACC,GAAR,CAAY,sDAAZ;AACH,CAFD,E,CAIA;;AACAZ,GAAG,CAACC,GAAJ,CAAQ,CAACK,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAkB;AACtBD,EAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uEAArB;AACD,CAFH,E,CAIA;;AACAtB,GAAG,CAACC,GAAJ,CAAQ,CAACsB,GAAD,EAAKjB,GAAL,EAASC,GAAT,EAAaC,IAAb,KAAsB;AAC1BG,EAAAA,OAAO,CAACa,KAAR,CAAcD,GAAG,CAACE,KAAlB;AACAlB,EAAAA,GAAG,CAACmB,QAAJ,CAAaC,cAAKC,IAAL,CAAUC,SAAV,EAAoB,oBAApB,CAAb;AACD,CAHH,E,CAKA",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourcesContent": [
        "import express from 'express'\nimport mongoose from 'mongoose'\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport cors from 'cors';\nimport courseRoutes from \"./routes/course\"\nimport gradeRoutes from \"./routes/grades\"\n// Babel is added as a dependency in package.json and used to type modern .js syntax and then transpiled. \n// import express from 'express' is equal to const express = require('express')\n\n\nconst API_PORT = 3001; // Listening for incoming HTTP requests on port 3001\nconst app = express(); // Creating an express-object\n\n// When calling app.use(), we add another \"filter\" for all requests to go through. E.g., app.use(bodyParser.json()) parses incoming requests to JSON-format.\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/courses', courseRoutes)\napp.use('/courses/:course_code/grades', gradeRoutes)\n\n\napp.use(function(req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\"); // * indicates that anyone can connect. Can be changed to specific IPs.\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); // Which headers we allow\n    res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE'); // Defining all type of requests we want to accept.\n    next();\n});\n\napp.listen(API_PORT, () => console.log(`LISTENING ON PORT ${API_PORT}`));\n\n// Adress to MongoDB. On format: mongodb://<username>:<pwd>@<IP>/<DNS>:<port>/<database>\nconst dbRoute = 'mongodb://victojo:admin@it2810-39.idi.ntnu.no:27017/grades';\n\n// Connecting to the MongoDB by using mongoose\nmongoose.connect(dbRoute, { useNewUrlParser: true, useUnifiedTopology: true, useFindAndModify: false });\n// Connection is our active connection to the MongoDB\nconst connection = mongoose.connection;\n\n// Once the connection is established, execute the content of function\nconnection.once('open', function() {\n    console.log(\"MongoDB database connection established successfully\");\n})\n\n// Handle all 404 errors (not found)\napp.use((req,res,next) => {\n    res.status(404).send(\"The information you are looking for is not here! Try a different path\")\n  })\n\n// Handles all requests resulting in a 500 response\napp.use((err,req,res,next) => {\n    console.error(err.stack)\n    res.sendFile(path.join(__dirname,'../public/500.html'))\n  })\n\n//  URL: https://grades.no/api/courses/tdt4145/grades\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571649396339
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "course.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"../models/course.model\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst courseRoutes = _express.default.Router();\n\ncourseRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ncourseRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n\n  next();\n}); // The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ncourseRoutes.route('/').get(async function (req, res) {\n  // Saving all possible attributes for a course document in the collection in content object. \n  // Checks if attribute exists on req.query and saves it if it exists.\n  let content = {};\n  let query = await req.query;\n  var stringQuery = Object.keys(query)[0]; //Check input from search bar. User only searches for norwegian_name og course_code\n  //Filters the other opions\n\n  if (allLetters(stringQuery)) {\n    if (containsCode(stringQuery)) {\n      content.course_code = {\n        $regex: RegExp(stringQuery),\n        $options: '-i'\n      };\n    } else {\n      content.norwegian_name = {\n        $regex: RegExp(stringQuery),\n        $options: '-i'\n      };\n    }\n  } else if (containsNumber(stringQuery)) {\n    content.course_code = {\n      $regex: RegExp(stringQuery),\n      $options: '-i'\n    };\n  } //Makes query from user chosen filtering\n\n\n  if (query._id) {\n    content._id = query._id;\n  } // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n\n\n  if (query.credits) {\n    content.credits = Number(query.credits);\n  } // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n\n\n  if (query.taught_in_spring) {\n    content.taught_in_spring = true;\n  }\n\n  if (query.taught_in_autumn) {\n    content.taught_in_autumn = true;\n  }\n\n  if (query.content) {\n    content.content = {\n      $regex: RegExp(query.content),\n      $options: '-i'\n    };\n  }\n\n  if (query.learning_goal) {\n    content.learning_goal = {\n      $regex: RegExp(query.learning_goal),\n      $options: '-i'\n    };\n  } // Syntax to find partial match by using MongoDB find()-function:\n  // find(({norwegian_name : {$regex : /Ava/}})\n  // console.log(content)\n\n\n  const courses = await _course.default.find(content, function (err, courses) {}).catch(err => console.log(err)); // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n\n  let sorting = req.query.sorting ? req.query.sorting : 'norwegian_name';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n  // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n\n  _course.default.paginate(content, {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(paginated_content => {\n    // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n    res.json(paginated_content);\n  }).catch(error => {\n    // In case of error, return status 500 and error message.\n    res.status(500).json(error);\n  });\n}); // This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\n\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n  let course_code = req.params.course_code;\n  course = await _course.default.find({\n    course_code: course_code\n  }, (err, course) => {\n    res.json(course);\n  }).catch(error => res.status(500).json(error));\n}); // For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \n\ncourseRoutes.put('/:course_code', (req, res) => {\n  console.log(req.body.difficulty);\n  let difficulty = parseInt(req.body.difficulty); // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n\n  let course = _course.default.find({\n    course_code: req.params.course_code\n  });\n\n  if (req.body.review && 6 > difficulty > 0) {\n    console.log(req.params.course_code); // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n\n    _course.default.findOneAndUpdate(course, {\n      \"$push\": {\n        \"reviews\": req.body.review\n      },\n      \"$push\": {\n        \"difficulty\": parseInt(req.body.difficulty)\n      }\n    }).then(course => res.json(course)).catch(err => res.status(500).json(err));\n  }\n}); // TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\nvar _default = courseRoutes;\nexports.default = _default;\n\nfunction containsCode(query) {\n  let codes = \"tma tdt ttm it tfy\";\n  return codes.includes(query.toLowerCase());\n}\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/;\n  return letters.test(query);\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/;\n  return numbers.test(query);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VSb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInJvdXRlIiwiZ2V0IiwiY29udGVudCIsInF1ZXJ5Iiwic3RyaW5nUXVlcnkiLCJPYmplY3QiLCJrZXlzIiwiYWxsTGV0dGVycyIsImNvbnRhaW5zQ29kZSIsImNvdXJzZV9jb2RlIiwiJHJlZ2V4IiwiUmVnRXhwIiwiJG9wdGlvbnMiLCJub3J3ZWdpYW5fbmFtZSIsImNvbnRhaW5zTnVtYmVyIiwiX2lkIiwiY3JlZGl0cyIsIk51bWJlciIsInRhdWdodF9pbl9zcHJpbmciLCJ0YXVnaHRfaW5fYXV0dW1uIiwibGVhcm5pbmdfZ29hbCIsImNvdXJzZXMiLCJDb3Vyc2UiLCJmaW5kIiwiZXJyIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwic29ydGluZyIsIm9yZGVyIiwicGFnZSIsInBhZ2VzIiwicGFyc2VJbnQiLCJsaW1pdCIsImxpbSIsInBhZ2luYXRlIiwic29ydCIsInRoZW4iLCJwYWdpbmF0ZWRfY29udGVudCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInBhcmFtcyIsImNvdXJzZSIsInB1dCIsImJvZHkiLCJkaWZmaWN1bHR5IiwicmV2aWV3IiwiZmluZE9uZUFuZFVwZGF0ZSIsImNvZGVzIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsImxldHRlcnMiLCJ0ZXN0IiwibnVtYmVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR0EsTUFBTUEsWUFBWSxHQUFHQyxpQkFBUUMsTUFBUixFQUFyQjs7QUFHQUYsWUFBWSxDQUFDRyxHQUFiLENBQWlCLG9CQUFqQixFLENBQ0U7O0FBQ0FILFlBQVksQ0FBQ0csR0FBYixDQUFpQixVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQ3hDRCxFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw2QkFBWCxFQUEwQyxHQUExQyxFQUR3QyxDQUNROztBQUNoREYsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsOEJBQVgsRUFBMkMsZ0RBQTNDO0FBQ0VGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLFVBQTNDLEVBSHNDLENBR2tCOztBQUN4REQsRUFBQUEsSUFBSTtBQUNULENBTEMsRSxDQU9GO0FBQ0E7QUFDQTs7QUFDQU4sWUFBWSxDQUFDUSxLQUFiLENBQW1CLEdBQW5CLEVBQXdCQyxHQUF4QixDQUE0QixnQkFBZUwsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFHakQ7QUFDQTtBQUNBLE1BQUlLLE9BQU8sR0FBRyxFQUFkO0FBQ0EsTUFBSUMsS0FBSyxHQUFHLE1BQU1QLEdBQUcsQ0FBQ08sS0FBdEI7QUFDQSxNQUFJQyxXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZSCxLQUFaLEVBQW1CLENBQW5CLENBQWxCLENBUGlELENBU2pEO0FBQ0E7O0FBQ0EsTUFBR0ksVUFBVSxDQUFDSCxXQUFELENBQWIsRUFBNEI7QUFDMUIsUUFBR0ksWUFBWSxDQUFDSixXQUFELENBQWYsRUFBOEI7QUFDNUJGLE1BQUFBLE9BQU8sQ0FBQ08sV0FBUixHQUFzQjtBQUFDQyxRQUFBQSxNQUFNLEVBQUVDLE1BQU0sQ0FBQ1AsV0FBRCxDQUFmO0FBQThCUSxRQUFBQSxRQUFRLEVBQUM7QUFBdkMsT0FBdEI7QUFDRCxLQUZELE1BR0s7QUFDSFYsTUFBQUEsT0FBTyxDQUFDVyxjQUFSLEdBQXlCO0FBQUNILFFBQUFBLE1BQU0sRUFBR0MsTUFBTSxDQUFDUCxXQUFELENBQWhCO0FBQStCUSxRQUFBQSxRQUFRLEVBQUM7QUFBeEMsT0FBekI7QUFDRDtBQUNGLEdBUEQsTUFRSyxJQUFJRSxjQUFjLENBQUNWLFdBQUQsQ0FBbEIsRUFBaUM7QUFDcENGLElBQUFBLE9BQU8sQ0FBQ08sV0FBUixHQUFzQjtBQUFDQyxNQUFBQSxNQUFNLEVBQUVDLE1BQU0sQ0FBQ1AsV0FBRCxDQUFmO0FBQThCUSxNQUFBQSxRQUFRLEVBQUM7QUFBdkMsS0FBdEI7QUFDRCxHQXJCZ0QsQ0F1QmpEOzs7QUFDQSxNQUFJVCxLQUFLLENBQUNZLEdBQVYsRUFBZTtBQUFFYixJQUFBQSxPQUFPLENBQUNhLEdBQVIsR0FBY1osS0FBSyxDQUFDWSxHQUFwQjtBQUF5QixHQXhCTyxDQXlCakQ7OztBQUNBLE1BQUlaLEtBQUssQ0FBQ2EsT0FBVixFQUFtQjtBQUFFZCxJQUFBQSxPQUFPLENBQUNjLE9BQVIsR0FBa0JDLE1BQU0sQ0FBQ2QsS0FBSyxDQUFDYSxPQUFQLENBQXhCO0FBQXdDLEdBMUJaLENBMkJqRDs7O0FBQ0EsTUFBSWIsS0FBSyxDQUFDZSxnQkFBVixFQUE0QjtBQUFFaEIsSUFBQUEsT0FBTyxDQUFDZ0IsZ0JBQVIsR0FBMkIsSUFBM0I7QUFBZ0M7O0FBQzlELE1BQUlmLEtBQUssQ0FBQ2dCLGdCQUFWLEVBQTRCO0FBQUVqQixJQUFBQSxPQUFPLENBQUNpQixnQkFBUixHQUEyQixJQUEzQjtBQUFnQzs7QUFDOUQsTUFBSWhCLEtBQUssQ0FBQ0QsT0FBVixFQUFtQjtBQUFFQSxJQUFBQSxPQUFPLENBQUNBLE9BQVIsR0FBa0I7QUFBQ1EsTUFBQUEsTUFBTSxFQUFFQyxNQUFNLENBQUNSLEtBQUssQ0FBQ0QsT0FBUCxDQUFmO0FBQWdDVSxNQUFBQSxRQUFRLEVBQUM7QUFBekMsS0FBbEI7QUFBaUU7O0FBQ3RGLE1BQUlULEtBQUssQ0FBQ2lCLGFBQVYsRUFBeUI7QUFBRWxCLElBQUFBLE9BQU8sQ0FBQ2tCLGFBQVIsR0FBd0I7QUFBQ1YsTUFBQUEsTUFBTSxFQUFFQyxNQUFNLENBQUNSLEtBQUssQ0FBQ2lCLGFBQVAsQ0FBZjtBQUFzQ1IsTUFBQUEsUUFBUSxFQUFDO0FBQS9DLEtBQXhCO0FBQTZFLEdBL0J2RCxDQWlDakQ7QUFDQTtBQUNBOzs7QUFDQSxRQUFNUyxPQUFPLEdBQUcsTUFBTUMsZ0JBQU9DLElBQVAsQ0FBYXJCLE9BQWIsRUFBdUIsVUFBU3NCLEdBQVQsRUFBY0gsT0FBZCxFQUF1QixDQUFFLENBQWhELEVBQWtESSxLQUFsRCxDQUF3REQsR0FBRyxJQUFJRSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsR0FBWixDQUEvRCxDQUF0QixDQXBDaUQsQ0FzQ2pEOztBQUNBLE1BQUlJLE9BQU8sR0FBR2hDLEdBQUcsQ0FBQ08sS0FBSixDQUFVeUIsT0FBVixHQUFvQmhDLEdBQUcsQ0FBQ08sS0FBSixDQUFVeUIsT0FBOUIsR0FBdUMsZ0JBQXJEO0FBQ0EsTUFBSUMsS0FBSyxHQUFHakMsR0FBRyxDQUFDTyxLQUFKLENBQVUwQixLQUFWLEdBQWtCakMsR0FBRyxDQUFDTyxLQUFKLENBQVUwQixLQUE1QixHQUFvQyxHQUFoRDtBQUNBLE1BQUlDLElBQUksR0FBR2xDLEdBQUcsQ0FBQ08sS0FBSixDQUFVMkIsSUFBVixHQUFpQmxDLEdBQUcsQ0FBQ08sS0FBSixDQUFVMkIsSUFBM0IsR0FBa0MsQ0FBN0M7QUFDQSxNQUFJQyxLQUFLLEdBQUNDLFFBQVEsQ0FBQ0YsSUFBRCxDQUFsQjtBQUNBLE1BQUlHLEtBQUssR0FBR3JDLEdBQUcsQ0FBQ08sS0FBSixDQUFVOEIsS0FBVixHQUFrQnJDLEdBQUcsQ0FBQ08sS0FBSixDQUFVOEIsS0FBNUIsR0FBb0MsRUFBaEQ7QUFDQSxNQUFJQyxHQUFHLEdBQUNGLFFBQVEsQ0FBQ0MsS0FBRCxDQUFoQixDQTVDaUQsQ0E4Q2pEO0FBQ0E7O0FBQ0FYLGtCQUFPYSxRQUFQLENBQWdCakMsT0FBaEIsRUFDSTtBQUFJNEIsSUFBQUEsSUFBSSxFQUFFQyxLQUFWO0FBQ0lFLElBQUFBLEtBQUssRUFBRUMsR0FEWDtBQUVJRSxJQUFBQSxJQUFJLEVBQUU7QUFBQyxPQUFDUixPQUFELEdBQVUsQ0FBQ0MsS0FBRDtBQUFYO0FBRlYsR0FESixFQUtLUSxJQUxMLENBS1VDLGlCQUFpQixJQUFJO0FBQ3ZCO0FBQ0F6QyxJQUFBQSxHQUFHLENBQUMwQyxJQUFKLENBQVNELGlCQUFUO0FBQ0gsR0FSTCxFQVNLYixLQVRMLENBU1dlLEtBQUssSUFBSTtBQUNaO0FBQ0YzQyxJQUFBQSxHQUFHLENBQUM0QyxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUJDLEtBQXJCO0FBQ0QsR0FaTDtBQWFILENBN0RELEUsQ0ErREE7O0FBQ0FoRCxZQUFZLENBQUNRLEtBQWIsQ0FBbUIsZUFBbkIsRUFBb0NDLEdBQXBDLENBQXdDLE9BQU9MLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN4RCxNQUFJWSxXQUFXLEdBQUdiLEdBQUcsQ0FBQzhDLE1BQUosQ0FBV2pDLFdBQTdCO0FBQ0FrQyxFQUFBQSxNQUFNLEdBQUcsTUFBTXJCLGdCQUFPQyxJQUFQLENBQVk7QUFBQ2QsSUFBQUEsV0FBVyxFQUFHQTtBQUFmLEdBQVosRUFBeUMsQ0FBQ2UsR0FBRCxFQUFNbUIsTUFBTixLQUFpQjtBQUNyRTlDLElBQUFBLEdBQUcsQ0FBQzBDLElBQUosQ0FBU0ksTUFBVDtBQUNILEdBRmMsRUFFWmxCLEtBRlksQ0FFTmUsS0FBSyxJQUFJM0MsR0FBRyxDQUFDNEMsTUFBSixDQUFXLEdBQVgsRUFBZ0JGLElBQWhCLENBQXFCQyxLQUFyQixDQUZILENBQWY7QUFHSCxDQUxELEUsQ0FRQTtBQUNBOztBQUNBaEQsWUFBWSxDQUFDb0QsR0FBYixDQUFpQixlQUFqQixFQUFrQyxDQUFDaEQsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDNUM2QixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWS9CLEdBQUcsQ0FBQ2lELElBQUosQ0FBU0MsVUFBckI7QUFDQSxNQUFJQSxVQUFVLEdBQUdkLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQ2lELElBQUosQ0FBU0MsVUFBVixDQUF6QixDQUY0QyxDQUc1Qzs7QUFDQSxNQUFJSCxNQUFNLEdBQUdyQixnQkFBT0MsSUFBUCxDQUFZO0FBQUNkLElBQUFBLFdBQVcsRUFBR2IsR0FBRyxDQUFDOEMsTUFBSixDQUFXakM7QUFBMUIsR0FBWixDQUFiOztBQUNBLE1BQUliLEdBQUcsQ0FBQ2lELElBQUosQ0FBU0UsTUFBVCxJQUFtQixJQUFFRCxVQUFGLEdBQWEsQ0FBcEMsRUFBdUM7QUFDbkNwQixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWS9CLEdBQUcsQ0FBQzhDLE1BQUosQ0FBV2pDLFdBQXZCLEVBRG1DLENBRW5DOztBQUNBYSxvQkFBTzBCLGdCQUFQLENBQXdCTCxNQUF4QixFQUFnQztBQUFDLGVBQVM7QUFBRSxtQkFBVy9DLEdBQUcsQ0FBQ2lELElBQUosQ0FBU0U7QUFBdEIsT0FBVjtBQUEyQyxlQUFVO0FBQUMsc0JBQWVmLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQ2lELElBQUosQ0FBU0MsVUFBVjtBQUF4QjtBQUFyRCxLQUFoQyxFQUNDVCxJQURELENBQ01NLE1BQU0sSUFBSTlDLEdBQUcsQ0FBQzBDLElBQUosQ0FBU0ksTUFBVCxDQURoQixFQUVDbEIsS0FGRCxDQUVPRCxHQUFHLElBQUkzQixHQUFHLENBQUM0QyxNQUFKLENBQVcsR0FBWCxFQUFnQkYsSUFBaEIsQ0FBcUJmLEdBQXJCLENBRmQ7QUFHSDtBQUNKLENBWkQsRSxDQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztlQUdlaEMsWTs7O0FBRWYsU0FBU2dCLFlBQVQsQ0FBc0JMLEtBQXRCLEVBQTZCO0FBQzNCLE1BQUk4QyxLQUFLLEdBQUcsb0JBQVo7QUFDQSxTQUFPQSxLQUFLLENBQUNDLFFBQU4sQ0FBZS9DLEtBQUssQ0FBQ2dELFdBQU4sRUFBZixDQUFQO0FBQ0Q7O0FBR0QsU0FBUzVDLFVBQVQsQ0FBb0JKLEtBQXBCLEVBQTJCO0FBQ3pCLE1BQUlpRCxPQUFPLEdBQUcsYUFBZDtBQUNBLFNBQU9BLE9BQU8sQ0FBQ0MsSUFBUixDQUFhbEQsS0FBYixDQUFQO0FBQ0Q7O0FBRUQsU0FBU1csY0FBVCxDQUF3QlgsS0FBeEIsRUFBK0I7QUFDN0IsTUFBSW1ELE9BQU8sR0FBRyxJQUFkO0FBQ0EsU0FBT0EsT0FBTyxDQUFDRCxJQUFSLENBQWFsRCxLQUFiLENBQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvVmljdG9yL0RvY3VtZW50cy9OVE5VL0gyMDE5L1dlYnV0dmlrbGluZy9wcm9zamVrdF8zL2JhY2tlbmQvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBDb3Vyc2UgZnJvbSAnLi4vbW9kZWxzL2NvdXJzZS5tb2RlbCc7XG5pbXBvcnQgeyBtb2RlbCB9IGZyb20gJ21vbmdvb3NlJztcblxuXG5jb25zdCBjb3Vyc2VSb3V0ZXMgPSBleHByZXNzLlJvdXRlcigpXG5cblxuY291cnNlUm91dGVzLnVzZShjb3JzKCkpO1xuICAvLyBBbGxvdyBjbGllbnQgdG8gZmV0Y2ggZGF0YVxuICBjb3Vyc2VSb3V0ZXMudXNlKGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTsgLy8gQ2FuIGNoYW5nZSAqIHRvIGFsbG93IHJlcXVlc3QgZnJvbSBzcGVjaWZpYyBjbGllbnRzLiBJbiB0aGlzIHByb2plY3Qgd2UgZG9udCBjYXJlIHRvIGhhbmRsZSBzZWN1cml0eSBpc3N1ZXMuXG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUFVUJyk7IC8vIFdlIG9ubHkgYWxsb3cgR0VUIGFuZCBQVVQgcmVxdWVzdHMuIE9uIHB1cnBvc2UsIHdlIGRlY2lkZWQgdG8gbm90IGhhdmUgYW55IGZ1bmN0aW9uYWxpdHkgdG8gYWRkIGNvdXJzZXMsIG5laXRoZXIgZGVsZXRlIHRoZW0uXG4gICAgICBuZXh0KCk7XG59KTtcblxuLy8gVGhlIGZ1bmN0aW9uIHBhc3NlZCBpbnRvIHRoZSBnZXQgZnVuY3Rpb24gaGFuZGxlcyBhbGwgR0VUIHJlcXVlc3RzIHNlbnQgdG8gaXQyODEwLTM5LmlkaS5udG51Lm5vOjxQT1JULU5VTUJFUj4vY291cnNlcyBcbi8vIEZ1cnRoZXIgb24sIHdlJ3JlIGNhbGxpbmcgQ291cnNlLmZpbmQgdG8gZ2V0IGEgbGlzdCBvZiBhbGwgY291cnNlIGl0ZW1zIGZyb20gdGhlIE1vbmdvREIuIFRoZSBmaW5kIGZ1bmN0aW9uIHRha2VzIG9uZSBhcmd1bWVudCwgYSBjYWxsYmFjayBmdW5jdGlvblxuLy8gd2hpY2ggaXMgZXhlY3V0ZWQgb25jZSB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gQWxsIHJlc3VsdHMgYXZhaWxhYmxlIGluIGNvdXJzZXMgYXJlIGFkZGVkIGluIEpTT04gZm9ybWF0IHRvIHRoZSByZXNwb25zZSBieSBjYWxsaW5nIHJlcy5qc29uKGNvdXJzZXMpLlxuY291cnNlUm91dGVzLnJvdXRlKCcvJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgXG5cbiAgICAvLyBTYXZpbmcgYWxsIHBvc3NpYmxlIGF0dHJpYnV0ZXMgZm9yIGEgY291cnNlIGRvY3VtZW50IGluIHRoZSBjb2xsZWN0aW9uIGluIGNvbnRlbnQgb2JqZWN0LiBcbiAgICAvLyBDaGVja3MgaWYgYXR0cmlidXRlIGV4aXN0cyBvbiByZXEucXVlcnkgYW5kIHNhdmVzIGl0IGlmIGl0IGV4aXN0cy5cbiAgICBsZXQgY29udGVudCA9IHt9O1xuICAgIGxldCBxdWVyeSA9IGF3YWl0IHJlcS5xdWVyeTtcbiAgICB2YXIgc3RyaW5nUXVlcnkgPSBPYmplY3Qua2V5cyhxdWVyeSlbMF1cblxuICAgIC8vQ2hlY2sgaW5wdXQgZnJvbSBzZWFyY2ggYmFyLiBVc2VyIG9ubHkgc2VhcmNoZXMgZm9yIG5vcndlZ2lhbl9uYW1lIG9nIGNvdXJzZV9jb2RlXG4gICAgLy9GaWx0ZXJzIHRoZSBvdGhlciBvcGlvbnNcbiAgICBpZihhbGxMZXR0ZXJzKHN0cmluZ1F1ZXJ5KSkge1xuICAgICAgaWYoY29udGFpbnNDb2RlKHN0cmluZ1F1ZXJ5KSkge1xuICAgICAgICBjb250ZW50LmNvdXJzZV9jb2RlID0geyRyZWdleDogUmVnRXhwKHN0cmluZ1F1ZXJ5KSwgJG9wdGlvbnM6Jy1pJ31cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50Lm5vcndlZ2lhbl9uYW1lID0geyRyZWdleCA6IFJlZ0V4cChzdHJpbmdRdWVyeSksICRvcHRpb25zOictaSd9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRhaW5zTnVtYmVyKHN0cmluZ1F1ZXJ5KSkge1xuICAgICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXg6IFJlZ0V4cChzdHJpbmdRdWVyeSksICRvcHRpb25zOictaSd9XG4gICAgfVxuXG4gICAgLy9NYWtlcyBxdWVyeSBmcm9tIHVzZXIgY2hvc2VuIGZpbHRlcmluZ1xuICAgIGlmIChxdWVyeS5faWQpIHsgY29udGVudC5faWQgPSBxdWVyeS5faWQgfSBcbiAgICAvLyBpZiAocXVlcnkuY291cnNlX2NvZGUpIHsgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXg6IFJlZ0V4cChxdWVyeS5jb3Vyc2VfY29kZSksICRvcHRpb25zOictaSd9fVxuICAgIGlmIChxdWVyeS5jcmVkaXRzKSB7IGNvbnRlbnQuY3JlZGl0cyA9IE51bWJlcihxdWVyeS5jcmVkaXRzKX1cbiAgICAvLyBpZiAocXVlcnkubm9yd2VnaWFuX25hbWUpIHsgY29udGVudC5ub3J3ZWdpYW5fbmFtZSA9IHskcmVnZXggOiBSZWdFeHAocXVlcnkubm9yd2VnaWFuX25hbWUpLCAkb3B0aW9uczonLWknfX1cbiAgICBpZiAocXVlcnkudGF1Z2h0X2luX3NwcmluZykgeyBjb250ZW50LnRhdWdodF9pbl9zcHJpbmcgPSB0cnVlfSBcbiAgICBpZiAocXVlcnkudGF1Z2h0X2luX2F1dHVtbikgeyBjb250ZW50LnRhdWdodF9pbl9hdXR1bW4gPSB0cnVlfSBcbiAgICBpZiAocXVlcnkuY29udGVudCkgeyBjb250ZW50LmNvbnRlbnQgPSB7JHJlZ2V4OiBSZWdFeHAocXVlcnkuY29udGVudCksICRvcHRpb25zOictaSd9fVxuICAgIGlmIChxdWVyeS5sZWFybmluZ19nb2FsKSB7IGNvbnRlbnQubGVhcm5pbmdfZ29hbCA9IHskcmVnZXg6IFJlZ0V4cChxdWVyeS5sZWFybmluZ19nb2FsKSwgJG9wdGlvbnM6Jy1pJ319XG5cbiAgICAvLyBTeW50YXggdG8gZmluZCBwYXJ0aWFsIG1hdGNoIGJ5IHVzaW5nIE1vbmdvREIgZmluZCgpLWZ1bmN0aW9uOlxuICAgIC8vIGZpbmQoKHtub3J3ZWdpYW5fbmFtZSA6IHskcmVnZXggOiAvQXZhL319KVxuICAgIC8vIGNvbnNvbGUubG9nKGNvbnRlbnQpXG4gICAgY29uc3QgY291cnNlcyA9IGF3YWl0IENvdXJzZS5maW5kKChjb250ZW50KSwgZnVuY3Rpb24oZXJyLCBjb3Vyc2VzKSB7fSkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgIFxuICAgIC8vIFZhbHVlcyByZXRyaWV2ZWQgYnkgdGhlIHF1ZXJ5LCBlbHNlIHNldCB0byBkZWZhdWx0IHZhbHVlcy4gVXNlZCBpbiBwYWdpbmF0aW9uIGFuZCBzb3J0aW5nIG9mIHJlc3VsdHMuXG4gICAgbGV0IHNvcnRpbmcgPSByZXEucXVlcnkuc29ydGluZyA/IHJlcS5xdWVyeS5zb3J0aW5nOiAnbm9yd2VnaWFuX25hbWUnO1xuICAgIGxldCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciA/IHJlcS5xdWVyeS5vcmRlciA6ICcxJztcbiAgICBsZXQgcGFnZSA9IHJlcS5xdWVyeS5wYWdlID8gcmVxLnF1ZXJ5LnBhZ2UgOiAxO1xuICAgIGxldCBwYWdlcz1wYXJzZUludChwYWdlKTtcbiAgICBsZXQgbGltaXQgPSByZXEucXVlcnkubGltaXQgPyByZXEucXVlcnkubGltaXQgOiAxMDtcbiAgICBsZXQgbGltPXBhcnNlSW50KGxpbWl0KTtcblxuICAgIC8vIFVzZXMgbW9uZ29vc2UtcGFnaW5hdGUgdG8gcGFnaW5hdGUgcmVzdWx0cy4gUGx1Z2luIGluIGltcG9ydGVkIGluIHRoZSBjb3Vyc2UubW9kZWwuanMuIFJlc3BvbnNlIHRvIGNsaWVudCBpcyBzZW50IGluIHRoaXMgZnVuY3Rpb24uIFxuICAgIC8vIFRha2VzIHRvIGFyZ3VtZW50cy4gT25lIGNvbnRlbnQgb2JqZWN0LCBhbmQgb25lIG9iamVjdCBjb250YWluaW5nIHBhZ2VzLCBwYWdlIGxpbWl0IGFuZCB3aGF0IHRvIHNvcnQgYnkuXG4gICAgQ291cnNlLnBhZ2luYXRlKGNvbnRlbnQsXG4gICAgICAgIHsgICBwYWdlOiBwYWdlcyxcbiAgICAgICAgICAgIGxpbWl0OiBsaW0sXG4gICAgICAgICAgICBzb3J0OiB7W3NvcnRpbmddOltvcmRlcl19XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHBhZ2luYXRlZF9jb250ZW50ID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSBjb250ZW50IGluIGpzb24oKSBpcyB3aGF0IGlzIGJlaW5nIHJldHVybmVkIGluIHRoZSBIVFRQIFJlc3BvbnNlLiBJbiB0aGlzIGNhc2UgcGFnaW5hdGVkX2NvbnRlbnQgaXMgdGhlIGVudGlyZSBwYWdlIGNvbnRhaW5pbmcgYWxsICNwYWdlIG9mIG9iamVjdHNcbiAgICAgICAgICAgIHJlcy5qc29uKHBhZ2luYXRlZF9jb250ZW50KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgZXJyb3IsIHJldHVybiBzdGF0dXMgNTAwIGFuZCBlcnJvciBtZXNzYWdlLlxuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycm9yKTtcbiAgICAgICAgfSlcbn0pO1xuXG4vLyBUaGlzIHBhdGggZW5kcG9pbnQgaXMgdXNlZCB0byByZXRyaWV2ZSBhIGNvdXJzZSBieSBpdHMgY291cnNlX2NvZGUuIFRoaXMgd2lsbCByZXR1cm4gYSBjb3Vyc2Ugb2JqZWN0IGluIEpTT04gZm9ybWF0IGFzIHJlc3BvbnNlIHRvIGEgR0VUIHJlcXVlc3Qgb24gY291cnNlX2NvZGUuXG5jb3Vyc2VSb3V0ZXMucm91dGUoJy86Y291cnNlX2NvZGUnKS5nZXQoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgbGV0IGNvdXJzZV9jb2RlID0gcmVxLnBhcmFtcy5jb3Vyc2VfY29kZTtcbiAgICBjb3Vyc2UgPSBhd2FpdCBDb3Vyc2UuZmluZCh7Y291cnNlX2NvZGUgOiBjb3Vyc2VfY29kZX0sIChlcnIsIGNvdXJzZSkgPT4ge1xuICAgICAgICByZXMuanNvbihjb3Vyc2UpO1xuICAgIH0pLmNhdGNoKGVycm9yID0+IHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycm9yKSk7XG59KTtcblxuXG4vLyBGb3IgdXBkYXRpbmcgcm93cyBpbiBjb2xsZWN0aW9uIHdpdGggcmV2aWV3cyBhbmQgcmF0ZWQgZGlmZmljdWx0eS4gUFVUIHJlcXVlc3RzIHRvIGl0MjgxMC4zOS5pZGkubnRudS5ubzozMDAxL2NvdXJzZXMvPENPVVJTRV9DT0RFPiB3aWxsIHVwZGF0ZSB0aGUgY291cnNlIFxuLy8gaWYgdGhlIHJlcXVlc3QgY29udGFpbnMgYSByZXZpZXcgQU5EIGEgZGlmZmljdWx0eS4gXG5jb3Vyc2VSb3V0ZXMucHV0KCcvOmNvdXJzZV9jb2RlJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkuZGlmZmljdWx0eSlcbiAgICBsZXQgZGlmZmljdWx0eSA9IHBhcnNlSW50KHJlcS5ib2R5LmRpZmZpY3VsdHkpXG4gICAgLy8gRmluZCB0aGUgY29ycmVjdCBjb3Vyc2UgaW4gdGhlIERCLiBDb3Vyc2VfY29kZSBpcyBhIHByaW1hcnkga2V5LCBhbmQgdGhlIHNlYXJjaCB3aWxsIGFsd2F5cyByZXR1cm4gb25lIHJlc3VsdC5cbiAgICBsZXQgY291cnNlID0gQ291cnNlLmZpbmQoe2NvdXJzZV9jb2RlIDogcmVxLnBhcmFtcy5jb3Vyc2VfY29kZX0pXG4gICAgaWYgKHJlcS5ib2R5LnJldmlldyAmJiA2PmRpZmZpY3VsdHk+MCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLmNvdXJzZV9jb2RlKVxuICAgICAgICAvLyBGaW5kIGRvY3VtZW50IFwiY291cnNlXCIgaW4gZGIgYW5kIHB1c2ggdGhlIHJldmlldyB0byB0aGUgcmV2aWV3IGFycmF5IG9uIHRoZSBkb2N1bWVudC4gQWxzbyB1cGRhdGUgZGlmZmljdWx0eSB0byBuZXcgYXZlcmFnZS5cbiAgICAgICAgQ291cnNlLmZpbmRPbmVBbmRVcGRhdGUoY291cnNlLCB7XCIkcHVzaFwiOiB7IFwicmV2aWV3c1wiOiByZXEuYm9keS5yZXZpZXcgfSwgIFwiJHB1c2hcIiA6IHtcImRpZmZpY3VsdHlcIiA6IHBhcnNlSW50KHJlcS5ib2R5LmRpZmZpY3VsdHkpfX0pXG4gICAgICAgIC50aGVuKGNvdXJzZSA9PiByZXMuanNvbihjb3Vyc2UpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycikpICAgXG4gICAgfSAgICBcbn0pO1xuXG5cblxuLy8gVE9ETzogUmV3cml0ZSB0aGlzIHRvIGhhbmRsZSBhZGRpbmcgcmV2aWV3cyBvZiBjb3Vyc2VzXG4vLyBjb3Vyc2VSb3V0ZXMucm91dGUoJy86Y291cnNlX2NvZGUvYWRkJykucG9zdChmdW5jdGlvbihyZXEsIHJlcykge1xuLy8gICAgIGxldCBjb3Vyc2UgPSBuZXcgQ291cnNlKHJlcS5ib2R5KTtcbi8vICAgICBjb3Vyc2Uuc2F2ZSgpXG4vLyAgICAgICAgIC50aGVuKGNvdXJzZSA9PiB7XG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7J0NvdXJzZSc6ICdSZXZpZXdzIGFkZGVkIHN1Y2Nlc3NmdWxseS4nfSk7XG4vLyAgICAgICAgIH0pXG4vLyAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuLy8gICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0FkZGluZyBuZXcgcmV2aWV3IHRvIGNvdXJzZSwgJywgY291cnNlLCAnLCBmYWlsZWQnKTtcbi8vICAgICAgICAgfSk7XG4vLyB9KTtcblxuXG5leHBvcnQgZGVmYXVsdCBjb3Vyc2VSb3V0ZXM7XG5cbmZ1bmN0aW9uIGNvbnRhaW5zQ29kZShxdWVyeSkge1xuICBsZXQgY29kZXMgPSBcInRtYSB0ZHQgdHRtIGl0IHRmeVwiXG4gIHJldHVybiBjb2Rlcy5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxufVxuXG5cbmZ1bmN0aW9uIGFsbExldHRlcnMocXVlcnkpIHtcbiAgbGV0IGxldHRlcnMgPSAvXltBLVphLXpdKyQvXG4gIHJldHVybiBsZXR0ZXJzLnRlc3QocXVlcnkpXG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5zTnVtYmVyKHF1ZXJ5KSB7XG4gIGxldCBudW1iZXJzID0gL1xcZC9cbiAgcmV0dXJuIG51bWJlcnMudGVzdChxdWVyeSlcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "course.js"
      ],
      "names": [
        "courseRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "content",
        "query",
        "stringQuery",
        "Object",
        "keys",
        "allLetters",
        "containsCode",
        "course_code",
        "$regex",
        "RegExp",
        "$options",
        "norwegian_name",
        "containsNumber",
        "_id",
        "credits",
        "Number",
        "taught_in_spring",
        "taught_in_autumn",
        "learning_goal",
        "courses",
        "Course",
        "find",
        "err",
        "catch",
        "console",
        "log",
        "sorting",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "paginate",
        "sort",
        "then",
        "paginated_content",
        "json",
        "error",
        "status",
        "params",
        "course",
        "put",
        "body",
        "difficulty",
        "review",
        "findOneAndUpdate",
        "codes",
        "includes",
        "toLowerCase",
        "letters",
        "test",
        "numbers"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import express from 'express';\nimport cors from 'cors';\nimport Course from '../models/course.model';\nimport { model } from 'mongoose';\n\n\nconst courseRoutes = express.Router()\n\n\ncourseRoutes.use(cors());\n  // Allow client to fetch data\n  courseRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ncourseRoutes.route('/').get(async function(req, res) {\n    \n\n    // Saving all possible attributes for a course document in the collection in content object. \n    // Checks if attribute exists on req.query and saves it if it exists.\n    let content = {};\n    let query = await req.query;\n    var stringQuery = Object.keys(query)[0]\n\n    //Check input from search bar. User only searches for norwegian_name og course_code\n    //Filters the other opions\n    if(allLetters(stringQuery)) {\n      if(containsCode(stringQuery)) {\n        content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n      }\n      else {\n        content.norwegian_name = {$regex : RegExp(stringQuery), $options:'-i'}\n      }\n    }\n    else if (containsNumber(stringQuery)) {\n      content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n    }\n\n    //Makes query from user chosen filtering\n    if (query._id) { content._id = query._id } \n    // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n    if (query.credits) { content.credits = Number(query.credits)}\n    // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n    if (query.taught_in_spring) { content.taught_in_spring = true} \n    if (query.taught_in_autumn) { content.taught_in_autumn = true} \n    if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n    if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n\n    // Syntax to find partial match by using MongoDB find()-function:\n    // find(({norwegian_name : {$regex : /Ava/}})\n    // console.log(content)\n    const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n    \n    // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n    let sorting = req.query.sorting ? req.query.sorting: 'norwegian_name';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n\n    // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n    // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n    Course.paginate(content,\n        {   page: pages,\n            limit: lim,\n            sort: {[sorting]:[order]}\n        })\n        .then(paginated_content => {\n            // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n            res.json(paginated_content);\n        })\n        .catch(error => {\n            // In case of error, return status 500 and error message.\n          res.status(500).json(error);\n        })\n});\n\n// This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n    let course_code = req.params.course_code;\n    course = await Course.find({course_code : course_code}, (err, course) => {\n        res.json(course);\n    }).catch(error => res.status(500).json(error));\n});\n\n\n// For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \ncourseRoutes.put('/:course_code', (req, res) => {\n    console.log(req.body.difficulty)\n    let difficulty = parseInt(req.body.difficulty)\n    // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n    let course = Course.find({course_code : req.params.course_code})\n    if (req.body.review && 6>difficulty>0) {\n        console.log(req.params.course_code)\n        // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n        Course.findOneAndUpdate(course, {\"$push\": { \"reviews\": req.body.review },  \"$push\" : {\"difficulty\" : parseInt(req.body.difficulty)}})\n        .then(course => res.json(course))\n        .catch(err => res.status(500).json(err))   \n    }    \n});\n\n\n\n// TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\n\nexport default courseRoutes;\n\nfunction containsCode(query) {\n  let codes = \"tma tdt ttm it tfy\"\n  return codes.includes(query.toLowerCase())\n}\n\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/\n  return letters.test(query)\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/\n  return numbers.test(query)\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1571671384795
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
        "sourceFileName": "course.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Course = new Schema({\n  norwegian_name: {\n    type: String\n  },\n  course_code: {\n    type: String\n  },\n  credit: {\n    type: Number\n  },\n  taught_in_spring: {\n    type: Boolean\n  },\n  taught_in_autumn: {\n    type: Boolean\n  },\n  content: {\n    type: String\n  },\n  learning_goal: {\n    type: String\n  },\n  reviews: {\n    type: Array\n  },\n  difficulty: {\n    type: Array\n  }\n}, {\n  collection: 'courses'\n});\nCourse.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Course', Course);\nvar _default = Course;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvdXJzZSIsIm5vcndlZ2lhbl9uYW1lIiwidHlwZSIsIlN0cmluZyIsImNvdXJzZV9jb2RlIiwiY3JlZGl0IiwiTnVtYmVyIiwidGF1Z2h0X2luX3NwcmluZyIsIkJvb2xlYW4iLCJ0YXVnaHRfaW5fYXV0dW1uIiwiY29udGVudCIsImxlYXJuaW5nX2dvYWwiLCJyZXZpZXdzIiwiQXJyYXkiLCJkaWZmaWN1bHR5IiwiY29sbGVjdGlvbiIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsSUFBSUUsTUFBTSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUNwQkcsRUFBQUEsY0FBYyxFQUFFO0FBQ1pDLElBQUFBLElBQUksRUFBRUM7QUFETSxHQURJO0FBSXBCQyxFQUFBQSxXQUFXLEVBQUc7QUFDVkYsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBSk07QUFPcEJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKSCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FQWTtBQVVwQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDZEwsSUFBQUEsSUFBSSxFQUFFTTtBQURRLEdBVkU7QUFhcEJDLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRU07QUFEUSxHQWJFO0FBZ0JwQkUsRUFBQUEsT0FBTyxFQUFFO0FBQ0xSLElBQUFBLElBQUksRUFBRUM7QUFERCxHQWhCVztBQW1CcEJRLEVBQUFBLGFBQWEsRUFBRTtBQUNYVCxJQUFBQSxJQUFJLEVBQUVDO0FBREssR0FuQks7QUFzQnBCUyxFQUFBQSxPQUFPLEVBQUU7QUFDTFYsSUFBQUEsSUFBSSxFQUFFVztBQURELEdBdEJXO0FBeUJwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JaLElBQUFBLElBQUksRUFBRVc7QUFERTtBQXpCUSxDQUFYLEVBNkJUO0FBQUVFLEVBQUFBLFVBQVUsRUFBRztBQUFmLENBN0JTLENBQWI7QUFnQ0lmLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY0MseUJBQWQ7QUFHSkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsa0JBQVNxQixLQUFULENBQWUsUUFBZixFQUF5QnBCLE1BQXpCLENBQWpCO2VBRWVBLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL1ZpY3Rvci9Eb2N1bWVudHMvTlROVS9IMjAxOS9XZWJ1dHZpa2xpbmcvcHJvc2pla3RfMy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlJztcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgQ291cnNlID0gbmV3IFNjaGVtYSh7XG4gICAgbm9yd2VnaWFuX25hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjb3Vyc2VfY29kZSA6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjcmVkaXQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyXG4gICAgfSxcbiAgICB0YXVnaHRfaW5fc3ByaW5nOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9LFxuICAgIHRhdWdodF9pbl9hdXR1bW46IHtcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGxlYXJuaW5nX2dvYWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICByZXZpZXdzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfSxcbiAgICBkaWZmaWN1bHR5OiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfVxuICAgIH0sXG4gICAgeyBjb2xsZWN0aW9uIDogJ2NvdXJzZXMnIH1cbiAgICApXG5cbiAgICBDb3Vyc2UucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0NvdXJzZScsIENvdXJzZSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvdXJzZTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "course.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Course",
        "norwegian_name",
        "type",
        "String",
        "course_code",
        "credit",
        "Number",
        "taught_in_spring",
        "Boolean",
        "taught_in_autumn",
        "content",
        "learning_goal",
        "reviews",
        "Array",
        "difficulty",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACpBG,EAAAA,cAAc,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADI;AAIpBC,EAAAA,WAAW,EAAG;AACVF,IAAAA,IAAI,EAAEC;AADI,GAJM;AAOpBE,EAAAA,MAAM,EAAE;AACJH,IAAAA,IAAI,EAAEI;AADF,GAPY;AAUpBC,EAAAA,gBAAgB,EAAE;AACdL,IAAAA,IAAI,EAAEM;AADQ,GAVE;AAapBC,EAAAA,gBAAgB,EAAE;AACdP,IAAAA,IAAI,EAAEM;AADQ,GAbE;AAgBpBE,EAAAA,OAAO,EAAE;AACLR,IAAAA,IAAI,EAAEC;AADD,GAhBW;AAmBpBQ,EAAAA,aAAa,EAAE;AACXT,IAAAA,IAAI,EAAEC;AADK,GAnBK;AAsBpBS,EAAAA,OAAO,EAAE;AACLV,IAAAA,IAAI,EAAEW;AADD,GAtBW;AAyBpBC,EAAAA,UAAU,EAAE;AACRZ,IAAAA,IAAI,EAAEW;AADE;AAzBQ,CAAX,EA6BT;AAAEE,EAAAA,UAAU,EAAG;AAAf,CA7BS,CAAb;AAgCIf,MAAM,CAACgB,MAAP,CAAcC,yBAAd;AAGJC,MAAM,CAACC,OAAP,GAAiBpB,kBAASqB,KAAT,CAAe,QAAf,EAAyBpB,MAAzB,CAAjB;eAEeA,M",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Course = new Schema({\n    norwegian_name: {\n        type: String\n    },\n    course_code : {\n        type: String\n    },\n    credit: {\n        type: Number\n    },\n    taught_in_spring: {\n        type: Boolean\n    },\n    taught_in_autumn: {\n        type: Boolean\n    },\n    content: {\n        type: String\n    },\n    learning_goal: {\n        type: String\n    },\n    reviews: {\n        type: Array\n    },\n    difficulty: {\n        type: Array\n    }\n    },\n    { collection : 'courses' }\n    )\n\n    Course.plugin(mongoosePaginate);\n\n\nmodule.exports = mongoose.model('Course', Course);\n\nexport default Course;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571647434424
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "grades.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _grades = _interopRequireDefault(require(\"../models/grades.model\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst gradeRoutes = _express.default.Router();\n\ngradeRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ngradeRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n  next();\n}); // The function passed into the get function handles all GET requests sent to /grades \n// Further on, we're calling Grades.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ngradeRoutes.route('/').get(async function (req, res) {\n  let sorting = req.query.sorting ? req.query.sorting : 'semester_code';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n  // Saving all possible attributes for a course document in the collection in content object\n\n  let content = {};\n  content.course_code = req.baseUrl.split('/')[2]; // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n  // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n\n  const grades = await _grades.default.find(content);\n  console.log(grades[0]); // The content in json() is what is being returned in the HTTP Response\n  // res.status(200).json(grades).send();\n\n  _grades.default.paginate(grades[0], {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(page => {\n    res.json(page);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}); // Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\n\ngradeRoutes.route('/:course_code').get(async function (req, res) {\n  let course_code = req.params.course_code;\n  const grades = await _grades.default.find({\n    course_code: course_code\n  }, function (err, grades) {\n    res.json(grades);\n  });\n  res.status(200).json(grades).send();\n});\nvar _default = gradeRoutes; // Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5qcyJdLCJuYW1lcyI6WyJncmFkZVJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicm91dGUiLCJnZXQiLCJzb3J0aW5nIiwicXVlcnkiLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJjb250ZW50IiwiY291cnNlX2NvZGUiLCJiYXNlVXJsIiwic3BsaXQiLCJncmFkZXMiLCJHcmFkZSIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzb3J0IiwidGhlbiIsImpzb24iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsInBhcmFtcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixvQkFBaEIsRSxDQUNFOztBQUNBSCxXQUFXLENBQUNHLEdBQVosQ0FBZ0IsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN2Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEdUMsQ0FDUzs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNFRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0M7QUFDQUQsRUFBQUEsSUFBSTtBQUNULENBTEMsRSxDQU9GO0FBQ0E7QUFDQTs7QUFDQU4sV0FBVyxDQUFDUSxLQUFaLENBQWtCLEdBQWxCLEVBQXVCQyxHQUF2QixDQUEyQixnQkFBZUwsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFDaEQsTUFBSUssT0FBTyxHQUFHTixHQUFHLENBQUNPLEtBQUosQ0FBVUQsT0FBVixHQUFvQk4sR0FBRyxDQUFDTyxLQUFKLENBQVVELE9BQTlCLEdBQXVDLGVBQXJEO0FBQ0EsTUFBSUUsS0FBSyxHQUFHUixHQUFHLENBQUNPLEtBQUosQ0FBVUMsS0FBVixHQUFrQlIsR0FBRyxDQUFDTyxLQUFKLENBQVVDLEtBQTVCLEdBQW9DLEdBQWhEO0FBQ0EsTUFBSUMsSUFBSSxHQUFHVCxHQUFHLENBQUNPLEtBQUosQ0FBVUUsSUFBVixHQUFpQlQsR0FBRyxDQUFDTyxLQUFKLENBQVVFLElBQTNCLEdBQWtDLENBQTdDO0FBQ0EsTUFBSUMsS0FBSyxHQUFDQyxRQUFRLENBQUNGLElBQUQsQ0FBbEI7QUFDQSxNQUFJRyxLQUFLLEdBQUdaLEdBQUcsQ0FBQ08sS0FBSixDQUFVSyxLQUFWLEdBQWtCWixHQUFHLENBQUNPLEtBQUosQ0FBVUssS0FBNUIsR0FBb0MsRUFBaEQ7QUFDQSxNQUFJQyxHQUFHLEdBQUNGLFFBQVEsQ0FBQ0MsS0FBRCxDQUFoQixDQU5nRCxDQU9oRDtBQUNBOztBQUNBLE1BQUlFLE9BQU8sR0FBRyxFQUFkO0FBQ0FBLEVBQUFBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQmYsR0FBRyxDQUFDZ0IsT0FBSixDQUFZQyxLQUFaLENBQWtCLEdBQWxCLEVBQXVCLENBQXZCLENBQXRCLENBVmdELENBV2hEO0FBR0E7O0FBQ0EsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLGdCQUFNQyxJQUFOLENBQVdOLE9BQVgsQ0FBckI7QUFDQU8sRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLE1BQU0sQ0FBQyxDQUFELENBQWxCLEVBaEJnRCxDQWtCaEQ7QUFDQTs7QUFFQUMsa0JBQU1JLFFBQU4sQ0FBZUwsTUFBTSxDQUFDLENBQUQsQ0FBckIsRUFBeUI7QUFDckJULElBQUFBLElBQUksRUFBRUMsS0FEZTtBQUVyQkUsSUFBQUEsS0FBSyxFQUFFQyxHQUZjO0FBR3JCVyxJQUFBQSxJQUFJLEVBQUU7QUFBQyxPQUFDbEIsT0FBRCxHQUFVLENBQUNFLEtBQUQ7QUFBWDtBQUhlLEdBQXpCLEVBS0tpQixJQUxMLENBS1VoQixJQUFJLElBQUk7QUFDZFIsSUFBQUEsR0FBRyxDQUFDeUIsSUFBSixDQUFTakIsSUFBVDtBQUNELEdBUEgsRUFRS2tCLEtBUkwsQ0FRV0MsR0FBRyxJQUFJO0FBQ1ozQixJQUFBQSxHQUFHLENBQUM0QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCO0FBQ0QsR0FWTDtBQVdILENBaENELEUsQ0FtQ0E7O0FBQ0FoQyxXQUFXLENBQUNRLEtBQVosQ0FBa0IsZUFBbEIsRUFBbUNDLEdBQW5DLENBQXVDLGdCQUFlTCxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUM1RCxNQUFJYyxXQUFXLEdBQUdmLEdBQUcsQ0FBQzhCLE1BQUosQ0FBV2YsV0FBN0I7QUFDQSxRQUFNRyxNQUFNLEdBQUcsTUFBTUMsZ0JBQU1DLElBQU4sQ0FBVztBQUFDTCxJQUFBQSxXQUFXLEVBQUdBO0FBQWYsR0FBWCxFQUF3QyxVQUFTYSxHQUFULEVBQWNWLE1BQWQsRUFBc0I7QUFDL0VqQixJQUFBQSxHQUFHLENBQUN5QixJQUFKLENBQVNSLE1BQVQ7QUFDSCxHQUZvQixDQUFyQjtBQUdBakIsRUFBQUEsR0FBRyxDQUFDNEIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCUixNQUFyQixFQUE2QmEsSUFBN0I7QUFHSCxDQVJEO2VBVWVuQyxXLEVBRWY7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvVmljdG9yL0RvY3VtZW50cy9OVE5VL0gyMDE5L1dlYnV0dmlrbGluZy9wcm9zamVrdF8zL2JhY2tlbmQvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdyYWRlIGZyb20gJy4uL21vZGVscy9ncmFkZXMubW9kZWwnXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgZ3JhZGVSb3V0ZXMgPSBleHByZXNzLlJvdXRlcigpO1xuXG5ncmFkZVJvdXRlcy51c2UoY29ycygpKTtcbiAgLy8gQWxsb3cgY2xpZW50IHRvIGZldGNoIGRhdGFcbiAgZ3JhZGVSb3V0ZXMudXNlKGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTsgLy8gQ2FuIGNoYW5nZSAqIHRvIGFsbG93IHJlcXVlc3QgZnJvbSBzcGVjaWZpYyBjbGllbnRzXG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgT1BUSU9OUywgUFVULCBQQVRDSCwgREVMRVRFJyk7XG4gICAgICBuZXh0KCk7XG59KTtcblxuLy8gVGhlIGZ1bmN0aW9uIHBhc3NlZCBpbnRvIHRoZSBnZXQgZnVuY3Rpb24gaGFuZGxlcyBhbGwgR0VUIHJlcXVlc3RzIHNlbnQgdG8gL2dyYWRlcyBcbi8vIEZ1cnRoZXIgb24sIHdlJ3JlIGNhbGxpbmcgR3JhZGVzLmZpbmQgdG8gZ2V0IGEgbGlzdCBvZiBhbGwgY291cnNlIGl0ZW1zIGZyb20gdGhlIE1vbmdvREIuIFRoZSBmaW5kIGZ1bmN0aW9uIHRha2VzIG9uZSBhcmd1bWVudCwgYSBjYWxsYmFjayBmdW5jdGlvblxuLy8gd2hpY2ggaXMgZXhlY3V0ZWQgb25jZSB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gQWxsIHJlc3VsdHMgYXZhaWxhYmxlIGluIGNvdXJzZXMgYXJlIGFkZGVkIGluIEpTT04gZm9ybWF0IHRvIHRoZSByZXNwb25zZSBieSBjYWxsaW5nIHJlcy5qc29uKGNvdXJzZXMpLlxuZ3JhZGVSb3V0ZXMucm91dGUoJy8nKS5nZXQoYXN5bmMgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBsZXQgc29ydGluZyA9IHJlcS5xdWVyeS5zb3J0aW5nID8gcmVxLnF1ZXJ5LnNvcnRpbmc6ICdzZW1lc3Rlcl9jb2RlJztcbiAgICBsZXQgb3JkZXIgPSByZXEucXVlcnkub3JkZXIgPyByZXEucXVlcnkub3JkZXIgOiAnMSc7XG4gICAgbGV0IHBhZ2UgPSByZXEucXVlcnkucGFnZSA/IHJlcS5xdWVyeS5wYWdlIDogMTtcbiAgICBsZXQgcGFnZXM9cGFyc2VJbnQocGFnZSk7XG4gICAgbGV0IGxpbWl0ID0gcmVxLnF1ZXJ5LmxpbWl0ID8gcmVxLnF1ZXJ5LmxpbWl0IDogMTA7XG4gICAgbGV0IGxpbT1wYXJzZUludChsaW1pdCk7XG4gICAgLy8gQWNjZXNzIGNvdXJzZV9jb2RlIGZyb20gVVJMIGJ5IHNwbGl0dGluZyBvbiAvIGFuZCBzZWxlY3RpbmcgdGhlIDNyZCBlbGVtZW50LiBXaWxsIHdvcmsgZm9yIGV2ZXJ5IHBvc3NpYmxlIHN0YXRlIGluIHRoaXMgcHJvamVjdC5cbiAgICAvLyBTYXZpbmcgYWxsIHBvc3NpYmxlIGF0dHJpYnV0ZXMgZm9yIGEgY291cnNlIGRvY3VtZW50IGluIHRoZSBjb2xsZWN0aW9uIGluIGNvbnRlbnQgb2JqZWN0XG4gICAgbGV0IGNvbnRlbnQgPSB7fTtcbiAgICBjb250ZW50LmNvdXJzZV9jb2RlID0gcmVxLmJhc2VVcmwuc3BsaXQoJy8nKVsyXVxuICAgIC8vIGlmIChxdWVyeS5jb3Vyc2VfY29kZSkgeyBjb250ZW50LmNvdXJzZV9jb2RlID0geyRyZWdleCA6IFJlZ0V4cChxdWVyeS5jb3Vyc2VfY29kZSksICRvcHRpb25zOictaSd9IH1cblxuICAgIFxuICAgIC8vIFRoZSBjb250ZW50IG9iamVjdCBiZWluZyBzZW5kIGludG8gZmluZCBpcyBvZiB0aGUgZm9ybSBlLmcuLCB7Y291cnNlX2NvZGUgPSBcIlREVDQxNDBcIn1cbiAgICBjb25zdCBncmFkZXMgPSBhd2FpdCBHcmFkZS5maW5kKGNvbnRlbnQpO1xuICAgIGNvbnNvbGUubG9nKGdyYWRlc1swXSlcbiAgICBcbiAgICAvLyBUaGUgY29udGVudCBpbiBqc29uKCkgaXMgd2hhdCBpcyBiZWluZyByZXR1cm5lZCBpbiB0aGUgSFRUUCBSZXNwb25zZVxuICAgIC8vIHJlcy5zdGF0dXMoMjAwKS5qc29uKGdyYWRlcykuc2VuZCgpO1xuXG4gICAgR3JhZGUucGFnaW5hdGUoZ3JhZGVzWzBdLHtcbiAgICAgICAgcGFnZTogcGFnZXMsXG4gICAgICAgIGxpbWl0OiBsaW0sXG4gICAgICAgIHNvcnQ6IHtbc29ydGluZ106W29yZGVyXVxuICAgICAgICB9XG4gICAgICB9KS50aGVuKHBhZ2UgPT4ge1xuICAgICAgICByZXMuanNvbihwYWdlKTtcbiAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XG4gICAgICAgIH0pXG59KTtcblxuXG4vLyBNYWtlcyBpdCBwb3NzaWJsZSB0byBnbyBkaXJlY3RseSB0byB0aGUgc2VtZXN0ZXJzIG9mIGEgY291cnNlIG9iamVjdCBieSB2aXNpdGluZyBpdDI4MTAtMzkuaWRpLm50bnUubm86MzAwMS9ncmFkZXMvVERUNDExMFxuZ3JhZGVSb3V0ZXMucm91dGUoJy86Y291cnNlX2NvZGUnKS5nZXQoYXN5bmMgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBsZXQgY291cnNlX2NvZGUgPSByZXEucGFyYW1zLmNvdXJzZV9jb2RlO1xuICAgIGNvbnN0IGdyYWRlcyA9IGF3YWl0IEdyYWRlLmZpbmQoe2NvdXJzZV9jb2RlIDogY291cnNlX2NvZGV9LCBmdW5jdGlvbihlcnIsIGdyYWRlcykge1xuICAgICAgICByZXMuanNvbihncmFkZXMpO1xuICAgIH0pO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGdyYWRlcykuc2VuZCgpO1xuXG4gICBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBncmFkZVJvdXRlcztcblxuLy8gRm9ybWF0IGZvciBzcMO4cnJpbmdlcjpcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9ncmFkZXM/Y291cnNlX2NvZGU9VERUNDExMCZzZW1lc3RlcnMuc2VtZXN0ZXJfY29kZT1IMjAxOFxuXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "grades.js"
      ],
      "names": [
        "gradeRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "sorting",
        "query",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "content",
        "course_code",
        "baseUrl",
        "split",
        "grades",
        "Grade",
        "find",
        "console",
        "log",
        "paginate",
        "sort",
        "then",
        "json",
        "catch",
        "err",
        "status",
        "params",
        "send"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import Grade from '../models/grades.model'\nimport express from 'express';\nimport cors from 'cors';\nimport Axios from 'axios';\n\nconst gradeRoutes = express.Router();\n\ngradeRoutes.use(cors());\n  // Allow client to fetch data\n  gradeRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to /grades \n// Further on, we're calling Grades.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ngradeRoutes.route('/').get(async function(req, res) {\n    let sorting = req.query.sorting ? req.query.sorting: 'semester_code';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n    // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n    // Saving all possible attributes for a course document in the collection in content object\n    let content = {};\n    content.course_code = req.baseUrl.split('/')[2]\n    // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n\n    \n    // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n    const grades = await Grade.find(content);\n    console.log(grades[0])\n    \n    // The content in json() is what is being returned in the HTTP Response\n    // res.status(200).json(grades).send();\n\n    Grade.paginate(grades[0],{\n        page: pages,\n        limit: lim,\n        sort: {[sorting]:[order]\n        }\n      }).then(page => {\n        res.json(page);\n      })\n        .catch(err => {\n          res.status(500).json(err);\n        })\n});\n\n\n// Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\ngradeRoutes.route('/:course_code').get(async function(req, res) {\n    let course_code = req.params.course_code;\n    const grades = await Grade.find({course_code : course_code}, function(err, grades) {\n        res.json(grades);\n    });\n    res.status(200).json(grades).send();\n\n   \n});\n\nexport default gradeRoutes;\n\n// Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571671384795
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
        "sourceFileName": "grades.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Grade = new Schema({\n  course_code: {\n    type: String\n  },\n  semesters: {\n    type: Array\n  }\n}, {\n  collection: 'grades'\n});\nGrade.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Grade', Grade);\nvar _default = Grade;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkdyYWRlIiwiY291cnNlX2NvZGUiLCJ0eXBlIiwiU3RyaW5nIiwic2VtZXN0ZXJzIiwiQXJyYXkiLCJjb2xsZWN0aW9uIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxrQkFBU0QsTUFBeEI7QUFFQSxJQUFJRSxLQUFLLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ25CRyxFQUFBQSxXQUFXLEVBQUc7QUFDVkMsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBREs7QUFJbkJDLEVBQUFBLFNBQVMsRUFBRztBQUNSRixJQUFBQSxJQUFJLEVBQUVHO0FBREU7QUFKTyxDQUFYLEVBUVI7QUFBRUMsRUFBQUEsVUFBVSxFQUFHO0FBQWYsQ0FSUSxDQUFaO0FBVUlOLEtBQUssQ0FBQ08sTUFBTixDQUFhQyx5QkFBYjtBQUVKQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLGtCQUFTWSxLQUFULENBQWUsT0FBZixFQUF3QlgsS0FBeEIsQ0FBakI7ZUFFZUEsSyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvVmljdG9yL0RvY3VtZW50cy9OVE5VL0gyMDE5L1dlYnV0dmlrbGluZy9wcm9zamVrdF8zL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IG1vbmdvb3NlUGFnaW5hdGUgZnJvbSAnbW9uZ29vc2UtcGFnaW5hdGUnO1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmxldCBHcmFkZSA9IG5ldyBTY2hlbWEoe1xuICAgIGNvdXJzZV9jb2RlIDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHNlbWVzdGVycyA6IHtcbiAgICAgICAgdHlwZTogQXJyYXlcbiAgICB9fSxcblxuICAgIHsgY29sbGVjdGlvbiA6ICdncmFkZXMnIH1cbiAgICApXG4gICAgR3JhZGUucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdHcmFkZScsIEdyYWRlKTtcblxuZXhwb3J0IGRlZmF1bHQgR3JhZGUiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "grades.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Grade",
        "course_code",
        "type",
        "String",
        "semesters",
        "Array",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,KAAK,GAAG,IAAIF,MAAJ,CAAW;AACnBG,EAAAA,WAAW,EAAG;AACVC,IAAAA,IAAI,EAAEC;AADI,GADK;AAInBC,EAAAA,SAAS,EAAG;AACRF,IAAAA,IAAI,EAAEG;AADE;AAJO,CAAX,EAQR;AAAEC,EAAAA,UAAU,EAAG;AAAf,CARQ,CAAZ;AAUIN,KAAK,CAACO,MAAN,CAAaC,yBAAb;AAEJC,MAAM,CAACC,OAAP,GAAiBX,kBAASY,KAAT,CAAe,OAAf,EAAwBX,KAAxB,CAAjB;eAEeA,K",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Grade = new Schema({\n    course_code : {\n        type: String\n    },\n    semesters : {\n        type: Array\n    }},\n\n    { collection : 'grades' }\n    )\n    Grade.plugin(mongoosePaginate);\n\nmodule.exports = mongoose.model('Grade', Grade);\n\nexport default Grade"
      ]
    },
    "sourceType": "script",
    "mtime": 1571581796399
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "course.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"../models/course.model\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst courseRoutes = _express.default.Router();\n\ncourseRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ncourseRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n\n  next();\n}); // The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ncourseRoutes.route('/').get(async function (req, res) {\n  // Saving all possible attributes for a course document in the collection in content object. \n  // Checks if attribute exists on req.query and saves it if it exists.\n  let content = {};\n  let query = await req.query;\n  var stringQuery = Object.keys(query)[0]; //Check input from search bar. User only searches for norwegian_name og course_code\n  //Filters the other opions\n\n  if (allLetters(stringQuery) && stringQuery) {\n    if (containsCode(stringQuery)) {\n      content.course_code = {\n        $regex: RegExp(stringQuery),\n        $options: '-i'\n      };\n    } else {\n      content.norwegian_name = {\n        $regex: RegExp(stringQuery),\n        $options: '-i'\n      };\n    }\n  } else if (containsNumber(stringQuery)) {\n    content.course_code = {\n      $regex: RegExp(stringQuery),\n      $options: '-i'\n    };\n  } //Makes query from user chosen filtering\n  // if (query._id) { content._id = query._id } \n  // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n  // if (query.credits) { content.credits = Number(query.credits)}\n  // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n  // if (query.taught_in_spring) { content.taught_in_spring = true} \n  // if (query.taught_in_autumn) { content.taught_in_autumn = true} \n  // if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n  // if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n  // Syntax to find partial match by using MongoDB find()-function:\n  // find(({norwegian_name : {$regex : /Ava/}})\n  // console.log(content)\n\n\n  const courses = await _course.default.find(content, function (err, courses) {}).catch(err => console.log(err)); // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n\n  let sorting = req.query.sorting ? req.query.sorting : 'norwegian_name';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit);\n  console.log(content); // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n  // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n\n  console.log(\"Content: \", content);\n\n  _course.default.paginate(content, {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(paginated_content => {\n    // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n    res.json(paginated_content);\n  }).catch(error => {\n    // In case of error, return status 500 and error message.\n    res.status(500).json(error);\n  });\n}); // This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\n\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n  let course_code = req.params.course_code;\n  course = await _course.default.find({\n    course_code: course_code\n  }, (err, course) => {\n    res.json(course);\n  }).catch(error => res.status(500).json(error));\n}); // For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \n\ncourseRoutes.put('/:course_code', (req, res) => {\n  console.log(req.body.difficulty);\n  let difficulty = parseInt(req.body.difficulty); // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n\n  let course = _course.default.find({\n    course_code: req.params.course_code\n  });\n\n  if (req.body.review && 6 > difficulty > 0) {\n    console.log(req.params.course_code); // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n\n    _course.default.findOneAndUpdate(course, {\n      \"$push\": {\n        \"reviews\": req.body.review\n      },\n      \"$push\": {\n        \"difficulty\": parseInt(req.body.difficulty)\n      }\n    }).then(course => res.json(course)).catch(err => res.status(500).json(err));\n  }\n}); // TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\nvar _default = courseRoutes;\nexports.default = _default;\n\nfunction containsCode(query) {\n  let codes = \"tma tdt ttm it tfy\";\n  return codes.includes(query.toLowerCase());\n}\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/;\n  return letters.test(query);\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/;\n  return numbers.test(query);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VSb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInJvdXRlIiwiZ2V0IiwiY29udGVudCIsInF1ZXJ5Iiwic3RyaW5nUXVlcnkiLCJPYmplY3QiLCJrZXlzIiwiYWxsTGV0dGVycyIsImNvbnRhaW5zQ29kZSIsImNvdXJzZV9jb2RlIiwiJHJlZ2V4IiwiUmVnRXhwIiwiJG9wdGlvbnMiLCJub3J3ZWdpYW5fbmFtZSIsImNvbnRhaW5zTnVtYmVyIiwiY291cnNlcyIsIkNvdXJzZSIsImZpbmQiLCJlcnIiLCJjYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJzb3J0aW5nIiwib3JkZXIiLCJwYWdlIiwicGFnZXMiLCJwYXJzZUludCIsImxpbWl0IiwibGltIiwicGFnaW5hdGUiLCJzb3J0IiwidGhlbiIsInBhZ2luYXRlZF9jb250ZW50IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwicGFyYW1zIiwiY291cnNlIiwicHV0IiwiYm9keSIsImRpZmZpY3VsdHkiLCJyZXZpZXciLCJmaW5kT25lQW5kVXBkYXRlIiwiY29kZXMiLCJpbmNsdWRlcyIsInRvTG93ZXJDYXNlIiwibGV0dGVycyIsInRlc3QiLCJudW1iZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxZQUFZLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXJCOztBQUdBRixZQUFZLENBQUNHLEdBQWIsQ0FBaUIsb0JBQWpCLEUsQ0FDRTs7QUFDQUgsWUFBWSxDQUFDRyxHQUFiLENBQWlCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDeENELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDZCQUFYLEVBQTBDLEdBQTFDLEVBRHdDLENBQ1E7O0FBQ2hERixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxF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TyxHQUFHLGFBQWQ7QUFDQSxTQUFPQSxPQUFPLENBQUNDLElBQVIsQ0FBYTVDLEtBQWIsQ0FBUDtBQUNEOztBQUVELFNBQVNXLGNBQVQsQ0FBd0JYLEtBQXhCLEVBQStCO0FBQzdCLE1BQUk2QyxPQUFPLEdBQUcsSUFBZDtBQUNBLFNBQU9BLE9BQU8sQ0FBQ0QsSUFBUixDQUFhNUMsS0FBYixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL1ZpY3Rvci9Eb2N1bWVudHMvTlROVS9IMjAxOS9XZWJ1dHZpa2xpbmcvcHJvc2pla3RfMy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgQ291cnNlIGZyb20gJy4uL21vZGVscy9jb3Vyc2UubW9kZWwnO1xuaW1wb3J0IHsgbW9kZWwgfSBmcm9tICdtb25nb29zZSc7XG5cblxuY29uc3QgY291cnNlUm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKVxuXG5cbmNvdXJzZVJvdXRlcy51c2UoY29ycygpKTtcbiAgLy8gQWxsb3cgY2xpZW50IHRvIGZldGNoIGRhdGFcbiAgY291cnNlUm91dGVzLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7IC8vIENhbiBjaGFuZ2UgKiB0byBhbGxvdyByZXF1ZXN0IGZyb20gc3BlY2lmaWMgY2xpZW50cy4gSW4gdGhpcyBwcm9qZWN0IHdlIGRvbnQgY2FyZSB0byBoYW5kbGUgc2VjdXJpdHkgaXNzdWVzLlxuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBVVCcpOyAvLyBXZSBvbmx5IGFsbG93IEdFVCBhbmQgUFVUIHJlcXVlc3RzLiBPbiBwdXJwb3NlLCB3ZSBkZWNpZGVkIHRvIG5vdCBoYXZlIGFueSBmdW5jdGlvbmFsaXR5IHRvIGFkZCBjb3Vyc2VzLCBuZWl0aGVyIGRlbGV0ZSB0aGVtLlxuICAgICAgbmV4dCgpO1xufSk7XG5cbi8vIFRoZSBmdW5jdGlvbiBwYXNzZWQgaW50byB0aGUgZ2V0IGZ1bmN0aW9uIGhhbmRsZXMgYWxsIEdFVCByZXF1ZXN0cyBzZW50IHRvIGl0MjgxMC0zOS5pZGkubnRudS5ubzo8UE9SVC1OVU1CRVI+L2NvdXJzZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIENvdXJzZS5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmNvdXJzZVJvdXRlcy5yb3V0ZSgnLycpLmdldChhc3luYyBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIFxuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdC4gXG4gICAgLy8gQ2hlY2tzIGlmIGF0dHJpYnV0ZSBleGlzdHMgb24gcmVxLnF1ZXJ5IGFuZCBzYXZlcyBpdCBpZiBpdCBleGlzdHMuXG4gICAgbGV0IGNvbnRlbnQgPSB7fTtcbiAgICBsZXQgcXVlcnkgPSBhd2FpdCByZXEucXVlcnk7XG4gICAgdmFyIHN0cmluZ1F1ZXJ5ID0gT2JqZWN0LmtleXMocXVlcnkpWzBdXG5cbiAgICAvL0NoZWNrIGlucHV0IGZyb20gc2VhcmNoIGJhci4gVXNlciBvbmx5IHNlYXJjaGVzIGZvciBub3J3ZWdpYW5fbmFtZSBvZyBjb3Vyc2VfY29kZVxuICAgIC8vRmlsdGVycyB0aGUgb3RoZXIgb3Bpb25zXG4gICAgaWYoYWxsTGV0dGVycyhzdHJpbmdRdWVyeSkgJiYgc3RyaW5nUXVlcnkpIHtcbiAgICAgIGlmKGNvbnRhaW5zQ29kZShzdHJpbmdRdWVyeSkpIHtcbiAgICAgICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXg6IFJlZ0V4cChzdHJpbmdRdWVyeSksICRvcHRpb25zOictaSd9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29udGVudC5ub3J3ZWdpYW5fbmFtZSA9IHskcmVnZXggOiBSZWdFeHAoc3RyaW5nUXVlcnkpLCAkb3B0aW9uczonLWknfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjb250YWluc051bWJlcihzdHJpbmdRdWVyeSkpIHtcbiAgICAgIGNvbnRlbnQuY291cnNlX2NvZGUgPSB7JHJlZ2V4OiBSZWdFeHAoc3RyaW5nUXVlcnkpLCAkb3B0aW9uczonLWknfVxuICAgIH1cblxuICAgIC8vTWFrZXMgcXVlcnkgZnJvbSB1c2VyIGNob3NlbiBmaWx0ZXJpbmdcbiAgICAvLyBpZiAocXVlcnkuX2lkKSB7IGNvbnRlbnQuX2lkID0gcXVlcnkuX2lkIH0gXG4gICAgLy8gaWYgKHF1ZXJ5LmNvdXJzZV9jb2RlKSB7IGNvbnRlbnQuY291cnNlX2NvZGUgPSB7JHJlZ2V4OiBSZWdFeHAocXVlcnkuY291cnNlX2NvZGUpLCAkb3B0aW9uczonLWknfX1cbiAgICAvLyBpZiAocXVlcnkuY3JlZGl0cykgeyBjb250ZW50LmNyZWRpdHMgPSBOdW1iZXIocXVlcnkuY3JlZGl0cyl9XG4gICAgLy8gaWYgKHF1ZXJ5Lm5vcndlZ2lhbl9uYW1lKSB7IGNvbnRlbnQubm9yd2VnaWFuX25hbWUgPSB7JHJlZ2V4IDogUmVnRXhwKHF1ZXJ5Lm5vcndlZ2lhbl9uYW1lKSwgJG9wdGlvbnM6Jy1pJ319XG4gICAgLy8gaWYgKHF1ZXJ5LnRhdWdodF9pbl9zcHJpbmcpIHsgY29udGVudC50YXVnaHRfaW5fc3ByaW5nID0gdHJ1ZX0gXG4gICAgLy8gaWYgKHF1ZXJ5LnRhdWdodF9pbl9hdXR1bW4pIHsgY29udGVudC50YXVnaHRfaW5fYXV0dW1uID0gdHJ1ZX0gXG4gICAgLy8gaWYgKHF1ZXJ5LmNvbnRlbnQpIHsgY29udGVudC5jb250ZW50ID0geyRyZWdleDogUmVnRXhwKHF1ZXJ5LmNvbnRlbnQpLCAkb3B0aW9uczonLWknfX1cbiAgICAvLyBpZiAocXVlcnkubGVhcm5pbmdfZ29hbCkgeyBjb250ZW50LmxlYXJuaW5nX2dvYWwgPSB7JHJlZ2V4OiBSZWdFeHAocXVlcnkubGVhcm5pbmdfZ29hbCksICRvcHRpb25zOictaSd9fVxuXG4gICAgLy8gU3ludGF4IHRvIGZpbmQgcGFydGlhbCBtYXRjaCBieSB1c2luZyBNb25nb0RCIGZpbmQoKS1mdW5jdGlvbjpcbiAgICAvLyBmaW5kKCh7bm9yd2VnaWFuX25hbWUgOiB7JHJlZ2V4IDogL0F2YS99fSlcbiAgICAvLyBjb25zb2xlLmxvZyhjb250ZW50KVxuICAgIGNvbnN0IGNvdXJzZXMgPSBhd2FpdCBDb3Vyc2UuZmluZCgoY29udGVudCksIGZ1bmN0aW9uKGVyciwgY291cnNlcykge30pLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICBcbiAgICAvLyBWYWx1ZXMgcmV0cmlldmVkIGJ5IHRoZSBxdWVyeSwgZWxzZSBzZXQgdG8gZGVmYXVsdCB2YWx1ZXMuIFVzZWQgaW4gcGFnaW5hdGlvbiBhbmQgc29ydGluZyBvZiByZXN1bHRzLlxuICAgIGxldCBzb3J0aW5nID0gcmVxLnF1ZXJ5LnNvcnRpbmcgPyByZXEucXVlcnkuc29ydGluZzogJ25vcndlZ2lhbl9uYW1lJztcbiAgICBsZXQgb3JkZXIgPSByZXEucXVlcnkub3JkZXIgPyByZXEucXVlcnkub3JkZXIgOiAnMSc7XG4gICAgbGV0IHBhZ2UgPSByZXEucXVlcnkucGFnZSA/IHJlcS5xdWVyeS5wYWdlIDogMTtcbiAgICBsZXQgcGFnZXM9cGFyc2VJbnQocGFnZSk7XG4gICAgbGV0IGxpbWl0ID0gcmVxLnF1ZXJ5LmxpbWl0ID8gcmVxLnF1ZXJ5LmxpbWl0IDogMTA7XG4gICAgbGV0IGxpbT1wYXJzZUludChsaW1pdCk7XG4gICAgY29uc29sZS5sb2coY29udGVudClcblxuICAgIC8vIFVzZXMgbW9uZ29vc2UtcGFnaW5hdGUgdG8gcGFnaW5hdGUgcmVzdWx0cy4gUGx1Z2luIGluIGltcG9ydGVkIGluIHRoZSBjb3Vyc2UubW9kZWwuanMuIFJlc3BvbnNlIHRvIGNsaWVudCBpcyBzZW50IGluIHRoaXMgZnVuY3Rpb24uIFxuICAgIC8vIFRha2VzIHRvIGFyZ3VtZW50cy4gT25lIGNvbnRlbnQgb2JqZWN0LCBhbmQgb25lIG9iamVjdCBjb250YWluaW5nIHBhZ2VzLCBwYWdlIGxpbWl0IGFuZCB3aGF0IHRvIHNvcnQgYnkuXG4gICAgY29uc29sZS5sb2coXCJDb250ZW50OiBcIiwgY29udGVudClcbiAgICBDb3Vyc2UucGFnaW5hdGUoY29udGVudCxcbiAgICAgICAgeyAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICAgICAgbGltaXQ6IGxpbSxcbiAgICAgICAgICAgIHNvcnQ6IHtbc29ydGluZ106W29yZGVyXX1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocGFnaW5hdGVkX2NvbnRlbnQgPT4ge1xuICAgICAgICAgICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2UuIEluIHRoaXMgY2FzZSBwYWdpbmF0ZWRfY29udGVudCBpcyB0aGUgZW50aXJlIHBhZ2UgY29udGFpbmluZyBhbGwgI3BhZ2Ugb2Ygb2JqZWN0c1xuICAgICAgICAgICAgcmVzLmpzb24ocGFnaW5hdGVkX2NvbnRlbnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcnJvciwgcmV0dXJuIHN0YXR1cyA1MDAgYW5kIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpO1xuICAgICAgICB9KVxufSk7XG5cbi8vIFRoaXMgcGF0aCBlbmRwb2ludCBpcyB1c2VkIHRvIHJldHJpZXZlIGEgY291cnNlIGJ5IGl0cyBjb3Vyc2VfY29kZS4gVGhpcyB3aWxsIHJldHVybiBhIGNvdXJzZSBvYmplY3QgaW4gSlNPTiBmb3JtYXQgYXMgcmVzcG9uc2UgdG8gYSBHRVQgcmVxdWVzdCBvbiBjb3Vyc2VfY29kZS5cbmNvdXJzZVJvdXRlcy5yb3V0ZSgnLzpjb3Vyc2VfY29kZScpLmdldChhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgY291cnNlX2NvZGUgPSByZXEucGFyYW1zLmNvdXJzZV9jb2RlO1xuICAgIGNvdXJzZSA9IGF3YWl0IENvdXJzZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgKGVyciwgY291cnNlKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKGNvdXJzZSk7XG4gICAgfSkuY2F0Y2goZXJyb3IgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpKTtcbn0pO1xuXG5cbi8vIEZvciB1cGRhdGluZyByb3dzIGluIGNvbGxlY3Rpb24gd2l0aCByZXZpZXdzIGFuZCByYXRlZCBkaWZmaWN1bHR5LiBQVVQgcmVxdWVzdHMgdG8gaXQyODEwLjM5LmlkaS5udG51Lm5vOjMwMDEvY291cnNlcy88Q09VUlNFX0NPREU+IHdpbGwgdXBkYXRlIHRoZSBjb3Vyc2UgXG4vLyBpZiB0aGUgcmVxdWVzdCBjb250YWlucyBhIHJldmlldyBBTkQgYSBkaWZmaWN1bHR5LiBcbmNvdXJzZVJvdXRlcy5wdXQoJy86Y291cnNlX2NvZGUnLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keS5kaWZmaWN1bHR5KVxuICAgIGxldCBkaWZmaWN1bHR5ID0gcGFyc2VJbnQocmVxLmJvZHkuZGlmZmljdWx0eSlcbiAgICAvLyBGaW5kIHRoZSBjb3JyZWN0IGNvdXJzZSBpbiB0aGUgREIuIENvdXJzZV9jb2RlIGlzIGEgcHJpbWFyeSBrZXksIGFuZCB0aGUgc2VhcmNoIHdpbGwgYWx3YXlzIHJldHVybiBvbmUgcmVzdWx0LlxuICAgIGxldCBjb3Vyc2UgPSBDb3Vyc2UuZmluZCh7Y291cnNlX2NvZGUgOiByZXEucGFyYW1zLmNvdXJzZV9jb2RlfSlcbiAgICBpZiAocmVxLmJvZHkucmV2aWV3ICYmIDY+ZGlmZmljdWx0eT4wKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcS5wYXJhbXMuY291cnNlX2NvZGUpXG4gICAgICAgIC8vIEZpbmQgZG9jdW1lbnQgXCJjb3Vyc2VcIiBpbiBkYiBhbmQgcHVzaCB0aGUgcmV2aWV3IHRvIHRoZSByZXZpZXcgYXJyYXkgb24gdGhlIGRvY3VtZW50LiBBbHNvIHVwZGF0ZSBkaWZmaWN1bHR5IHRvIG5ldyBhdmVyYWdlLlxuICAgICAgICBDb3Vyc2UuZmluZE9uZUFuZFVwZGF0ZShjb3Vyc2UsIHtcIiRwdXNoXCI6IHsgXCJyZXZpZXdzXCI6IHJlcS5ib2R5LnJldmlldyB9LCAgXCIkcHVzaFwiIDoge1wiZGlmZmljdWx0eVwiIDogcGFyc2VJbnQocmVxLmJvZHkuZGlmZmljdWx0eSl9fSlcbiAgICAgICAgLnRoZW4oY291cnNlID0+IHJlcy5qc29uKGNvdXJzZSkpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKSkgICBcbiAgICB9ICAgIFxufSk7XG5cblxuXG4vLyBUT0RPOiBSZXdyaXRlIHRoaXMgdG8gaGFuZGxlIGFkZGluZyByZXZpZXdzIG9mIGNvdXJzZXNcbi8vIGNvdXJzZVJvdXRlcy5yb3V0ZSgnLzpjb3Vyc2VfY29kZS9hZGQnKS5wb3N0KGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4vLyAgICAgbGV0IGNvdXJzZSA9IG5ldyBDb3Vyc2UocmVxLmJvZHkpO1xuLy8gICAgIGNvdXJzZS5zYXZlKClcbi8vICAgICAgICAgLnRoZW4oY291cnNlID0+IHtcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsnQ291cnNlJzogJ1Jldmlld3MgYWRkZWQgc3VjY2Vzc2Z1bGx5Lid9KTtcbi8vICAgICAgICAgfSlcbi8vICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQWRkaW5nIG5ldyByZXZpZXcgdG8gY291cnNlLCAnLCBjb3Vyc2UsICcsIGZhaWxlZCcpO1xuLy8gICAgICAgICB9KTtcbi8vIH0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNvdXJzZVJvdXRlcztcblxuZnVuY3Rpb24gY29udGFpbnNDb2RlKHF1ZXJ5KSB7XG4gIGxldCBjb2RlcyA9IFwidG1hIHRkdCB0dG0gaXQgdGZ5XCJcbiAgcmV0dXJuIGNvZGVzLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpXG59XG5cblxuZnVuY3Rpb24gYWxsTGV0dGVycyhxdWVyeSkge1xuICBsZXQgbGV0dGVycyA9IC9eW0EtWmEtel0rJC9cbiAgcmV0dXJuIGxldHRlcnMudGVzdChxdWVyeSlcbn1cblxuZnVuY3Rpb24gY29udGFpbnNOdW1iZXIocXVlcnkpIHtcbiAgbGV0IG51bWJlcnMgPSAvXFxkL1xuICByZXR1cm4gbnVtYmVycy50ZXN0KHF1ZXJ5KVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "course.js"
      ],
      "names": [
        "courseRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "content",
        "query",
        "stringQuery",
        "Object",
        "keys",
        "allLetters",
        "containsCode",
        "course_code",
        "$regex",
        "RegExp",
        "$options",
        "norwegian_name",
        "containsNumber",
        "courses",
        "Course",
        "find",
        "err",
        "catch",
        "console",
        "log",
        "sorting",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "paginate",
        "sort",
        "then",
        "paginated_content",
        "json",
        "error",
        "status",
        "params",
        "course",
        "put",
        "body",
        "difficulty",
        "review",
        "findOneAndUpdate",
        "codes",
        "includes",
        "toLowerCase",
        "letters",
        "test",
        "numbers"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import express from 'express';\nimport cors from 'cors';\nimport Course from '../models/course.model';\nimport { model } from 'mongoose';\n\n\nconst courseRoutes = express.Router()\n\n\ncourseRoutes.use(cors());\n  // Allow client to fetch data\n  courseRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ncourseRoutes.route('/').get(async function(req, res) {\n    \n\n    // Saving all possible attributes for a course document in the collection in content object. \n    // Checks if attribute exists on req.query and saves it if it exists.\n    let content = {};\n    let query = await req.query;\n    var stringQuery = Object.keys(query)[0]\n\n    //Check input from search bar. User only searches for norwegian_name og course_code\n    //Filters the other opions\n    if(allLetters(stringQuery) && stringQuery) {\n      if(containsCode(stringQuery)) {\n        content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n      }\n      else {\n        content.norwegian_name = {$regex : RegExp(stringQuery), $options:'-i'}\n      }\n    }\n    else if (containsNumber(stringQuery)) {\n      content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n    }\n\n    //Makes query from user chosen filtering\n    // if (query._id) { content._id = query._id } \n    // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n    // if (query.credits) { content.credits = Number(query.credits)}\n    // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n    // if (query.taught_in_spring) { content.taught_in_spring = true} \n    // if (query.taught_in_autumn) { content.taught_in_autumn = true} \n    // if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n    // if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n\n    // Syntax to find partial match by using MongoDB find()-function:\n    // find(({norwegian_name : {$regex : /Ava/}})\n    // console.log(content)\n    const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n    \n    // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n    let sorting = req.query.sorting ? req.query.sorting: 'norwegian_name';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n    console.log(content)\n\n    // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n    // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n    console.log(\"Content: \", content)\n    Course.paginate(content,\n        {   page: pages,\n            limit: lim,\n            sort: {[sorting]:[order]}\n        })\n        .then(paginated_content => {\n            // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n            res.json(paginated_content);\n        })\n        .catch(error => {\n            // In case of error, return status 500 and error message.\n          res.status(500).json(error);\n        })\n});\n\n// This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n    let course_code = req.params.course_code;\n    course = await Course.find({course_code : course_code}, (err, course) => {\n        res.json(course);\n    }).catch(error => res.status(500).json(error));\n});\n\n\n// For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \ncourseRoutes.put('/:course_code', (req, res) => {\n    console.log(req.body.difficulty)\n    let difficulty = parseInt(req.body.difficulty)\n    // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n    let course = Course.find({course_code : req.params.course_code})\n    if (req.body.review && 6>difficulty>0) {\n        console.log(req.params.course_code)\n        // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n        Course.findOneAndUpdate(course, {\"$push\": { \"reviews\": req.body.review },  \"$push\" : {\"difficulty\" : parseInt(req.body.difficulty)}})\n        .then(course => res.json(course))\n        .catch(err => res.status(500).json(err))   \n    }    \n});\n\n\n\n// TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\n\nexport default courseRoutes;\n\nfunction containsCode(query) {\n  let codes = \"tma tdt ttm it tfy\"\n  return codes.includes(query.toLowerCase())\n}\n\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/\n  return letters.test(query)\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/\n  return numbers.test(query)\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1571672503933
  }
}