{
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"./routes/course\"));\n\nvar _grades = _interopRequireDefault(require(\"./routes/grades\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Babel is added as a dependency in package.json and used to type modern .js syntax and then transpiled. \n// import express from 'express' is equal to const express = require('express')\nconst API_PORT = 3001; // Listening for incoming HTTP requests on port 3001\n\nconst app = (0, _express.default)(); // Creating an express-object\n// When calling app.use(), we add another \"filter\" for all requests to go through. E.g., app.use(bodyParser.json()) parses incoming requests to JSON-format.\n\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)());\napp.use('/courses', _course.default);\napp.use('/courses/:course_code/grades', _grades.default);\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\"); // * indicates that anyone can connect. Can be changed to specific IPs.\n\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); // Which headers we allow\n\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE'); // Defining all type of requests we want to accept.\n\n  next();\n});\napp.listen(API_PORT, () => console.log(`LISTENING ON PORT ${API_PORT}`)); // Adress to MongoDB. On format: mongodb://<username>:<pwd>@<IP>/<DNS>:<port>/<database>\n\nconst dbRoute = 'mongodb://victojo:admin@it2810-39.idi.ntnu.no:27017/grades'; // Connecting to the MongoDB by using mongoose\n\n_mongoose.default.connect(dbRoute, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useFindAndModify: false\n}); // Connection is our active connection to the MongoDB\n\n\nconst connection = _mongoose.default.connection; // Once the connection is established, execute the content of function\n\nconnection.once('open', function () {\n  console.log(\"MongoDB database connection established successfully\");\n}); // Handle all 404 errors (not found)\n\napp.use((req, res, next) => {\n  res.status(404).send(\"The information you are looking for is not here! Try a different path\");\n}); // Handles all requests resulting in a 500 response\n\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.sendFile(_path.default.join(__dirname, '../public/500.html'));\n}); //  URL: https://grades.no/api/courses/tdt4145/grades\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJBUElfUE9SVCIsImFwcCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwiY291cnNlUm91dGVzIiwiZ3JhZGVSb3V0ZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsImRiUm91dGUiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwiY29ubmVjdGlvbiIsIm9uY2UiLCJzdGF0dXMiLCJzZW5kIiwiZXJyIiwiZXJyb3IiLCJzdGFjayIsInNlbmRGaWxlIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBO0FBR0EsTUFBTUEsUUFBUSxHQUFHLElBQWpCLEMsQ0FBdUI7O0FBQ3ZCLE1BQU1DLEdBQUcsR0FBRyx1QkFBWixDLENBQXVCO0FBRXZCOztBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxvQkFBUjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUSxVQUFSLEVBQW9CRyxlQUFwQjtBQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUSw4QkFBUixFQUF3Q0ksZUFBeEM7QUFHQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBU0ssR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUM3QkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFENkIsQ0FDbUI7O0FBQ2hERixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxnREFBM0MsRUFGNkIsQ0FFaUU7O0FBQzlGRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0MsRUFINkIsQ0FHeUQ7O0FBQ3RGRCxFQUFBQSxJQUFJO0FBQ1AsQ0FMRDtBQU9BUixHQUFHLENBQUNVLE1BQUosQ0FBV1gsUUFBWCxFQUFxQixNQUFNWSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxxQkFBb0JiLFFBQVMsRUFBMUMsQ0FBM0IsRSxDQUVBOztBQUNBLE1BQU1jLE9BQU8sR0FBRyw0REFBaEIsQyxDQUVBOztBQUNBQyxrQkFBU0MsT0FBVCxDQUFpQkYsT0FBakIsRUFBMEI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFLElBQW5CO0FBQXlCQyxFQUFBQSxrQkFBa0IsRUFBRSxJQUE3QztBQUFtREMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFBckUsQ0FBMUIsRSxDQUNBOzs7QUFDQSxNQUFNQyxVQUFVLEdBQUdMLGtCQUFTSyxVQUE1QixDLENBRUE7O0FBQ0FBLFVBQVUsQ0FBQ0MsSUFBWCxDQUFnQixNQUFoQixFQUF3QixZQUFXO0FBQy9CVCxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzREFBWjtBQUNILENBRkQsRSxDQUlBOztBQUNBWixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDSyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFrQjtBQUN0QkQsRUFBQUEsR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsdUVBQXJCO0FBQ0QsQ0FGSCxFLENBSUE7O0FBQ0F0QixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDc0IsR0FBRCxFQUFLakIsR0FBTCxFQUFTQyxHQUFULEVBQWFDLElBQWIsS0FBc0I7QUFDMUJHLEVBQUFBLE9BQU8sQ0FBQ2EsS0FBUixDQUFjRCxHQUFHLENBQUNFLEtBQWxCO0FBQ0FsQixFQUFBQSxHQUFHLENBQUNtQixRQUFKLENBQWFDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFvQixvQkFBcEIsQ0FBYjtBQUNELENBSEgsRSxDQUtBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9qZW5ueXl1L0RvY3VtZW50cy9OVE5VLzMuIEgyMDE5L1dlYkRldi9wcm9zamVrdF8zL2JhY2tlbmQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBjb3Vyc2VSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL2NvdXJzZVwiXG5pbXBvcnQgZ3JhZGVSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL2dyYWRlc1wiXG4vLyBCYWJlbCBpcyBhZGRlZCBhcyBhIGRlcGVuZGVuY3kgaW4gcGFja2FnZS5qc29uIGFuZCB1c2VkIHRvIHR5cGUgbW9kZXJuIC5qcyBzeW50YXggYW5kIHRoZW4gdHJhbnNwaWxlZC4gXG4vLyBpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJyBpcyBlcXVhbCB0byBjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG5cblxuY29uc3QgQVBJX1BPUlQgPSAzMDAxOyAvLyBMaXN0ZW5pbmcgZm9yIGluY29taW5nIEhUVFAgcmVxdWVzdHMgb24gcG9ydCAzMDAxXG5jb25zdCBhcHAgPSBleHByZXNzKCk7IC8vIENyZWF0aW5nIGFuIGV4cHJlc3Mtb2JqZWN0XG5cbi8vIFdoZW4gY2FsbGluZyBhcHAudXNlKCksIHdlIGFkZCBhbm90aGVyIFwiZmlsdGVyXCIgZm9yIGFsbCByZXF1ZXN0cyB0byBnbyB0aHJvdWdoLiBFLmcuLCBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKSBwYXJzZXMgaW5jb21pbmcgcmVxdWVzdHMgdG8gSlNPTi1mb3JtYXQuXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoJy9jb3Vyc2VzJywgY291cnNlUm91dGVzKVxuYXBwLnVzZSgnL2NvdXJzZXMvOmNvdXJzZV9jb2RlL2dyYWRlcycsIGdyYWRlUm91dGVzKVxuXG5cbmFwcC51c2UoZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCIsIFwiKlwiKTsgLy8gKiBpbmRpY2F0ZXMgdGhhdCBhbnlvbmUgY2FuIGNvbm5lY3QuIENhbiBiZSBjaGFuZ2VkIHRvIHNwZWNpZmljIElQcy5cbiAgICByZXMuaGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIk9yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHRcIik7IC8vIFdoaWNoIGhlYWRlcnMgd2UgYWxsb3dcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgT1BUSU9OUywgUFVULCBQQVRDSCwgREVMRVRFJyk7IC8vIERlZmluaW5nIGFsbCB0eXBlIG9mIHJlcXVlc3RzIHdlIHdhbnQgdG8gYWNjZXB0LlxuICAgIG5leHQoKTtcbn0pO1xuXG5hcHAubGlzdGVuKEFQSV9QT1JULCAoKSA9PiBjb25zb2xlLmxvZyhgTElTVEVOSU5HIE9OIFBPUlQgJHtBUElfUE9SVH1gKSk7XG5cbi8vIEFkcmVzcyB0byBNb25nb0RCLiBPbiBmb3JtYXQ6IG1vbmdvZGI6Ly88dXNlcm5hbWU+Ojxwd2Q+QDxJUD4vPEROUz46PHBvcnQ+LzxkYXRhYmFzZT5cbmNvbnN0IGRiUm91dGUgPSAnbW9uZ29kYjovL3ZpY3Rvam86YWRtaW5AaXQyODEwLTM5LmlkaS5udG51Lm5vOjI3MDE3L2dyYWRlcyc7XG5cbi8vIENvbm5lY3RpbmcgdG8gdGhlIE1vbmdvREIgYnkgdXNpbmcgbW9uZ29vc2Vcbm1vbmdvb3NlLmNvbm5lY3QoZGJSb3V0ZSwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSwgdXNlRmluZEFuZE1vZGlmeTogZmFsc2UgfSk7XG4vLyBDb25uZWN0aW9uIGlzIG91ciBhY3RpdmUgY29ubmVjdGlvbiB0byB0aGUgTW9uZ29EQlxuY29uc3QgY29ubmVjdGlvbiA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XG5cbi8vIE9uY2UgdGhlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQsIGV4ZWN1dGUgdGhlIGNvbnRlbnQgb2YgZnVuY3Rpb25cbmNvbm5lY3Rpb24ub25jZSgnb3BlbicsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiTW9uZ29EQiBkYXRhYmFzZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseVwiKTtcbn0pXG5cbi8vIEhhbmRsZSBhbGwgNDA0IGVycm9ycyAobm90IGZvdW5kKVxuYXBwLnVzZSgocmVxLHJlcyxuZXh0KSA9PiB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJUaGUgaW5mb3JtYXRpb24geW91IGFyZSBsb29raW5nIGZvciBpcyBub3QgaGVyZSEgVHJ5IGEgZGlmZmVyZW50IHBhdGhcIilcbiAgfSlcblxuLy8gSGFuZGxlcyBhbGwgcmVxdWVzdHMgcmVzdWx0aW5nIGluIGEgNTAwIHJlc3BvbnNlXG5hcHAudXNlKChlcnIscmVxLHJlcyxuZXh0KSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spXG4gICAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsJy4uL3B1YmxpYy81MDAuaHRtbCcpKVxuICB9KVxuXG4vLyAgVVJMOiBodHRwczovL2dyYWRlcy5uby9hcGkvY291cnNlcy90ZHQ0MTQ1L2dyYWRlc1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "API_PORT",
        "app",
        "use",
        "bodyParser",
        "json",
        "courseRoutes",
        "gradeRoutes",
        "req",
        "res",
        "next",
        "header",
        "listen",
        "console",
        "log",
        "dbRoute",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useFindAndModify",
        "connection",
        "once",
        "status",
        "send",
        "err",
        "error",
        "stack",
        "sendFile",
        "path",
        "join",
        "__dirname"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA;AAGA,MAAMA,QAAQ,GAAG,IAAjB,C,CAAuB;;AACvB,MAAMC,GAAG,GAAG,uBAAZ,C,CAAuB;AAEvB;;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBG,eAApB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,8BAAR,EAAwCI,eAAxC;AAGAL,GAAG,CAACC,GAAJ,CAAQ,UAASK,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7BD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C,EAD6B,CACmB;;AAChDF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C,EAF6B,CAEiE;;AAC9FF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,wCAA3C,EAH6B,CAGyD;;AACtFD,EAAAA,IAAI;AACP,CALD;AAOAR,GAAG,CAACU,MAAJ,CAAWX,QAAX,EAAqB,MAAMY,OAAO,CAACC,GAAR,CAAa,qBAAoBb,QAAS,EAA1C,CAA3B,E,CAEA;;AACA,MAAMc,OAAO,GAAG,4DAAhB,C,CAEA;;AACAC,kBAASC,OAAT,CAAiBF,OAAjB,EAA0B;AAAEG,EAAAA,eAAe,EAAE,IAAnB;AAAyBC,EAAAA,kBAAkB,EAAE,IAA7C;AAAmDC,EAAAA,gBAAgB,EAAE;AAArE,CAA1B,E,CACA;;;AACA,MAAMC,UAAU,GAAGL,kBAASK,UAA5B,C,CAEA;;AACAA,UAAU,CAACC,IAAX,CAAgB,MAAhB,EAAwB,YAAW;AAC/BT,EAAAA,OAAO,CAACC,GAAR,CAAY,sDAAZ;AACH,CAFD,E,CAIA;;AACAZ,GAAG,CAACC,GAAJ,CAAQ,CAACK,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAkB;AACtBD,EAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uEAArB;AACD,CAFH,E,CAIA;;AACAtB,GAAG,CAACC,GAAJ,CAAQ,CAACsB,GAAD,EAAKjB,GAAL,EAASC,GAAT,EAAaC,IAAb,KAAsB;AAC1BG,EAAAA,OAAO,CAACa,KAAR,CAAcD,GAAG,CAACE,KAAlB;AACAlB,EAAAA,GAAG,CAACmB,QAAJ,CAAaC,cAAKC,IAAL,CAAUC,SAAV,EAAoB,oBAApB,CAAb;AACD,CAHH,E,CAKA",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourcesContent": [
        "import express from 'express'\nimport mongoose from 'mongoose'\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport cors from 'cors';\nimport courseRoutes from \"./routes/course\"\nimport gradeRoutes from \"./routes/grades\"\n// Babel is added as a dependency in package.json and used to type modern .js syntax and then transpiled. \n// import express from 'express' is equal to const express = require('express')\n\n\nconst API_PORT = 3001; // Listening for incoming HTTP requests on port 3001\nconst app = express(); // Creating an express-object\n\n// When calling app.use(), we add another \"filter\" for all requests to go through. E.g., app.use(bodyParser.json()) parses incoming requests to JSON-format.\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/courses', courseRoutes)\napp.use('/courses/:course_code/grades', gradeRoutes)\n\n\napp.use(function(req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\"); // * indicates that anyone can connect. Can be changed to specific IPs.\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); // Which headers we allow\n    res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE'); // Defining all type of requests we want to accept.\n    next();\n});\n\napp.listen(API_PORT, () => console.log(`LISTENING ON PORT ${API_PORT}`));\n\n// Adress to MongoDB. On format: mongodb://<username>:<pwd>@<IP>/<DNS>:<port>/<database>\nconst dbRoute = 'mongodb://victojo:admin@it2810-39.idi.ntnu.no:27017/grades';\n\n// Connecting to the MongoDB by using mongoose\nmongoose.connect(dbRoute, { useNewUrlParser: true, useUnifiedTopology: true, useFindAndModify: false });\n// Connection is our active connection to the MongoDB\nconst connection = mongoose.connection;\n\n// Once the connection is established, execute the content of function\nconnection.once('open', function() {\n    console.log(\"MongoDB database connection established successfully\");\n})\n\n// Handle all 404 errors (not found)\napp.use((req,res,next) => {\n    res.status(404).send(\"The information you are looking for is not here! Try a different path\")\n  })\n\n// Handles all requests resulting in a 500 response\napp.use((err,req,res,next) => {\n    console.error(err.stack)\n    res.sendFile(path.join(__dirname,'../public/500.html'))\n  })\n\n//  URL: https://grades.no/api/courses/tdt4145/grades\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571653671533
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
        "sourceFileName": "course.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"../models/course.model\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst courseRoutes = _express.default.Router();\n\ncourseRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ncourseRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n\n  next();\n}); // The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ncourseRoutes.route('/').get(async function (req, res) {\n  // Saving all possible attributes for a course document in the collection in content object. \n  // Checks if attribute exists on req.query and saves it if it exists.\n  let content = {};\n  let query = await req.query;\n  var stringQuery = Object.keys(query)[0];\n\n  if (allLetters(stringQuery)) {\n    content.norwegian_name = {\n      $regex: RegExp(stringQuery),\n      $options: '-i'\n    };\n    console.log(\"BOKSTAVER\"); // const courses = await Course.find({'norwegian_name': {$regex : RegExp(/query/), $options:'-i'}})\n  } else if (containsNumber(stringQuery)) {\n    content.course_code = {\n      $regex: RegExp(stringQuery),\n      $options: '-i'\n    }; // const courses = await Course.find({'course_code': {$regex : RegExp(/query/), $options:'-i'}})\n\n    console.log(\"TALL\");\n  } // if (query._id) { content._id = query._id } \n  // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n  // if (query.credits) { content.credits = Number(query.credits)}\n  // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n  // if (query.taught_in_spring) { content.taught_in_spring = true} \n  // if (query.taught_in_autumn) { content.taught_in_autumn = true} \n  // if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n  // if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n  // Syntax to find partial match by using MongoDB find()-function:\n  // find(({norwegian_name : {$regex : /Ava/}})\n  // console.log(content)\n  // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n  // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n\n\n  let sorting = req.query.sorting ? req.query.sorting : 'norwegian_name';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n  // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n\n  _course.default.paginate(content, {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(paginated_content => {\n    // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n    res.json(paginated_content);\n  }).catch(error => {\n    // In case of error, return status 500 and error message.\n    res.status(500).json(error);\n  });\n}); // This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\n\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n  let course_code = req.params.course_code;\n  course = await _course.default.find({\n    course_code: course_code\n  }, (err, course) => {\n    res.json(course);\n  }).catch(error => res.status(500).json(error));\n}); // For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \n\ncourseRoutes.put('/:course_code', (req, res) => {\n  console.log(req.body.difficulty);\n  let difficulty = parseInt(req.body.difficulty); // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n\n  let course = _course.default.find({\n    course_code: req.params.course_code\n  });\n\n  if (req.body.review && 6 > difficulty > 0) {\n    console.log(req.params.course_code); // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n\n    _course.default.findOneAndUpdate(course, {\n      \"$push\": {\n        \"reviews\": req.body.review\n      },\n      \"$push\": {\n        \"difficulty\": parseInt(req.body.difficulty)\n      }\n    }).then(course => res.json(course)).catch(err => res.status(500).json(err));\n  }\n}); // TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\nvar _default = courseRoutes;\nexports.default = _default;\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/;\n  return letters.test(query);\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/;\n  return numbers.test(query);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VSb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInJvdXRlIiwiZ2V0IiwiY29udGVudCIsInF1ZXJ5Iiwic3RyaW5nUXVlcnkiLCJPYmplY3QiLCJrZXlzIiwiYWxsTGV0dGVycyIsIm5vcndlZ2lhbl9uYW1lIiwiJHJlZ2V4IiwiUmVnRXhwIiwiJG9wdGlvbnMiLCJjb25zb2xlIiwibG9nIiwiY29udGFpbnNOdW1iZXIiLCJjb3Vyc2VfY29kZSIsInNvcnRpbmciLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJDb3Vyc2UiLCJwYWdpbmF0ZSIsInNvcnQiLCJ0aGVuIiwicGFnaW5hdGVkX2NvbnRlbnQiLCJqc29uIiwiY2F0Y2giLCJlcnJvciIsInN0YXR1cyIsInBhcmFtcyIsImNvdXJzZSIsImZpbmQiLCJlcnIiLCJwdXQiLCJib2R5IiwiZGlmZmljdWx0eSIsInJldmlldyIsImZpbmRPbmVBbmRVcGRhdGUiLCJsZXR0ZXJzIiwidGVzdCIsIm51bWJlcnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBR0FGLFlBQVksQ0FBQ0csR0FBYixDQUFpQixvQkFBakIsRSxDQUNFOztBQUNBSCxZQUFZLENBQUNHLEdBQWIsQ0FBaUIsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN4Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEd0MsQ0FDUTs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNFRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxV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eEIsR0FBRyxDQUFDeUMsSUFBSixDQUFTQyxVQUFWO0FBQXhCO0FBQXJELEtBQWhDLEVBQ0NaLElBREQsQ0FDTU8sTUFBTSxJQUFJcEMsR0FBRyxDQUFDK0IsSUFBSixDQUFTSyxNQUFULENBRGhCLEVBRUNKLEtBRkQsQ0FFT00sR0FBRyxJQUFJdEMsR0FBRyxDQUFDa0MsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCTyxHQUFyQixDQUZkO0FBR0g7QUFDSixDQVpELEUsQ0FnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7ZUFHZTNDLFk7OztBQUlmLFNBQVNlLFVBQVQsQ0FBb0JKLEtBQXBCLEVBQTJCO0FBQ3pCLE1BQUlzQyxPQUFPLEdBQUcsYUFBZDtBQUNBLFNBQU9BLE9BQU8sQ0FBQ0MsSUFBUixDQUFhdkMsS0FBYixDQUFQO0FBQ0Q7O0FBRUQsU0FBU1csY0FBVCxDQUF3QlgsS0FBeEIsRUFBK0I7QUFDN0IsTUFBSXdDLE9BQU8sR0FBRyxJQUFkO0FBQ0EsU0FBT0EsT0FBTyxDQUFDRCxJQUFSLENBQWF2QyxLQUFiLENBQVA7QUFDRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvamVubnl5dS9Eb2N1bWVudHMvTlROVS8zLiBIMjAxOS9XZWJEZXYvcHJvc2pla3RfMy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgQ291cnNlIGZyb20gJy4uL21vZGVscy9jb3Vyc2UubW9kZWwnO1xuaW1wb3J0IHsgbW9kZWwgfSBmcm9tICdtb25nb29zZSc7XG5cblxuY29uc3QgY291cnNlUm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKVxuXG5cbmNvdXJzZVJvdXRlcy51c2UoY29ycygpKTtcbiAgLy8gQWxsb3cgY2xpZW50IHRvIGZldGNoIGRhdGFcbiAgY291cnNlUm91dGVzLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7IC8vIENhbiBjaGFuZ2UgKiB0byBhbGxvdyByZXF1ZXN0IGZyb20gc3BlY2lmaWMgY2xpZW50cy4gSW4gdGhpcyBwcm9qZWN0IHdlIGRvbnQgY2FyZSB0byBoYW5kbGUgc2VjdXJpdHkgaXNzdWVzLlxuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBVVCcpOyAvLyBXZSBvbmx5IGFsbG93IEdFVCBhbmQgUFVUIHJlcXVlc3RzLiBPbiBwdXJwb3NlLCB3ZSBkZWNpZGVkIHRvIG5vdCBoYXZlIGFueSBmdW5jdGlvbmFsaXR5IHRvIGFkZCBjb3Vyc2VzLCBuZWl0aGVyIGRlbGV0ZSB0aGVtLlxuICAgICAgbmV4dCgpO1xufSk7XG5cbi8vIFRoZSBmdW5jdGlvbiBwYXNzZWQgaW50byB0aGUgZ2V0IGZ1bmN0aW9uIGhhbmRsZXMgYWxsIEdFVCByZXF1ZXN0cyBzZW50IHRvIGl0MjgxMC0zOS5pZGkubnRudS5ubzo8UE9SVC1OVU1CRVI+L2NvdXJzZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIENvdXJzZS5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmNvdXJzZVJvdXRlcy5yb3V0ZSgnLycpLmdldChhc3luYyBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIFxuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdC4gXG4gICAgLy8gQ2hlY2tzIGlmIGF0dHJpYnV0ZSBleGlzdHMgb24gcmVxLnF1ZXJ5IGFuZCBzYXZlcyBpdCBpZiBpdCBleGlzdHMuXG4gICAgbGV0IGNvbnRlbnQgPSB7fTtcbiAgICBsZXQgcXVlcnkgPSBhd2FpdCByZXEucXVlcnk7XG4gICAgdmFyIHN0cmluZ1F1ZXJ5ID0gT2JqZWN0LmtleXMocXVlcnkpWzBdXG5cbiAgICBcbiAgICBpZihhbGxMZXR0ZXJzKHN0cmluZ1F1ZXJ5KSkge1xuICAgICAgY29udGVudC5ub3J3ZWdpYW5fbmFtZSA9IHskcmVnZXggOiBSZWdFeHAoc3RyaW5nUXVlcnkpLCAkb3B0aW9uczonLWknfVxuICAgICAgY29uc29sZS5sb2coXCJCT0tTVEFWRVJcIilcbiAgICAgIC8vIGNvbnN0IGNvdXJzZXMgPSBhd2FpdCBDb3Vyc2UuZmluZCh7J25vcndlZ2lhbl9uYW1lJzogeyRyZWdleCA6IFJlZ0V4cCgvcXVlcnkvKSwgJG9wdGlvbnM6Jy1pJ319KVxuICAgIH1cbiAgICBlbHNlIGlmIChjb250YWluc051bWJlcihzdHJpbmdRdWVyeSkpIHtcbiAgICAgIGNvbnRlbnQuY291cnNlX2NvZGUgPSB7JHJlZ2V4OiBSZWdFeHAoc3RyaW5nUXVlcnkpLCAkb3B0aW9uczonLWknfVxuICAgICAgLy8gY29uc3QgY291cnNlcyA9IGF3YWl0IENvdXJzZS5maW5kKHsnY291cnNlX2NvZGUnOiB7JHJlZ2V4IDogUmVnRXhwKC9xdWVyeS8pLCAkb3B0aW9uczonLWknfX0pXG4gICAgICBjb25zb2xlLmxvZyhcIlRBTExcIilcbiAgICB9XG5cblxuICAgIC8vIGlmIChxdWVyeS5faWQpIHsgY29udGVudC5faWQgPSBxdWVyeS5faWQgfSBcbiAgICAvLyBpZiAocXVlcnkuY291cnNlX2NvZGUpIHsgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXg6IFJlZ0V4cChxdWVyeS5jb3Vyc2VfY29kZSksICRvcHRpb25zOictaSd9fVxuICAgIC8vIGlmIChxdWVyeS5jcmVkaXRzKSB7IGNvbnRlbnQuY3JlZGl0cyA9IE51bWJlcihxdWVyeS5jcmVkaXRzKX1cbiAgICAvLyBpZiAocXVlcnkubm9yd2VnaWFuX25hbWUpIHsgY29udGVudC5ub3J3ZWdpYW5fbmFtZSA9IHskcmVnZXggOiBSZWdFeHAocXVlcnkubm9yd2VnaWFuX25hbWUpLCAkb3B0aW9uczonLWknfX1cbiAgICAvLyBpZiAocXVlcnkudGF1Z2h0X2luX3NwcmluZykgeyBjb250ZW50LnRhdWdodF9pbl9zcHJpbmcgPSB0cnVlfSBcbiAgICAvLyBpZiAocXVlcnkudGF1Z2h0X2luX2F1dHVtbikgeyBjb250ZW50LnRhdWdodF9pbl9hdXR1bW4gPSB0cnVlfSBcbiAgICAvLyBpZiAocXVlcnkuY29udGVudCkgeyBjb250ZW50LmNvbnRlbnQgPSB7JHJlZ2V4OiBSZWdFeHAocXVlcnkuY29udGVudCksICRvcHRpb25zOictaSd9fVxuICAgIC8vIGlmIChxdWVyeS5sZWFybmluZ19nb2FsKSB7IGNvbnRlbnQubGVhcm5pbmdfZ29hbCA9IHskcmVnZXg6IFJlZ0V4cChxdWVyeS5sZWFybmluZ19nb2FsKSwgJG9wdGlvbnM6Jy1pJ319XG5cbiAgICAvLyBTeW50YXggdG8gZmluZCBwYXJ0aWFsIG1hdGNoIGJ5IHVzaW5nIE1vbmdvREIgZmluZCgpLWZ1bmN0aW9uOlxuICAgIC8vIGZpbmQoKHtub3J3ZWdpYW5fbmFtZSA6IHskcmVnZXggOiAvQXZhL319KVxuICAgIC8vIGNvbnNvbGUubG9nKGNvbnRlbnQpXG4gICAgLy8gY29uc3QgY291cnNlcyA9IGF3YWl0IENvdXJzZS5maW5kKChjb250ZW50KSwgZnVuY3Rpb24oZXJyLCBjb3Vyc2VzKSB7fSkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgIFxuICAgIC8vIFZhbHVlcyByZXRyaWV2ZWQgYnkgdGhlIHF1ZXJ5LCBlbHNlIHNldCB0byBkZWZhdWx0IHZhbHVlcy4gVXNlZCBpbiBwYWdpbmF0aW9uIGFuZCBzb3J0aW5nIG9mIHJlc3VsdHMuXG4gICAgbGV0IHNvcnRpbmcgPSByZXEucXVlcnkuc29ydGluZyA/IHJlcS5xdWVyeS5zb3J0aW5nOiAnbm9yd2VnaWFuX25hbWUnO1xuICAgIGxldCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciA/IHJlcS5xdWVyeS5vcmRlciA6ICcxJztcbiAgICBsZXQgcGFnZSA9IHJlcS5xdWVyeS5wYWdlID8gcmVxLnF1ZXJ5LnBhZ2UgOiAxO1xuICAgIGxldCBwYWdlcz1wYXJzZUludChwYWdlKTtcbiAgICBsZXQgbGltaXQgPSByZXEucXVlcnkubGltaXQgPyByZXEucXVlcnkubGltaXQgOiAxMDtcbiAgICBsZXQgbGltPXBhcnNlSW50KGxpbWl0KTtcblxuICAgIC8vIFVzZXMgbW9uZ29vc2UtcGFnaW5hdGUgdG8gcGFnaW5hdGUgcmVzdWx0cy4gUGx1Z2luIGluIGltcG9ydGVkIGluIHRoZSBjb3Vyc2UubW9kZWwuanMuIFJlc3BvbnNlIHRvIGNsaWVudCBpcyBzZW50IGluIHRoaXMgZnVuY3Rpb24uIFxuICAgIC8vIFRha2VzIHRvIGFyZ3VtZW50cy4gT25lIGNvbnRlbnQgb2JqZWN0LCBhbmQgb25lIG9iamVjdCBjb250YWluaW5nIHBhZ2VzLCBwYWdlIGxpbWl0IGFuZCB3aGF0IHRvIHNvcnQgYnkuXG4gICAgQ291cnNlLnBhZ2luYXRlKGNvbnRlbnQsXG4gICAgICAgIHsgICBwYWdlOiBwYWdlcyxcbiAgICAgICAgICAgIGxpbWl0OiBsaW0sXG4gICAgICAgICAgICBzb3J0OiB7W3NvcnRpbmddOltvcmRlcl19XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHBhZ2luYXRlZF9jb250ZW50ID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSBjb250ZW50IGluIGpzb24oKSBpcyB3aGF0IGlzIGJlaW5nIHJldHVybmVkIGluIHRoZSBIVFRQIFJlc3BvbnNlLiBJbiB0aGlzIGNhc2UgcGFnaW5hdGVkX2NvbnRlbnQgaXMgdGhlIGVudGlyZSBwYWdlIGNvbnRhaW5pbmcgYWxsICNwYWdlIG9mIG9iamVjdHNcbiAgICAgICAgICAgIHJlcy5qc29uKHBhZ2luYXRlZF9jb250ZW50KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgZXJyb3IsIHJldHVybiBzdGF0dXMgNTAwIGFuZCBlcnJvciBtZXNzYWdlLlxuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycm9yKTtcbiAgICAgICAgfSlcbn0pO1xuXG4vLyBUaGlzIHBhdGggZW5kcG9pbnQgaXMgdXNlZCB0byByZXRyaWV2ZSBhIGNvdXJzZSBieSBpdHMgY291cnNlX2NvZGUuIFRoaXMgd2lsbCByZXR1cm4gYSBjb3Vyc2Ugb2JqZWN0IGluIEpTT04gZm9ybWF0IGFzIHJlc3BvbnNlIHRvIGEgR0VUIHJlcXVlc3Qgb24gY291cnNlX2NvZGUuXG5jb3Vyc2VSb3V0ZXMucm91dGUoJy86Y291cnNlX2NvZGUnKS5nZXQoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgbGV0IGNvdXJzZV9jb2RlID0gcmVxLnBhcmFtcy5jb3Vyc2VfY29kZTtcbiAgICBjb3Vyc2UgPSBhd2FpdCBDb3Vyc2UuZmluZCh7Y291cnNlX2NvZGUgOiBjb3Vyc2VfY29kZX0sIChlcnIsIGNvdXJzZSkgPT4ge1xuICAgICAgICByZXMuanNvbihjb3Vyc2UpO1xuICAgIH0pLmNhdGNoKGVycm9yID0+IHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycm9yKSk7XG59KTtcblxuXG4vLyBGb3IgdXBkYXRpbmcgcm93cyBpbiBjb2xsZWN0aW9uIHdpdGggcmV2aWV3cyBhbmQgcmF0ZWQgZGlmZmljdWx0eS4gUFVUIHJlcXVlc3RzIHRvIGl0MjgxMC4zOS5pZGkubnRudS5ubzozMDAxL2NvdXJzZXMvPENPVVJTRV9DT0RFPiB3aWxsIHVwZGF0ZSB0aGUgY291cnNlIFxuLy8gaWYgdGhlIHJlcXVlc3QgY29udGFpbnMgYSByZXZpZXcgQU5EIGEgZGlmZmljdWx0eS4gXG5jb3Vyc2VSb3V0ZXMucHV0KCcvOmNvdXJzZV9jb2RlJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLmJvZHkuZGlmZmljdWx0eSlcbiAgICBsZXQgZGlmZmljdWx0eSA9IHBhcnNlSW50KHJlcS5ib2R5LmRpZmZpY3VsdHkpXG4gICAgLy8gRmluZCB0aGUgY29ycmVjdCBjb3Vyc2UgaW4gdGhlIERCLiBDb3Vyc2VfY29kZSBpcyBhIHByaW1hcnkga2V5LCBhbmQgdGhlIHNlYXJjaCB3aWxsIGFsd2F5cyByZXR1cm4gb25lIHJlc3VsdC5cbiAgICBsZXQgY291cnNlID0gQ291cnNlLmZpbmQoe2NvdXJzZV9jb2RlIDogcmVxLnBhcmFtcy5jb3Vyc2VfY29kZX0pXG4gICAgaWYgKHJlcS5ib2R5LnJldmlldyAmJiA2PmRpZmZpY3VsdHk+MCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLmNvdXJzZV9jb2RlKVxuICAgICAgICAvLyBGaW5kIGRvY3VtZW50IFwiY291cnNlXCIgaW4gZGIgYW5kIHB1c2ggdGhlIHJldmlldyB0byB0aGUgcmV2aWV3IGFycmF5IG9uIHRoZSBkb2N1bWVudC4gQWxzbyB1cGRhdGUgZGlmZmljdWx0eSB0byBuZXcgYXZlcmFnZS5cbiAgICAgICAgQ291cnNlLmZpbmRPbmVBbmRVcGRhdGUoY291cnNlLCB7XCIkcHVzaFwiOiB7IFwicmV2aWV3c1wiOiByZXEuYm9keS5yZXZpZXcgfSwgIFwiJHB1c2hcIiA6IHtcImRpZmZpY3VsdHlcIiA6IHBhcnNlSW50KHJlcS5ib2R5LmRpZmZpY3VsdHkpfX0pXG4gICAgICAgIC50aGVuKGNvdXJzZSA9PiByZXMuanNvbihjb3Vyc2UpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycikpICAgXG4gICAgfSAgICBcbn0pO1xuXG5cblxuLy8gVE9ETzogUmV3cml0ZSB0aGlzIHRvIGhhbmRsZSBhZGRpbmcgcmV2aWV3cyBvZiBjb3Vyc2VzXG4vLyBjb3Vyc2VSb3V0ZXMucm91dGUoJy86Y291cnNlX2NvZGUvYWRkJykucG9zdChmdW5jdGlvbihyZXEsIHJlcykge1xuLy8gICAgIGxldCBjb3Vyc2UgPSBuZXcgQ291cnNlKHJlcS5ib2R5KTtcbi8vICAgICBjb3Vyc2Uuc2F2ZSgpXG4vLyAgICAgICAgIC50aGVuKGNvdXJzZSA9PiB7XG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7J0NvdXJzZSc6ICdSZXZpZXdzIGFkZGVkIHN1Y2Nlc3NmdWxseS4nfSk7XG4vLyAgICAgICAgIH0pXG4vLyAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuLy8gICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0FkZGluZyBuZXcgcmV2aWV3IHRvIGNvdXJzZSwgJywgY291cnNlLCAnLCBmYWlsZWQnKTtcbi8vICAgICAgICAgfSk7XG4vLyB9KTtcblxuXG5leHBvcnQgZGVmYXVsdCBjb3Vyc2VSb3V0ZXM7XG5cblxuXG5mdW5jdGlvbiBhbGxMZXR0ZXJzKHF1ZXJ5KSB7XG4gIGxldCBsZXR0ZXJzID0gL15bQS1aYS16XSskL1xuICByZXR1cm4gbGV0dGVycy50ZXN0KHF1ZXJ5KVxufVxuXG5mdW5jdGlvbiBjb250YWluc051bWJlcihxdWVyeSkge1xuICBsZXQgbnVtYmVycyA9IC9cXGQvXG4gIHJldHVybiBudW1iZXJzLnRlc3QocXVlcnkpXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "course.js"
      ],
      "names": [
        "courseRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "content",
        "query",
        "stringQuery",
        "Object",
        "keys",
        "allLetters",
        "norwegian_name",
        "$regex",
        "RegExp",
        "$options",
        "console",
        "log",
        "containsNumber",
        "course_code",
        "sorting",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "Course",
        "paginate",
        "sort",
        "then",
        "paginated_content",
        "json",
        "catch",
        "error",
        "status",
        "params",
        "course",
        "find",
        "err",
        "put",
        "body",
        "difficulty",
        "review",
        "findOneAndUpdate",
        "letters",
        "test",
        "numbers"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import express from 'express';\nimport cors from 'cors';\nimport Course from '../models/course.model';\nimport { model } from 'mongoose';\n\n\nconst courseRoutes = express.Router()\n\n\ncourseRoutes.use(cors());\n  // Allow client to fetch data\n  courseRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ncourseRoutes.route('/').get(async function(req, res) {\n    \n\n    // Saving all possible attributes for a course document in the collection in content object. \n    // Checks if attribute exists on req.query and saves it if it exists.\n    let content = {};\n    let query = await req.query;\n    var stringQuery = Object.keys(query)[0]\n\n    \n    if(allLetters(stringQuery)) {\n      content.norwegian_name = {$regex : RegExp(stringQuery), $options:'-i'}\n      console.log(\"BOKSTAVER\")\n      // const courses = await Course.find({'norwegian_name': {$regex : RegExp(/query/), $options:'-i'}})\n    }\n    else if (containsNumber(stringQuery)) {\n      content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n      // const courses = await Course.find({'course_code': {$regex : RegExp(/query/), $options:'-i'}})\n      console.log(\"TALL\")\n    }\n\n\n    // if (query._id) { content._id = query._id } \n    // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n    // if (query.credits) { content.credits = Number(query.credits)}\n    // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n    // if (query.taught_in_spring) { content.taught_in_spring = true} \n    // if (query.taught_in_autumn) { content.taught_in_autumn = true} \n    // if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n    // if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n\n    // Syntax to find partial match by using MongoDB find()-function:\n    // find(({norwegian_name : {$regex : /Ava/}})\n    // console.log(content)\n    // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n    \n    // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n    let sorting = req.query.sorting ? req.query.sorting: 'norwegian_name';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n\n    // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n    // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n    Course.paginate(content,\n        {   page: pages,\n            limit: lim,\n            sort: {[sorting]:[order]}\n        })\n        .then(paginated_content => {\n            // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n            res.json(paginated_content);\n        })\n        .catch(error => {\n            // In case of error, return status 500 and error message.\n          res.status(500).json(error);\n        })\n});\n\n// This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n    let course_code = req.params.course_code;\n    course = await Course.find({course_code : course_code}, (err, course) => {\n        res.json(course);\n    }).catch(error => res.status(500).json(error));\n});\n\n\n// For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \ncourseRoutes.put('/:course_code', (req, res) => {\n    console.log(req.body.difficulty)\n    let difficulty = parseInt(req.body.difficulty)\n    // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n    let course = Course.find({course_code : req.params.course_code})\n    if (req.body.review && 6>difficulty>0) {\n        console.log(req.params.course_code)\n        // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n        Course.findOneAndUpdate(course, {\"$push\": { \"reviews\": req.body.review },  \"$push\" : {\"difficulty\" : parseInt(req.body.difficulty)}})\n        .then(course => res.json(course))\n        .catch(err => res.status(500).json(err))   \n    }    \n});\n\n\n\n// TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\n\nexport default courseRoutes;\n\n\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/\n  return letters.test(query)\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/\n  return numbers.test(query)\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1571653793013
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
        "sourceFileName": "course.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Course = new Schema({\n  norwegian_name: {\n    type: String\n  },\n  course_code: {\n    type: String\n  },\n  credit: {\n    type: Number\n  },\n  taught_in_spring: {\n    type: Boolean\n  },\n  taught_in_autumn: {\n    type: Boolean\n  },\n  content: {\n    type: String\n  },\n  learning_goal: {\n    type: String\n  },\n  reviews: {\n    type: Array\n  },\n  difficulty: {\n    type: Array\n  }\n}, {\n  collection: 'courses'\n});\nCourse.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Course', Course);\nvar _default = Course;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvdXJzZSIsIm5vcndlZ2lhbl9uYW1lIiwidHlwZSIsIlN0cmluZyIsImNvdXJzZV9jb2RlIiwiY3JlZGl0IiwiTnVtYmVyIiwidGF1Z2h0X2luX3NwcmluZyIsIkJvb2xlYW4iLCJ0YXVnaHRfaW5fYXV0dW1uIiwiY29udGVudCIsImxlYXJuaW5nX2dvYWwiLCJyZXZpZXdzIiwiQXJyYXkiLCJkaWZmaWN1bHR5IiwiY29sbGVjdGlvbiIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsSUFBSUUsTUFBTSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUNwQkcsRUFBQUEsY0FBYyxFQUFFO0FBQ1pDLElBQUFBLElBQUksRUFBRUM7QUFETSxHQURJO0FBSXBCQyxFQUFBQSxXQUFXLEVBQUc7QUFDVkYsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBSk07QUFPcEJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKSCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FQWTtBQVVwQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDZEwsSUFBQUEsSUFBSSxFQUFFTTtBQURRLEdBVkU7QUFhcEJDLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRU07QUFEUSxHQWJFO0FBZ0JwQkUsRUFBQUEsT0FBTyxFQUFFO0FBQ0xSLElBQUFBLElBQUksRUFBRUM7QUFERCxHQWhCVztBQW1CcEJRLEVBQUFBLGFBQWEsRUFBRTtBQUNYVCxJQUFBQSxJQUFJLEVBQUVDO0FBREssR0FuQks7QUFzQnBCUyxFQUFBQSxPQUFPLEVBQUU7QUFDTFYsSUFBQUEsSUFBSSxFQUFFVztBQURELEdBdEJXO0FBeUJwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JaLElBQUFBLElBQUksRUFBRVc7QUFERTtBQXpCUSxDQUFYLEVBNkJUO0FBQUVFLEVBQUFBLFVBQVUsRUFBRztBQUFmLENBN0JTLENBQWI7QUFnQ0lmLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY0MseUJBQWQ7QUFHSkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsa0JBQVNxQixLQUFULENBQWUsUUFBZixFQUF5QnBCLE1BQXpCLENBQWpCO2VBRWVBLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL2plbm55eXUvRG9jdW1lbnRzL05UTlUvMy4gSDIwMTkvV2ViRGV2L3Byb3NqZWt0XzMvYmFja2VuZC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgbW9uZ29vc2VQYWdpbmF0ZSBmcm9tICdtb25nb29zZS1wYWdpbmF0ZSc7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxubGV0IENvdXJzZSA9IG5ldyBTY2hlbWEoe1xuICAgIG5vcndlZ2lhbl9uYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgY291cnNlX2NvZGUgOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgY3JlZGl0OiB7XG4gICAgICAgIHR5cGU6IE51bWJlclxuICAgIH0sXG4gICAgdGF1Z2h0X2luX3NwcmluZzoge1xuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAgfSxcbiAgICB0YXVnaHRfaW5fYXV0dW1uOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBsZWFybmluZ19nb2FsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgcmV2aWV3czoge1xuICAgICAgICB0eXBlOiBBcnJheVxuICAgIH0sXG4gICAgZGlmZmljdWx0eToge1xuICAgICAgICB0eXBlOiBBcnJheVxuICAgIH1cbiAgICB9LFxuICAgIHsgY29sbGVjdGlvbiA6ICdjb3Vyc2VzJyB9XG4gICAgKVxuXG4gICAgQ291cnNlLnBsdWdpbihtb25nb29zZVBhZ2luYXRlKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdDb3Vyc2UnLCBDb3Vyc2UpO1xuXG5leHBvcnQgZGVmYXVsdCBDb3Vyc2U7Il19",
    "map": {
      "version": 3,
      "sources": [
        "course.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Course",
        "norwegian_name",
        "type",
        "String",
        "course_code",
        "credit",
        "Number",
        "taught_in_spring",
        "Boolean",
        "taught_in_autumn",
        "content",
        "learning_goal",
        "reviews",
        "Array",
        "difficulty",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACpBG,EAAAA,cAAc,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADI;AAIpBC,EAAAA,WAAW,EAAG;AACVF,IAAAA,IAAI,EAAEC;AADI,GAJM;AAOpBE,EAAAA,MAAM,EAAE;AACJH,IAAAA,IAAI,EAAEI;AADF,GAPY;AAUpBC,EAAAA,gBAAgB,EAAE;AACdL,IAAAA,IAAI,EAAEM;AADQ,GAVE;AAapBC,EAAAA,gBAAgB,EAAE;AACdP,IAAAA,IAAI,EAAEM;AADQ,GAbE;AAgBpBE,EAAAA,OAAO,EAAE;AACLR,IAAAA,IAAI,EAAEC;AADD,GAhBW;AAmBpBQ,EAAAA,aAAa,EAAE;AACXT,IAAAA,IAAI,EAAEC;AADK,GAnBK;AAsBpBS,EAAAA,OAAO,EAAE;AACLV,IAAAA,IAAI,EAAEW;AADD,GAtBW;AAyBpBC,EAAAA,UAAU,EAAE;AACRZ,IAAAA,IAAI,EAAEW;AADE;AAzBQ,CAAX,EA6BT;AAAEE,EAAAA,UAAU,EAAG;AAAf,CA7BS,CAAb;AAgCIf,MAAM,CAACgB,MAAP,CAAcC,yBAAd;AAGJC,MAAM,CAACC,OAAP,GAAiBpB,kBAASqB,KAAT,CAAe,QAAf,EAAyBpB,MAAzB,CAAjB;eAEeA,M",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Course = new Schema({\n    norwegian_name: {\n        type: String\n    },\n    course_code : {\n        type: String\n    },\n    credit: {\n        type: Number\n    },\n    taught_in_spring: {\n        type: Boolean\n    },\n    taught_in_autumn: {\n        type: Boolean\n    },\n    content: {\n        type: String\n    },\n    learning_goal: {\n        type: String\n    },\n    reviews: {\n        type: Array\n    },\n    difficulty: {\n        type: Array\n    }\n    },\n    { collection : 'courses' }\n    )\n\n    Course.plugin(mongoosePaginate);\n\n\nmodule.exports = mongoose.model('Course', Course);\n\nexport default Course;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571653671532
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
        "sourceFileName": "grades.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _grades = _interopRequireDefault(require(\"../models/grades.model\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst gradeRoutes = _express.default.Router();\n\ngradeRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ngradeRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n  next();\n}); // The function passed into the get function handles all GET requests sent to /grades \n// Further on, we're calling Grades.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ngradeRoutes.route('/').get(async function (req, res) {\n  let sorting = req.query.sorting ? req.query.sorting : 'semester_code';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n  // Saving all possible attributes for a course document in the collection in content object\n\n  let content = {};\n  content.course_code = req.baseUrl.split('/')[2]; // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n  // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n\n  const grades = await _grades.default.find(content);\n  console.log(grades[0]); // The content in json() is what is being returned in the HTTP Response\n  // res.status(200).json(grades).send();\n\n  _grades.default.paginate(grades[0], {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(page => {\n    res.json(page);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}); // Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\n\ngradeRoutes.route('/:course_code').get(async function (req, res) {\n  let course_code = req.params.course_code;\n  const grades = await _grades.default.find({\n    course_code: course_code\n  }, function (err, grades) {\n    res.json(grades);\n  });\n  res.status(200).json(grades).send();\n});\nvar _default = gradeRoutes; // Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5qcyJdLCJuYW1lcyI6WyJncmFkZVJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicm91dGUiLCJnZXQiLCJzb3J0aW5nIiwicXVlcnkiLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJjb250ZW50IiwiY291cnNlX2NvZGUiLCJiYXNlVXJsIiwic3BsaXQiLCJncmFkZXMiLCJHcmFkZSIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzb3J0IiwidGhlbiIsImpzb24iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsInBhcmFtcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixvQkFBaEIsRSxDQUNFOztBQUNBSCxXQUFXLENBQUNHLEdBQVosQ0FBZ0IsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN2Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEdUMsQ0FDUzs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNFRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0M7QUFDQUQsRUFBQUEsSUFBSTtBQUNULENBTEMsRSxDQU9GO0FBQ0E7QUFDQTs7QUFDQU4sV0FBVyxDQUFDUSxLQUFaLENBQWtCLEdBQWxCLEVBQXVCQyxHQUF2QixDQUEyQixnQkFBZUwsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFDaEQsTUFBSUssT0FBTyxHQUFHTixHQUFHLENBQUNPLEtBQUosQ0FBVUQsT0FBVixHQUFvQk4sR0FBRyxDQUFDTyxLQUFKLENBQVVELE9BQTlCLEdBQXVDLGVBQXJEO0FBQ0EsTUFBSUUsS0FBSyxHQUFHUixHQUFHLENBQUNPLEtBQUosQ0FBVUMsS0FBVixHQUFrQlIsR0FBRyxDQUFDTyxLQUFKLENBQVVDLEtBQTVCLEdBQW9DLEdBQWhEO0FBQ0EsTUFBSUMsSUFBSSxHQUFHVCxHQUFHLENBQUNPLEtBQUosQ0FBVUUsSUFBVixHQUFpQlQsR0FBRyxDQUFDTyxLQUFKLENBQVVFLElBQTNCLEdBQWtDLENBQTdDO0FBQ0EsTUFBSUMsS0FBSyxHQUFDQyxRQUFRLENBQUNGLElBQUQsQ0FBbEI7QUFDQSxNQUFJRyxLQUFLLEdBQUdaLEdBQUcsQ0FBQ08sS0FBSixDQUFVSyxLQUFWLEdBQWtCWixHQUFHLENBQUNPLEtBQUosQ0FBVUssS0FBNUIsR0FBb0MsRUFBaEQ7QUFDQSxNQUFJQyxHQUFHLEdBQUNGLFFBQVEsQ0FBQ0MsS0FBRCxDQUFoQixDQU5nRCxDQU9oRDtBQUNBOztBQUNBLE1BQUlFLE9BQU8sR0FBRyxFQUFkO0FBQ0FBLEVBQUFBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQmYsR0FBRyxDQUFDZ0IsT0FBSixDQUFZQyxLQUFaLENBQWtCLEdBQWxCLEVBQXVCLENBQXZCLENBQXRCLENBVmdELENBV2hEO0FBR0E7O0FBQ0EsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLGdCQUFNQyxJQUFOLENBQVdOLE9BQVgsQ0FBckI7QUFDQU8sRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLE1BQU0sQ0FBQyxDQUFELENBQWxCLEVBaEJnRCxDQWtCaEQ7QUFDQTs7QUFFQUMsa0JBQU1JLFFBQU4sQ0FBZUwsTUFBTSxDQUFDLENBQUQsQ0FBckIsRUFBeUI7QUFDckJULElBQUFBLElBQUksRUFBRUMsS0FEZTtBQUVyQkUsSUFBQUEsS0FBSyxFQUFFQyxHQUZjO0FBR3JCVyxJQUFBQSxJQUFJLEVBQUU7QUFBQyxPQUFDbEIsT0FBRCxHQUFVLENBQUNFLEtBQUQ7QUFBWDtBQUhlLEdBQXpCLEVBS0tpQixJQUxMLENBS1VoQixJQUFJLElBQUk7QUFDZFIsSUFBQUEsR0FBRyxDQUFDeUIsSUFBSixDQUFTakIsSUFBVDtBQUNELEdBUEgsRUFRS2tCLEtBUkwsQ0FRV0MsR0FBRyxJQUFJO0FBQ1ozQixJQUFBQSxHQUFHLENBQUM0QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCO0FBQ0QsR0FWTDtBQVdILENBaENELEUsQ0FtQ0E7O0FBQ0FoQyxXQUFXLENBQUNRLEtBQVosQ0FBa0IsZUFBbEIsRUFBbUNDLEdBQW5DLENBQXVDLGdCQUFlTCxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUM1RCxNQUFJYyxXQUFXLEdBQUdmLEdBQUcsQ0FBQzhCLE1BQUosQ0FBV2YsV0FBN0I7QUFDQSxRQUFNRyxNQUFNLEdBQUcsTUFBTUMsZ0JBQU1DLElBQU4sQ0FBVztBQUFDTCxJQUFBQSxXQUFXLEVBQUdBO0FBQWYsR0FBWCxFQUF3QyxVQUFTYSxHQUFULEVBQWNWLE1BQWQsRUFBc0I7QUFDL0VqQixJQUFBQSxHQUFHLENBQUN5QixJQUFKLENBQVNSLE1BQVQ7QUFDSCxHQUZvQixDQUFyQjtBQUdBakIsRUFBQUEsR0FBRyxDQUFDNEIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCUixNQUFyQixFQUE2QmEsSUFBN0I7QUFHSCxDQVJEO2VBVWVuQyxXLEVBRWY7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvamVubnl5dS9Eb2N1bWVudHMvTlROVS8zLiBIMjAxOS9XZWJEZXYvcHJvc2pla3RfMy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHcmFkZSBmcm9tICcuLi9tb2RlbHMvZ3JhZGVzLm1vZGVsJ1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IGdyYWRlUm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuZ3JhZGVSb3V0ZXMudXNlKGNvcnMoKSk7XG4gIC8vIEFsbG93IGNsaWVudCB0byBmZXRjaCBkYXRhXG4gIGdyYWRlUm91dGVzLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7IC8vIENhbiBjaGFuZ2UgKiB0byBhbGxvdyByZXF1ZXN0IGZyb20gc3BlY2lmaWMgY2xpZW50c1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIE9QVElPTlMsIFBVVCwgUEFUQ0gsIERFTEVURScpO1xuICAgICAgbmV4dCgpO1xufSk7XG5cbi8vIFRoZSBmdW5jdGlvbiBwYXNzZWQgaW50byB0aGUgZ2V0IGZ1bmN0aW9uIGhhbmRsZXMgYWxsIEdFVCByZXF1ZXN0cyBzZW50IHRvIC9ncmFkZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIEdyYWRlcy5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmdyYWRlUm91dGVzLnJvdXRlKCcvJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IHNvcnRpbmcgPSByZXEucXVlcnkuc29ydGluZyA/IHJlcS5xdWVyeS5zb3J0aW5nOiAnc2VtZXN0ZXJfY29kZSc7XG4gICAgbGV0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyID8gcmVxLnF1ZXJ5Lm9yZGVyIDogJzEnO1xuICAgIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyByZXEucXVlcnkucGFnZSA6IDE7XG4gICAgbGV0IHBhZ2VzPXBhcnNlSW50KHBhZ2UpO1xuICAgIGxldCBsaW1pdCA9IHJlcS5xdWVyeS5saW1pdCA/IHJlcS5xdWVyeS5saW1pdCA6IDEwO1xuICAgIGxldCBsaW09cGFyc2VJbnQobGltaXQpO1xuICAgIC8vIEFjY2VzcyBjb3Vyc2VfY29kZSBmcm9tIFVSTCBieSBzcGxpdHRpbmcgb24gLyBhbmQgc2VsZWN0aW5nIHRoZSAzcmQgZWxlbWVudC4gV2lsbCB3b3JrIGZvciBldmVyeSBwb3NzaWJsZSBzdGF0ZSBpbiB0aGlzIHByb2plY3QuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdFxuICAgIGxldCBjb250ZW50ID0ge307XG4gICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHJlcS5iYXNlVXJsLnNwbGl0KCcvJylbMl1cbiAgICAvLyBpZiAocXVlcnkuY291cnNlX2NvZGUpIHsgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXggOiBSZWdFeHAocXVlcnkuY291cnNlX2NvZGUpLCAkb3B0aW9uczonLWknfSB9XG5cbiAgICBcbiAgICAvLyBUaGUgY29udGVudCBvYmplY3QgYmVpbmcgc2VuZCBpbnRvIGZpbmQgaXMgb2YgdGhlIGZvcm0gZS5nLiwge2NvdXJzZV9jb2RlID0gXCJURFQ0MTQwXCJ9XG4gICAgY29uc3QgZ3JhZGVzID0gYXdhaXQgR3JhZGUuZmluZChjb250ZW50KTtcbiAgICBjb25zb2xlLmxvZyhncmFkZXNbMF0pXG4gICAgXG4gICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2VcbiAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgIEdyYWRlLnBhZ2luYXRlKGdyYWRlc1swXSx7XG4gICAgICAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICBsaW1pdDogbGltLFxuICAgICAgICBzb3J0OiB7W3NvcnRpbmddOltvcmRlcl1cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihwYWdlID0+IHtcbiAgICAgICAgcmVzLmpzb24ocGFnZSk7XG4gICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xuICAgICAgICB9KVxufSk7XG5cblxuLy8gTWFrZXMgaXQgcG9zc2libGUgdG8gZ28gZGlyZWN0bHkgdG8gdGhlIHNlbWVzdGVycyBvZiBhIGNvdXJzZSBvYmplY3QgYnkgdmlzaXRpbmcgaXQyODEwLTM5LmlkaS5udG51Lm5vOjMwMDEvZ3JhZGVzL1REVDQxMTBcbmdyYWRlUm91dGVzLnJvdXRlKCcvOmNvdXJzZV9jb2RlJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IGNvdXJzZV9jb2RlID0gcmVxLnBhcmFtcy5jb3Vyc2VfY29kZTtcbiAgICBjb25zdCBncmFkZXMgPSBhd2FpdCBHcmFkZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgZnVuY3Rpb24oZXJyLCBncmFkZXMpIHtcbiAgICAgICAgcmVzLmpzb24oZ3JhZGVzKTtcbiAgICB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZ3JhZGVSb3V0ZXM7XG5cbi8vIEZvcm1hdCBmb3Igc3DDuHJyaW5nZXI6XG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDEvZ3JhZGVzP2NvdXJzZV9jb2RlPVREVDQxMTAmc2VtZXN0ZXJzLnNlbWVzdGVyX2NvZGU9SDIwMThcblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "grades.js"
      ],
      "names": [
        "gradeRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "sorting",
        "query",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "content",
        "course_code",
        "baseUrl",
        "split",
        "grades",
        "Grade",
        "find",
        "console",
        "log",
        "paginate",
        "sort",
        "then",
        "json",
        "catch",
        "err",
        "status",
        "params",
        "send"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import Grade from '../models/grades.model'\nimport express from 'express';\nimport cors from 'cors';\nimport Axios from 'axios';\n\nconst gradeRoutes = express.Router();\n\ngradeRoutes.use(cors());\n  // Allow client to fetch data\n  gradeRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to /grades \n// Further on, we're calling Grades.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ngradeRoutes.route('/').get(async function(req, res) {\n    let sorting = req.query.sorting ? req.query.sorting: 'semester_code';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n    // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n    // Saving all possible attributes for a course document in the collection in content object\n    let content = {};\n    content.course_code = req.baseUrl.split('/')[2]\n    // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n\n    \n    // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n    const grades = await Grade.find(content);\n    console.log(grades[0])\n    \n    // The content in json() is what is being returned in the HTTP Response\n    // res.status(200).json(grades).send();\n\n    Grade.paginate(grades[0],{\n        page: pages,\n        limit: lim,\n        sort: {[sorting]:[order]\n        }\n      }).then(page => {\n        res.json(page);\n      })\n        .catch(err => {\n          res.status(500).json(err);\n        })\n});\n\n\n// Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\ngradeRoutes.route('/:course_code').get(async function(req, res) {\n    let course_code = req.params.course_code;\n    const grades = await Grade.find({course_code : course_code}, function(err, grades) {\n        res.json(grades);\n    });\n    res.status(200).json(grades).send();\n\n   \n});\n\nexport default gradeRoutes;\n\n// Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571653791764
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
        "sourceFileName": "grades.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Grade = new Schema({\n  course_code: {\n    type: String\n  },\n  semesters: {\n    type: Array\n  }\n}, {\n  collection: 'grades'\n});\nGrade.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Grade', Grade);\nvar _default = Grade;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkdyYWRlIiwiY291cnNlX2NvZGUiLCJ0eXBlIiwiU3RyaW5nIiwic2VtZXN0ZXJzIiwiQXJyYXkiLCJjb2xsZWN0aW9uIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxrQkFBU0QsTUFBeEI7QUFFQSxJQUFJRSxLQUFLLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ25CRyxFQUFBQSxXQUFXLEVBQUc7QUFDVkMsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBREs7QUFJbkJDLEVBQUFBLFNBQVMsRUFBRztBQUNSRixJQUFBQSxJQUFJLEVBQUVHO0FBREU7QUFKTyxDQUFYLEVBUVI7QUFBRUMsRUFBQUEsVUFBVSxFQUFHO0FBQWYsQ0FSUSxDQUFaO0FBVUlOLEtBQUssQ0FBQ08sTUFBTixDQUFhQyx5QkFBYjtBQUVKQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLGtCQUFTWSxLQUFULENBQWUsT0FBZixFQUF3QlgsS0FBeEIsQ0FBakI7ZUFFZUEsSyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvamVubnl5dS9Eb2N1bWVudHMvTlROVS8zLiBIMjAxOS9XZWJEZXYvcHJvc2pla3RfMy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlJztcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgR3JhZGUgPSBuZXcgU2NoZW1hKHtcbiAgICBjb3Vyc2VfY29kZSA6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBzZW1lc3RlcnMgOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfX0sXG5cbiAgICB7IGNvbGxlY3Rpb24gOiAnZ3JhZGVzJyB9XG4gICAgKVxuICAgIEdyYWRlLnBsdWdpbihtb25nb29zZVBhZ2luYXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnR3JhZGUnLCBHcmFkZSk7XG5cbmV4cG9ydCBkZWZhdWx0IEdyYWRlIl19",
    "map": {
      "version": 3,
      "sources": [
        "grades.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Grade",
        "course_code",
        "type",
        "String",
        "semesters",
        "Array",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,KAAK,GAAG,IAAIF,MAAJ,CAAW;AACnBG,EAAAA,WAAW,EAAG;AACVC,IAAAA,IAAI,EAAEC;AADI,GADK;AAInBC,EAAAA,SAAS,EAAG;AACRF,IAAAA,IAAI,EAAEG;AADE;AAJO,CAAX,EAQR;AAAEC,EAAAA,UAAU,EAAG;AAAf,CARQ,CAAZ;AAUIN,KAAK,CAACO,MAAN,CAAaC,yBAAb;AAEJC,MAAM,CAACC,OAAP,GAAiBX,kBAASY,KAAT,CAAe,OAAf,EAAwBX,KAAxB,CAAjB;eAEeA,K",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Grade = new Schema({\n    course_code : {\n        type: String\n    },\n    semesters : {\n        type: Array\n    }},\n\n    { collection : 'grades' }\n    )\n    Grade.plugin(mongoosePaginate);\n\nmodule.exports = mongoose.model('Grade', Grade);\n\nexport default Grade"
      ]
    },
    "sourceType": "script",
    "mtime": 1571590056672
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/course.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
        "sourceFileName": "course.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"../models/course.model\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst courseRoutes = _express.default.Router();\n\ncourseRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ncourseRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n\n  next();\n}); // The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ncourseRoutes.route('/').get(async function (req, res) {\n  // Saving all possible attributes for a course document in the collection in content object. \n  // Checks if attribute exists on req.query and saves it if it exists.\n  let content = {};\n  let query = await req.query;\n  var stringQuery = Object.keys(query)[0];\n\n  if (allLetters(stringQuery)) {\n    if (containsCode(stringQuery)) {\n      content.course_code = {\n        $regex: RegExp(stringQuery),\n        $options: '-i'\n      };\n    } else {\n      content.norwegian_name = {\n        $regex: RegExp(stringQuery),\n        $options: '-i'\n      };\n    }\n  } else if (containsNumber(stringQuery)) {\n    content.course_code = {\n      $regex: RegExp(stringQuery),\n      $options: '-i'\n    };\n  } // if (query._id) { content._id = query._id } \n  // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n  // if (query.credits) { content.credits = Number(query.credits)}\n  // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n  // if (query.taught_in_spring) { content.taught_in_spring = true} \n  // if (query.taught_in_autumn) { content.taught_in_autumn = true} \n  // if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n  // if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n  // Syntax to find partial match by using MongoDB find()-function:\n  // find(({norwegian_name : {$regex : /Ava/}})\n  // console.log(content)\n  // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n  // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n\n\n  let sorting = req.query.sorting ? req.query.sorting : 'norwegian_name';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n  // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n\n  _course.default.paginate(content, {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(paginated_content => {\n    // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n    res.json(paginated_content);\n  }).catch(error => {\n    // In case of error, return status 500 and error message.\n    res.status(500).json(error);\n  });\n}); // This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\n\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n  let course_code = req.params.course_code;\n  course = await _course.default.find({\n    course_code: course_code\n  }, (err, course) => {\n    res.json(course);\n  }).catch(error => res.status(500).json(error));\n}); // For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \n\ncourseRoutes.put('/:course_code', (req, res) => {\n  console.log(req.body.difficulty);\n  let difficulty = parseInt(req.body.difficulty); // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n\n  let course = _course.default.find({\n    course_code: req.params.course_code\n  });\n\n  if (req.body.review && 6 > difficulty > 0) {\n    console.log(req.params.course_code); // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n\n    _course.default.findOneAndUpdate(course, {\n      \"$push\": {\n        \"reviews\": req.body.review\n      },\n      \"$push\": {\n        \"difficulty\": parseInt(req.body.difficulty)\n      }\n    }).then(course => res.json(course)).catch(err => res.status(500).json(err));\n  }\n}); // TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\nvar _default = courseRoutes;\nexports.default = _default;\n\nfunction containsCode(query) {\n  let codes = \"tma tdt ttm it tfy\";\n  return codes.includes(query.toLowerCase());\n}\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/;\n  return letters.test(query);\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/;\n  return numbers.test(query);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VSb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInJvdXRlIiwiZ2V0IiwiY29udGVudCIsInF1ZXJ5Iiwic3RyaW5nUXVlcnkiLCJPYmplY3QiLCJrZXlzIiwiYWxsTGV0dGVycyIsImNvbnRhaW5zQ29kZSIsImNvdXJzZV9jb2RlIiwiJHJlZ2V4IiwiUmVnRXhwIiwiJG9wdGlvbnMiLCJub3J3ZWdpYW5fbmFtZSIsImNvbnRhaW5zTnVtYmVyIiwic29ydGluZyIsIm9yZGVyIiwicGFnZSIsInBhZ2VzIiwicGFyc2VJbnQiLCJsaW1pdCIsImxpbSIsIkNvdXJzZSIsInBhZ2luYXRlIiwic29ydCIsInRoZW4iLCJwYWdpbmF0ZWRfY29udGVudCIsImpzb24iLCJjYXRjaCIsImVycm9yIiwic3RhdHVzIiwicGFyYW1zIiwiY291cnNlIiwiZmluZCIsImVyciIsInB1dCIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiZGlmZmljdWx0eSIsInJldmlldyIsImZpbmRPbmVBbmRVcGRhdGUiLCJjb2RlcyIsImluY2x1ZGVzIiwidG9Mb3dlckNhc2UiLCJsZXR0ZXJzIiwidGVzdCIsIm51bWJlcnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLFlBQVksR0FBR0MsaUJBQVFDLE1BQVIsRUFBckI7O0FBR0FGLFlBQVksQ0FBQ0csR0FBYixDQUFpQixvQkFBakIsRSxDQUNFOztBQUNBSCxZQUFZLENBQUNHLEdBQWIsQ0FBaUIsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN4Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEd0MsQ0FDUTs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEz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QkFBUCxDQUF3QlQsTUFBeEIsRUFBZ0M7QUFBQyxlQUFTO0FBQUUsbUJBQVdwQyxHQUFHLENBQUMwQyxJQUFKLENBQVNFO0FBQXRCLE9BQVY7QUFBMkMsZUFBVTtBQUFDLHNCQUFlckIsUUFBUSxDQUFDdkIsR0FBRyxDQUFDMEMsSUFBSixDQUFTQyxVQUFWO0FBQXhCO0FBQXJELEtBQWhDLEVBQ0NkLElBREQsQ0FDTU8sTUFBTSxJQUFJbkMsR0FBRyxDQUFDOEIsSUFBSixDQUFTSyxNQUFULENBRGhCLEVBRUNKLEtBRkQsQ0FFT00sR0FBRyxJQUFJckMsR0FBRyxDQUFDaUMsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCTyxHQUFyQixDQUZkO0FBR0g7QUFDSixDQVpELEUsQ0FnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7ZUFHZTFDLFk7OztBQUVmLFNBQVNnQixZQUFULENBQXNCTCxLQUF0QixFQUE2QjtBQUMzQixNQUFJdUMsS0FBSyxHQUFHLG9CQUFaO0FBQ0EsU0FBT0EsS0FBSyxDQUFDQyxRQUFOLENBQWV4QyxLQUFLLENBQUN5QyxXQUFOLEVBQWYsQ0FBUDtBQUNEOztBQUdELFNBQVNyQyxVQUFULENBQW9CSixLQUFwQixFQUEyQjtBQUN6QixNQUFJMEMsT0FBTyxHQUFHLGFBQWQ7QUFDQSxTQUFPQSxPQUFPLENBQUNDLElBQVIsQ0FBYTNDLEtBQWIsQ0FBUDtBQUNEOztBQUVELFNBQVNXLGNBQVQsQ0FBd0JYLEtBQXhCLEVBQStCO0FBQzdCLE1BQUk0QyxPQUFPLEdBQUcsSUFBZDtBQUNBLFNBQU9BLE9BQU8sQ0FBQ0QsSUFBUixDQUFhM0MsS0FBYixDQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL2plbm55eXUvRG9jdW1lbnRzL05UTlUvMy4gSDIwMTkvV2ViRGV2L3Byb3NqZWt0XzMvYmFja2VuZC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IENvdXJzZSBmcm9tICcuLi9tb2RlbHMvY291cnNlLm1vZGVsJztcbmltcG9ydCB7IG1vZGVsIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5cbmNvbnN0IGNvdXJzZVJvdXRlcyA9IGV4cHJlc3MuUm91dGVyKClcblxuXG5jb3Vyc2VSb3V0ZXMudXNlKGNvcnMoKSk7XG4gIC8vIEFsbG93IGNsaWVudCB0byBmZXRjaCBkYXRhXG4gIGNvdXJzZVJvdXRlcy51c2UoZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpOyAvLyBDYW4gY2hhbmdlICogdG8gYWxsb3cgcmVxdWVzdCBmcm9tIHNwZWNpZmljIGNsaWVudHMuIEluIHRoaXMgcHJvamVjdCB3ZSBkb250IGNhcmUgdG8gaGFuZGxlIHNlY3VyaXR5IGlzc3Vlcy5cbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQVVQnKTsgLy8gV2Ugb25seSBhbGxvdyBHRVQgYW5kIFBVVCByZXF1ZXN0cy4gT24gcHVycG9zZSwgd2UgZGVjaWRlZCB0byBub3QgaGF2ZSBhbnkgZnVuY3Rpb25hbGl0eSB0byBhZGQgY291cnNlcywgbmVpdGhlciBkZWxldGUgdGhlbS5cbiAgICAgIG5leHQoKTtcbn0pO1xuXG4vLyBUaGUgZnVuY3Rpb24gcGFzc2VkIGludG8gdGhlIGdldCBmdW5jdGlvbiBoYW5kbGVzIGFsbCBHRVQgcmVxdWVzdHMgc2VudCB0byBpdDI4MTAtMzkuaWRpLm50bnUubm86PFBPUlQtTlVNQkVSPi9jb3Vyc2VzIFxuLy8gRnVydGhlciBvbiwgd2UncmUgY2FsbGluZyBDb3Vyc2UuZmluZCB0byBnZXQgYSBsaXN0IG9mIGFsbCBjb3Vyc2UgaXRlbXMgZnJvbSB0aGUgTW9uZ29EQi4gVGhlIGZpbmQgZnVuY3Rpb24gdGFrZXMgb25lIGFyZ3VtZW50LCBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4vLyB3aGljaCBpcyBleGVjdXRlZCBvbmNlIHRoZSByZXN1bHQgaXMgYXZhaWxhYmxlLiBBbGwgcmVzdWx0cyBhdmFpbGFibGUgaW4gY291cnNlcyBhcmUgYWRkZWQgaW4gSlNPTiBmb3JtYXQgdG8gdGhlIHJlc3BvbnNlIGJ5IGNhbGxpbmcgcmVzLmpzb24oY291cnNlcykuXG5jb3Vyc2VSb3V0ZXMucm91dGUoJy8nKS5nZXQoYXN5bmMgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBcblxuICAgIC8vIFNhdmluZyBhbGwgcG9zc2libGUgYXR0cmlidXRlcyBmb3IgYSBjb3Vyc2UgZG9jdW1lbnQgaW4gdGhlIGNvbGxlY3Rpb24gaW4gY29udGVudCBvYmplY3QuIFxuICAgIC8vIENoZWNrcyBpZiBhdHRyaWJ1dGUgZXhpc3RzIG9uIHJlcS5xdWVyeSBhbmQgc2F2ZXMgaXQgaWYgaXQgZXhpc3RzLlxuICAgIGxldCBjb250ZW50ID0ge307XG4gICAgbGV0IHF1ZXJ5ID0gYXdhaXQgcmVxLnF1ZXJ5O1xuICAgIHZhciBzdHJpbmdRdWVyeSA9IE9iamVjdC5rZXlzKHF1ZXJ5KVswXVxuXG4gICAgXG4gICAgaWYoYWxsTGV0dGVycyhzdHJpbmdRdWVyeSkpIHtcbiAgICAgIGlmKGNvbnRhaW5zQ29kZShzdHJpbmdRdWVyeSkpIHtcbiAgICAgICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXg6IFJlZ0V4cChzdHJpbmdRdWVyeSksICRvcHRpb25zOictaSd9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29udGVudC5ub3J3ZWdpYW5fbmFtZSA9IHskcmVnZXggOiBSZWdFeHAoc3RyaW5nUXVlcnkpLCAkb3B0aW9uczonLWknfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChjb250YWluc051bWJlcihzdHJpbmdRdWVyeSkpIHtcbiAgICAgIGNvbnRlbnQuY291cnNlX2NvZGUgPSB7JHJlZ2V4OiBSZWdFeHAoc3RyaW5nUXVlcnkpLCAkb3B0aW9uczonLWknfVxuICAgIH1cblxuXG4gICAgLy8gaWYgKHF1ZXJ5Ll9pZCkgeyBjb250ZW50Ll9pZCA9IHF1ZXJ5Ll9pZCB9IFxuICAgIC8vIGlmIChxdWVyeS5jb3Vyc2VfY29kZSkgeyBjb250ZW50LmNvdXJzZV9jb2RlID0geyRyZWdleDogUmVnRXhwKHF1ZXJ5LmNvdXJzZV9jb2RlKSwgJG9wdGlvbnM6Jy1pJ319XG4gICAgLy8gaWYgKHF1ZXJ5LmNyZWRpdHMpIHsgY29udGVudC5jcmVkaXRzID0gTnVtYmVyKHF1ZXJ5LmNyZWRpdHMpfVxuICAgIC8vIGlmIChxdWVyeS5ub3J3ZWdpYW5fbmFtZSkgeyBjb250ZW50Lm5vcndlZ2lhbl9uYW1lID0geyRyZWdleCA6IFJlZ0V4cChxdWVyeS5ub3J3ZWdpYW5fbmFtZSksICRvcHRpb25zOictaSd9fVxuICAgIC8vIGlmIChxdWVyeS50YXVnaHRfaW5fc3ByaW5nKSB7IGNvbnRlbnQudGF1Z2h0X2luX3NwcmluZyA9IHRydWV9IFxuICAgIC8vIGlmIChxdWVyeS50YXVnaHRfaW5fYXV0dW1uKSB7IGNvbnRlbnQudGF1Z2h0X2luX2F1dHVtbiA9IHRydWV9IFxuICAgIC8vIGlmIChxdWVyeS5jb250ZW50KSB7IGNvbnRlbnQuY29udGVudCA9IHskcmVnZXg6IFJlZ0V4cChxdWVyeS5jb250ZW50KSwgJG9wdGlvbnM6Jy1pJ319XG4gICAgLy8gaWYgKHF1ZXJ5LmxlYXJuaW5nX2dvYWwpIHsgY29udGVudC5sZWFybmluZ19nb2FsID0geyRyZWdleDogUmVnRXhwKHF1ZXJ5LmxlYXJuaW5nX2dvYWwpLCAkb3B0aW9uczonLWknfX1cblxuICAgIC8vIFN5bnRheCB0byBmaW5kIHBhcnRpYWwgbWF0Y2ggYnkgdXNpbmcgTW9uZ29EQiBmaW5kKCktZnVuY3Rpb246XG4gICAgLy8gZmluZCgoe25vcndlZ2lhbl9uYW1lIDogeyRyZWdleCA6IC9BdmEvfX0pXG4gICAgLy8gY29uc29sZS5sb2coY29udGVudClcbiAgICAvLyBjb25zdCBjb3Vyc2VzID0gYXdhaXQgQ291cnNlLmZpbmQoKGNvbnRlbnQpLCBmdW5jdGlvbihlcnIsIGNvdXJzZXMpIHt9KS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgXG4gICAgLy8gVmFsdWVzIHJldHJpZXZlZCBieSB0aGUgcXVlcnksIGVsc2Ugc2V0IHRvIGRlZmF1bHQgdmFsdWVzLiBVc2VkIGluIHBhZ2luYXRpb24gYW5kIHNvcnRpbmcgb2YgcmVzdWx0cy5cbiAgICBsZXQgc29ydGluZyA9IHJlcS5xdWVyeS5zb3J0aW5nID8gcmVxLnF1ZXJ5LnNvcnRpbmc6ICdub3J3ZWdpYW5fbmFtZSc7XG4gICAgbGV0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyID8gcmVxLnF1ZXJ5Lm9yZGVyIDogJzEnO1xuICAgIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyByZXEucXVlcnkucGFnZSA6IDE7XG4gICAgbGV0IHBhZ2VzPXBhcnNlSW50KHBhZ2UpO1xuICAgIGxldCBsaW1pdCA9IHJlcS5xdWVyeS5saW1pdCA/IHJlcS5xdWVyeS5saW1pdCA6IDEwO1xuICAgIGxldCBsaW09cGFyc2VJbnQobGltaXQpO1xuXG4gICAgLy8gVXNlcyBtb25nb29zZS1wYWdpbmF0ZSB0byBwYWdpbmF0ZSByZXN1bHRzLiBQbHVnaW4gaW4gaW1wb3J0ZWQgaW4gdGhlIGNvdXJzZS5tb2RlbC5qcy4gUmVzcG9uc2UgdG8gY2xpZW50IGlzIHNlbnQgaW4gdGhpcyBmdW5jdGlvbi4gXG4gICAgLy8gVGFrZXMgdG8gYXJndW1lbnRzLiBPbmUgY29udGVudCBvYmplY3QsIGFuZCBvbmUgb2JqZWN0IGNvbnRhaW5pbmcgcGFnZXMsIHBhZ2UgbGltaXQgYW5kIHdoYXQgdG8gc29ydCBieS5cbiAgICBDb3Vyc2UucGFnaW5hdGUoY29udGVudCxcbiAgICAgICAgeyAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICAgICAgbGltaXQ6IGxpbSxcbiAgICAgICAgICAgIHNvcnQ6IHtbc29ydGluZ106W29yZGVyXX1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocGFnaW5hdGVkX2NvbnRlbnQgPT4ge1xuICAgICAgICAgICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2UuIEluIHRoaXMgY2FzZSBwYWdpbmF0ZWRfY29udGVudCBpcyB0aGUgZW50aXJlIHBhZ2UgY29udGFpbmluZyBhbGwgI3BhZ2Ugb2Ygb2JqZWN0c1xuICAgICAgICAgICAgcmVzLmpzb24ocGFnaW5hdGVkX2NvbnRlbnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcnJvciwgcmV0dXJuIHN0YXR1cyA1MDAgYW5kIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpO1xuICAgICAgICB9KVxufSk7XG5cbi8vIFRoaXMgcGF0aCBlbmRwb2ludCBpcyB1c2VkIHRvIHJldHJpZXZlIGEgY291cnNlIGJ5IGl0cyBjb3Vyc2VfY29kZS4gVGhpcyB3aWxsIHJldHVybiBhIGNvdXJzZSBvYmplY3QgaW4gSlNPTiBmb3JtYXQgYXMgcmVzcG9uc2UgdG8gYSBHRVQgcmVxdWVzdCBvbiBjb3Vyc2VfY29kZS5cbmNvdXJzZVJvdXRlcy5yb3V0ZSgnLzpjb3Vyc2VfY29kZScpLmdldChhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgY291cnNlX2NvZGUgPSByZXEucGFyYW1zLmNvdXJzZV9jb2RlO1xuICAgIGNvdXJzZSA9IGF3YWl0IENvdXJzZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgKGVyciwgY291cnNlKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKGNvdXJzZSk7XG4gICAgfSkuY2F0Y2goZXJyb3IgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpKTtcbn0pO1xuXG5cbi8vIEZvciB1cGRhdGluZyByb3dzIGluIGNvbGxlY3Rpb24gd2l0aCByZXZpZXdzIGFuZCByYXRlZCBkaWZmaWN1bHR5LiBQVVQgcmVxdWVzdHMgdG8gaXQyODEwLjM5LmlkaS5udG51Lm5vOjMwMDEvY291cnNlcy88Q09VUlNFX0NPREU+IHdpbGwgdXBkYXRlIHRoZSBjb3Vyc2UgXG4vLyBpZiB0aGUgcmVxdWVzdCBjb250YWlucyBhIHJldmlldyBBTkQgYSBkaWZmaWN1bHR5LiBcbmNvdXJzZVJvdXRlcy5wdXQoJy86Y291cnNlX2NvZGUnLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keS5kaWZmaWN1bHR5KVxuICAgIGxldCBkaWZmaWN1bHR5ID0gcGFyc2VJbnQocmVxLmJvZHkuZGlmZmljdWx0eSlcbiAgICAvLyBGaW5kIHRoZSBjb3JyZWN0IGNvdXJzZSBpbiB0aGUgREIuIENvdXJzZV9jb2RlIGlzIGEgcHJpbWFyeSBrZXksIGFuZCB0aGUgc2VhcmNoIHdpbGwgYWx3YXlzIHJldHVybiBvbmUgcmVzdWx0LlxuICAgIGxldCBjb3Vyc2UgPSBDb3Vyc2UuZmluZCh7Y291cnNlX2NvZGUgOiByZXEucGFyYW1zLmNvdXJzZV9jb2RlfSlcbiAgICBpZiAocmVxLmJvZHkucmV2aWV3ICYmIDY+ZGlmZmljdWx0eT4wKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcS5wYXJhbXMuY291cnNlX2NvZGUpXG4gICAgICAgIC8vIEZpbmQgZG9jdW1lbnQgXCJjb3Vyc2VcIiBpbiBkYiBhbmQgcHVzaCB0aGUgcmV2aWV3IHRvIHRoZSByZXZpZXcgYXJyYXkgb24gdGhlIGRvY3VtZW50LiBBbHNvIHVwZGF0ZSBkaWZmaWN1bHR5IHRvIG5ldyBhdmVyYWdlLlxuICAgICAgICBDb3Vyc2UuZmluZE9uZUFuZFVwZGF0ZShjb3Vyc2UsIHtcIiRwdXNoXCI6IHsgXCJyZXZpZXdzXCI6IHJlcS5ib2R5LnJldmlldyB9LCAgXCIkcHVzaFwiIDoge1wiZGlmZmljdWx0eVwiIDogcGFyc2VJbnQocmVxLmJvZHkuZGlmZmljdWx0eSl9fSlcbiAgICAgICAgLnRoZW4oY291cnNlID0+IHJlcy5qc29uKGNvdXJzZSkpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKSkgICBcbiAgICB9ICAgIFxufSk7XG5cblxuXG4vLyBUT0RPOiBSZXdyaXRlIHRoaXMgdG8gaGFuZGxlIGFkZGluZyByZXZpZXdzIG9mIGNvdXJzZXNcbi8vIGNvdXJzZVJvdXRlcy5yb3V0ZSgnLzpjb3Vyc2VfY29kZS9hZGQnKS5wb3N0KGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4vLyAgICAgbGV0IGNvdXJzZSA9IG5ldyBDb3Vyc2UocmVxLmJvZHkpO1xuLy8gICAgIGNvdXJzZS5zYXZlKClcbi8vICAgICAgICAgLnRoZW4oY291cnNlID0+IHtcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsnQ291cnNlJzogJ1Jldmlld3MgYWRkZWQgc3VjY2Vzc2Z1bGx5Lid9KTtcbi8vICAgICAgICAgfSlcbi8vICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQWRkaW5nIG5ldyByZXZpZXcgdG8gY291cnNlLCAnLCBjb3Vyc2UsICcsIGZhaWxlZCcpO1xuLy8gICAgICAgICB9KTtcbi8vIH0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNvdXJzZVJvdXRlcztcblxuZnVuY3Rpb24gY29udGFpbnNDb2RlKHF1ZXJ5KSB7XG4gIGxldCBjb2RlcyA9IFwidG1hIHRkdCB0dG0gaXQgdGZ5XCJcbiAgcmV0dXJuIGNvZGVzLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpXG59XG5cblxuZnVuY3Rpb24gYWxsTGV0dGVycyhxdWVyeSkge1xuICBsZXQgbGV0dGVycyA9IC9eW0EtWmEtel0rJC9cbiAgcmV0dXJuIGxldHRlcnMudGVzdChxdWVyeSlcbn1cblxuZnVuY3Rpb24gY29udGFpbnNOdW1iZXIocXVlcnkpIHtcbiAgbGV0IG51bWJlcnMgPSAvXFxkL1xuICByZXR1cm4gbnVtYmVycy50ZXN0KHF1ZXJ5KVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "course.js"
      ],
      "names": [
        "courseRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "content",
        "query",
        "stringQuery",
        "Object",
        "keys",
        "allLetters",
        "containsCode",
        "course_code",
        "$regex",
        "RegExp",
        "$options",
        "norwegian_name",
        "containsNumber",
        "sorting",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "Course",
        "paginate",
        "sort",
        "then",
        "paginated_content",
        "json",
        "catch",
        "error",
        "status",
        "params",
        "course",
        "find",
        "err",
        "put",
        "console",
        "log",
        "body",
        "difficulty",
        "review",
        "findOneAndUpdate",
        "codes",
        "includes",
        "toLowerCase",
        "letters",
        "test",
        "numbers"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,YAAY,GAAGC,iBAAQC,MAAR,EAArB;;AAGAF,YAAY,CAACG,GAAb,CAAiB,oBAAjB,E,CACE;;AACAH,YAAY,CAACG,GAAb,CAAiB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACxCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C,EADwC,CACQ;;AAChDF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACEF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,UAA3C,EAHsC,CAGkB;;AACxDD,EAAAA,IAAI;AACT,CALC,E,CAOF;AACA;AACA;;AACAN,YAAY,CAACQ,KAAb,CAAmB,GAAnB,EAAwBC,GAAxB,CAA4B,gBAAeL,GAAf,EAAoBC,GAApB,EAAyB;AAGjD;AACA;AACA,MAAIK,OAAO,GAAG,EAAd;AACA,MAAIC,KAAK,GAAG,MAAMP,GAAG,CAACO,KAAtB;AACA,MAAIC,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmB,CAAnB,CAAlB;;AAGA,MAAGI,UAAU,CAACH,WAAD,CAAb,EAA4B;AAC1B,QAAGI,YAAY,CAACJ,WAAD,CAAf,EAA8B;AAC5BF,MAAAA,OAAO,CAACO,WAAR,GAAsB;AAACC,QAAAA,MAAM,EAAEC,MAAM,CAACP,WAAD,CAAf;AAA8BQ,QAAAA,QAAQ,EAAC;AAAvC,OAAtB;AACD,KAFD,MAGK;AACHV,MAAAA,OAAO,CAACW,cAAR,GAAyB;AAACH,QAAAA,MAAM,EAAGC,MAAM,CAACP,WAAD,CAAhB;AAA+BQ,QAAAA,QAAQ,EAAC;AAAxC,OAAzB;AACD;AACF,GAPD,MAQK,IAAIE,cAAc,CAACV,WAAD,CAAlB,EAAiC;AACpCF,IAAAA,OAAO,CAACO,WAAR,GAAsB;AAACC,MAAAA,MAAM,EAAEC,MAAM,CAACP,WAAD,CAAf;AAA8BQ,MAAAA,QAAQ,EAAC;AAAvC,KAAtB;AACD,GApBgD,CAuBjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;AACA,MAAIG,OAAO,GAAGnB,GAAG,CAACO,KAAJ,CAAUY,OAAV,GAAoBnB,GAAG,CAACO,KAAJ,CAAUY,OAA9B,GAAuC,gBAArD;AACA,MAAIC,KAAK,GAAGpB,GAAG,CAACO,KAAJ,CAAUa,KAAV,GAAkBpB,GAAG,CAACO,KAAJ,CAAUa,KAA5B,GAAoC,GAAhD;AACA,MAAIC,IAAI,GAAGrB,GAAG,CAACO,KAAJ,CAAUc,IAAV,GAAiBrB,GAAG,CAACO,KAAJ,CAAUc,IAA3B,GAAkC,CAA7C;AACA,MAAIC,KAAK,GAACC,QAAQ,CAACF,IAAD,CAAlB;AACA,MAAIG,KAAK,GAAGxB,GAAG,CAACO,KAAJ,CAAUiB,KAAV,GAAkBxB,GAAG,CAACO,KAAJ,CAAUiB,KAA5B,GAAoC,EAAhD;AACA,MAAIC,GAAG,GAACF,QAAQ,CAACC,KAAD,CAAhB,CA3CiD,CA6CjD;AACA;;AACAE,kBAAOC,QAAP,CAAgBrB,OAAhB,EACI;AAAIe,IAAAA,IAAI,EAAEC,KAAV;AACIE,IAAAA,KAAK,EAAEC,GADX;AAEIG,IAAAA,IAAI,EAAE;AAAC,OAACT,OAAD,GAAU,CAACC,KAAD;AAAX;AAFV,GADJ,EAKKS,IALL,CAKUC,iBAAiB,IAAI;AACvB;AACA7B,IAAAA,GAAG,CAAC8B,IAAJ,CAASD,iBAAT;AACH,GARL,EASKE,KATL,CASWC,KAAK,IAAI;AACZ;AACFhC,IAAAA,GAAG,CAACiC,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBE,KAArB;AACD,GAZL;AAaH,CA5DD,E,CA8DA;;AACArC,YAAY,CAACQ,KAAb,CAAmB,eAAnB,EAAoCC,GAApC,CAAwC,OAAOL,GAAP,EAAYC,GAAZ,KAAoB;AACxD,MAAIY,WAAW,GAAGb,GAAG,CAACmC,MAAJ,CAAWtB,WAA7B;AACAuB,EAAAA,MAAM,GAAG,MAAMV,gBAAOW,IAAP,CAAY;AAACxB,IAAAA,WAAW,EAAGA;AAAf,GAAZ,EAAyC,CAACyB,GAAD,EAAMF,MAAN,KAAiB;AACrEnC,IAAAA,GAAG,CAAC8B,IAAJ,CAASK,MAAT;AACH,GAFc,EAEZJ,KAFY,CAENC,KAAK,IAAIhC,GAAG,CAACiC,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBE,KAArB,CAFH,CAAf;AAGH,CALD,E,CAQA;AACA;;AACArC,YAAY,CAAC2C,GAAb,CAAiB,eAAjB,EAAkC,CAACvC,GAAD,EAAMC,GAAN,KAAc;AAC5CuC,EAAAA,OAAO,CAACC,GAAR,CAAYzC,GAAG,CAAC0C,IAAJ,CAASC,UAArB;AACA,MAAIA,UAAU,GAAGpB,QAAQ,CAACvB,GAAG,CAAC0C,IAAJ,CAASC,UAAV,CAAzB,CAF4C,CAG5C;;AACA,MAAIP,MAAM,GAAGV,gBAAOW,IAAP,CAAY;AAACxB,IAAAA,WAAW,EAAGb,GAAG,CAACmC,MAAJ,CAAWtB;AAA1B,GAAZ,CAAb;;AACA,MAAIb,GAAG,CAAC0C,IAAJ,CAASE,MAAT,IAAmB,IAAED,UAAF,GAAa,CAApC,EAAuC;AACnCH,IAAAA,OAAO,CAACC,GAAR,CAAYzC,GAAG,CAACmC,MAAJ,CAAWtB,WAAvB,EADmC,CAEnC;;AACAa,oBAAOmB,gBAAP,CAAwBT,MAAxB,EAAgC;AAAC,eAAS;AAAE,mBAAWpC,GAAG,CAAC0C,IAAJ,CAASE;AAAtB,OAAV;AAA2C,eAAU;AAAC,sBAAerB,QAAQ,CAACvB,GAAG,CAAC0C,IAAJ,CAASC,UAAV;AAAxB;AAArD,KAAhC,EACCd,IADD,CACMO,MAAM,IAAInC,GAAG,CAAC8B,IAAJ,CAASK,MAAT,CADhB,EAECJ,KAFD,CAEOM,GAAG,IAAIrC,GAAG,CAACiC,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBO,GAArB,CAFd;AAGH;AACJ,CAZD,E,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;eAGe1C,Y;;;AAEf,SAASgB,YAAT,CAAsBL,KAAtB,EAA6B;AAC3B,MAAIuC,KAAK,GAAG,oBAAZ;AACA,SAAOA,KAAK,CAACC,QAAN,CAAexC,KAAK,CAACyC,WAAN,EAAf,CAAP;AACD;;AAGD,SAASrC,UAAT,CAAoBJ,KAApB,EAA2B;AACzB,MAAI0C,OAAO,GAAG,aAAd;AACA,SAAOA,OAAO,CAACC,IAAR,CAAa3C,KAAb,CAAP;AACD;;AAED,SAASW,cAAT,CAAwBX,KAAxB,EAA+B;AAC7B,MAAI4C,OAAO,GAAG,IAAd;AACA,SAAOA,OAAO,CAACD,IAAR,CAAa3C,KAAb,CAAP;AACD",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import express from 'express';\nimport cors from 'cors';\nimport Course from '../models/course.model';\nimport { model } from 'mongoose';\n\n\nconst courseRoutes = express.Router()\n\n\ncourseRoutes.use(cors());\n  // Allow client to fetch data\n  courseRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ncourseRoutes.route('/').get(async function(req, res) {\n    \n\n    // Saving all possible attributes for a course document in the collection in content object. \n    // Checks if attribute exists on req.query and saves it if it exists.\n    let content = {};\n    let query = await req.query;\n    var stringQuery = Object.keys(query)[0]\n\n    \n    if(allLetters(stringQuery)) {\n      if(containsCode(stringQuery)) {\n        content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n      }\n      else {\n        content.norwegian_name = {$regex : RegExp(stringQuery), $options:'-i'}\n      }\n    }\n    else if (containsNumber(stringQuery)) {\n      content.course_code = {$regex: RegExp(stringQuery), $options:'-i'}\n    }\n\n\n    // if (query._id) { content._id = query._id } \n    // if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n    // if (query.credits) { content.credits = Number(query.credits)}\n    // if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n    // if (query.taught_in_spring) { content.taught_in_spring = true} \n    // if (query.taught_in_autumn) { content.taught_in_autumn = true} \n    // if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n    // if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n\n    // Syntax to find partial match by using MongoDB find()-function:\n    // find(({norwegian_name : {$regex : /Ava/}})\n    // console.log(content)\n    // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n    \n    // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n    let sorting = req.query.sorting ? req.query.sorting: 'norwegian_name';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n\n    // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n    // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n    Course.paginate(content,\n        {   page: pages,\n            limit: lim,\n            sort: {[sorting]:[order]}\n        })\n        .then(paginated_content => {\n            // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n            res.json(paginated_content);\n        })\n        .catch(error => {\n            // In case of error, return status 500 and error message.\n          res.status(500).json(error);\n        })\n});\n\n// This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n    let course_code = req.params.course_code;\n    course = await Course.find({course_code : course_code}, (err, course) => {\n        res.json(course);\n    }).catch(error => res.status(500).json(error));\n});\n\n\n// For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \ncourseRoutes.put('/:course_code', (req, res) => {\n    console.log(req.body.difficulty)\n    let difficulty = parseInt(req.body.difficulty)\n    // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n    let course = Course.find({course_code : req.params.course_code})\n    if (req.body.review && 6>difficulty>0) {\n        console.log(req.params.course_code)\n        // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n        Course.findOneAndUpdate(course, {\"$push\": { \"reviews\": req.body.review },  \"$push\" : {\"difficulty\" : parseInt(req.body.difficulty)}})\n        .then(course => res.json(course))\n        .catch(err => res.status(500).json(err))   \n    }    \n});\n\n\n\n// TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\n\nexport default courseRoutes;\n\nfunction containsCode(query) {\n  let codes = \"tma tdt ttm it tfy\"\n  return codes.includes(query.toLowerCase())\n}\n\n\nfunction allLetters(query) {\n  let letters = /^[A-Za-z]+$/\n  return letters.test(query)\n}\n\nfunction containsNumber(query) {\n  let numbers = /\\d/\n  return numbers.test(query)\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1571669446912
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/course.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
        "sourceFileName": "course.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Course = new Schema({\n  norwegian_name: {\n    type: String\n  },\n  course_code: {\n    type: String\n  },\n  credit: {\n    type: Number\n  },\n  taught_in_spring: {\n    type: Boolean\n  },\n  taught_in_autumn: {\n    type: Boolean\n  },\n  content: {\n    type: String\n  },\n  learning_goal: {\n    type: String\n  },\n  reviews: {\n    type: Array\n  },\n  difficulty: {\n    type: Array\n  }\n}, {\n  collection: 'courses'\n});\nCourse.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Course', Course);\nvar _default = Course;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvdXJzZSIsIm5vcndlZ2lhbl9uYW1lIiwidHlwZSIsIlN0cmluZyIsImNvdXJzZV9jb2RlIiwiY3JlZGl0IiwiTnVtYmVyIiwidGF1Z2h0X2luX3NwcmluZyIsIkJvb2xlYW4iLCJ0YXVnaHRfaW5fYXV0dW1uIiwiY29udGVudCIsImxlYXJuaW5nX2dvYWwiLCJyZXZpZXdzIiwiQXJyYXkiLCJkaWZmaWN1bHR5IiwiY29sbGVjdGlvbiIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsSUFBSUUsTUFBTSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUNwQkcsRUFBQUEsY0FBYyxFQUFFO0FBQ1pDLElBQUFBLElBQUksRUFBRUM7QUFETSxHQURJO0FBSXBCQyxFQUFBQSxXQUFXLEVBQUc7QUFDVkYsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBSk07QUFPcEJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKSCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FQWTtBQVVwQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDZEwsSUFBQUEsSUFBSSxFQUFFTTtBQURRLEdBVkU7QUFhcEJDLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRU07QUFEUSxHQWJFO0FBZ0JwQkUsRUFBQUEsT0FBTyxFQUFFO0FBQ0xSLElBQUFBLElBQUksRUFBRUM7QUFERCxHQWhCVztBQW1CcEJRLEVBQUFBLGFBQWEsRUFBRTtBQUNYVCxJQUFBQSxJQUFJLEVBQUVDO0FBREssR0FuQks7QUFzQnBCUyxFQUFBQSxPQUFPLEVBQUU7QUFDTFYsSUFBQUEsSUFBSSxFQUFFVztBQURELEdBdEJXO0FBeUJwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JaLElBQUFBLElBQUksRUFBRVc7QUFERTtBQXpCUSxDQUFYLEVBNkJUO0FBQUVFLEVBQUFBLFVBQVUsRUFBRztBQUFmLENBN0JTLENBQWI7QUFnQ0lmLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY0MseUJBQWQ7QUFHSkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsa0JBQVNxQixLQUFULENBQWUsUUFBZixFQUF5QnBCLE1BQXpCLENBQWpCO2VBRWVBLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL2plbm55eXUvRG9jdW1lbnRzL05UTlUvMy4gSDIwMTkvV2ViRGV2L3Byb3NqZWt0XzMvYmFja2VuZC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgbW9uZ29vc2VQYWdpbmF0ZSBmcm9tICdtb25nb29zZS1wYWdpbmF0ZSc7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxubGV0IENvdXJzZSA9IG5ldyBTY2hlbWEoe1xuICAgIG5vcndlZ2lhbl9uYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgY291cnNlX2NvZGUgOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgY3JlZGl0OiB7XG4gICAgICAgIHR5cGU6IE51bWJlclxuICAgIH0sXG4gICAgdGF1Z2h0X2luX3NwcmluZzoge1xuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAgfSxcbiAgICB0YXVnaHRfaW5fYXV0dW1uOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBsZWFybmluZ19nb2FsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgcmV2aWV3czoge1xuICAgICAgICB0eXBlOiBBcnJheVxuICAgIH0sXG4gICAgZGlmZmljdWx0eToge1xuICAgICAgICB0eXBlOiBBcnJheVxuICAgIH1cbiAgICB9LFxuICAgIHsgY29sbGVjdGlvbiA6ICdjb3Vyc2VzJyB9XG4gICAgKVxuXG4gICAgQ291cnNlLnBsdWdpbihtb25nb29zZVBhZ2luYXRlKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdDb3Vyc2UnLCBDb3Vyc2UpO1xuXG5leHBvcnQgZGVmYXVsdCBDb3Vyc2U7Il19",
    "map": {
      "version": 3,
      "sources": [
        "course.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Course",
        "norwegian_name",
        "type",
        "String",
        "course_code",
        "credit",
        "Number",
        "taught_in_spring",
        "Boolean",
        "taught_in_autumn",
        "content",
        "learning_goal",
        "reviews",
        "Array",
        "difficulty",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACpBG,EAAAA,cAAc,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADI;AAIpBC,EAAAA,WAAW,EAAG;AACVF,IAAAA,IAAI,EAAEC;AADI,GAJM;AAOpBE,EAAAA,MAAM,EAAE;AACJH,IAAAA,IAAI,EAAEI;AADF,GAPY;AAUpBC,EAAAA,gBAAgB,EAAE;AACdL,IAAAA,IAAI,EAAEM;AADQ,GAVE;AAapBC,EAAAA,gBAAgB,EAAE;AACdP,IAAAA,IAAI,EAAEM;AADQ,GAbE;AAgBpBE,EAAAA,OAAO,EAAE;AACLR,IAAAA,IAAI,EAAEC;AADD,GAhBW;AAmBpBQ,EAAAA,aAAa,EAAE;AACXT,IAAAA,IAAI,EAAEC;AADK,GAnBK;AAsBpBS,EAAAA,OAAO,EAAE;AACLV,IAAAA,IAAI,EAAEW;AADD,GAtBW;AAyBpBC,EAAAA,UAAU,EAAE;AACRZ,IAAAA,IAAI,EAAEW;AADE;AAzBQ,CAAX,EA6BT;AAAEE,EAAAA,UAAU,EAAG;AAAf,CA7BS,CAAb;AAgCIf,MAAM,CAACgB,MAAP,CAAcC,yBAAd;AAGJC,MAAM,CAACC,OAAP,GAAiBpB,kBAASqB,KAAT,CAAe,QAAf,EAAyBpB,MAAzB,CAAjB;eAEeA,M",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Course = new Schema({\n    norwegian_name: {\n        type: String\n    },\n    course_code : {\n        type: String\n    },\n    credit: {\n        type: Number\n    },\n    taught_in_spring: {\n        type: Boolean\n    },\n    taught_in_autumn: {\n        type: Boolean\n    },\n    content: {\n        type: String\n    },\n    learning_goal: {\n        type: String\n    },\n    reviews: {\n        type: Array\n    },\n    difficulty: {\n        type: Array\n    }\n    },\n    { collection : 'courses' }\n    )\n\n    Course.plugin(mongoosePaginate);\n\n\nmodule.exports = mongoose.model('Course', Course);\n\nexport default Course;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571653671532
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes/grades.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
        "sourceFileName": "grades.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _grades = _interopRequireDefault(require(\"../models/grades.model\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst gradeRoutes = _express.default.Router();\n\ngradeRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ngradeRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n  next();\n}); // The function passed into the get function handles all GET requests sent to /grades \n// Further on, we're calling Grades.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ngradeRoutes.route('/').get(async function (req, res) {\n  let sorting = req.query.sorting ? req.query.sorting : 'semester_code';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n  // Saving all possible attributes for a course document in the collection in content object\n\n  let content = {};\n  content.course_code = req.baseUrl.split('/')[2]; // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n  // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n\n  const grades = await _grades.default.find(content);\n  console.log(grades[0]); // The content in json() is what is being returned in the HTTP Response\n  // res.status(200).json(grades).send();\n\n  _grades.default.paginate(grades[0], {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(page => {\n    res.json(page);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}); // Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\n\ngradeRoutes.route('/:course_code').get(async function (req, res) {\n  let course_code = req.params.course_code;\n  const grades = await _grades.default.find({\n    course_code: course_code\n  }, function (err, grades) {\n    res.json(grades);\n  });\n  res.status(200).json(grades).send();\n});\nvar _default = gradeRoutes; // Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5qcyJdLCJuYW1lcyI6WyJncmFkZVJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicm91dGUiLCJnZXQiLCJzb3J0aW5nIiwicXVlcnkiLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJjb250ZW50IiwiY291cnNlX2NvZGUiLCJiYXNlVXJsIiwic3BsaXQiLCJncmFkZXMiLCJHcmFkZSIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzb3J0IiwidGhlbiIsImpzb24iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsInBhcmFtcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixvQkFBaEIsRSxDQUNFOztBQUNBSCxXQUFXLENBQUNHLEdBQVosQ0FBZ0IsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN2Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEdUMsQ0FDUzs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNFRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0M7QUFDQUQsRUFBQUEsSUFBSTtBQUNULENBTEMsRSxDQU9GO0FBQ0E7QUFDQTs7QUFDQU4sV0FBVyxDQUFDUSxLQUFaLENBQWtCLEdBQWxCLEVBQXVCQyxHQUF2QixDQUEyQixnQkFBZUwsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFDaEQsTUFBSUssT0FBTyxHQUFHTixHQUFHLENBQUNPLEtBQUosQ0FBVUQsT0FBVixHQUFvQk4sR0FBRyxDQUFDTyxLQUFKLENBQVVELE9BQTlCLEdBQXVDLGVBQXJEO0FBQ0EsTUFBSUUsS0FBSyxHQUFHUixHQUFHLENBQUNPLEtBQUosQ0FBVUMsS0FBVixHQUFrQlIsR0FBRyxDQUFDTyxLQUFKLENBQVVDLEtBQTVCLEdBQW9DLEdBQWhEO0FBQ0EsTUFBSUMsSUFBSSxHQUFHVCxHQUFHLENBQUNPLEtBQUosQ0FBVUUsSUFBVixHQUFpQlQsR0FBRyxDQUFDTyxLQUFKLENBQVVFLElBQTNCLEdBQWtDLENBQTdDO0FBQ0EsTUFBSUMsS0FBSyxHQUFDQyxRQUFRLENBQUNGLElBQUQsQ0FBbEI7QUFDQSxNQUFJRyxLQUFLLEdBQUdaLEdBQUcsQ0FBQ08sS0FBSixDQUFVSyxLQUFWLEdBQWtCWixHQUFHLENBQUNPLEtBQUosQ0FBVUssS0FBNUIsR0FBb0MsRUFBaEQ7QUFDQSxNQUFJQyxHQUFHLEdBQUNGLFFBQVEsQ0FBQ0MsS0FBRCxDQUFoQixDQU5nRCxDQU9oRDtBQUNBOztBQUNBLE1BQUlFLE9BQU8sR0FBRyxFQUFkO0FBQ0FBLEVBQUFBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQmYsR0FBRyxDQUFDZ0IsT0FBSixDQUFZQyxLQUFaLENBQWtCLEdBQWxCLEVBQXVCLENBQXZCLENBQXRCLENBVmdELENBV2hEO0FBR0E7O0FBQ0EsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLGdCQUFNQyxJQUFOLENBQVdOLE9BQVgsQ0FBckI7QUFDQU8sRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLE1BQU0sQ0FBQyxDQUFELENBQWxCLEVBaEJnRCxDQWtCaEQ7QUFDQTs7QUFFQUMsa0JBQU1JLFFBQU4sQ0FBZUwsTUFBTSxDQUFDLENBQUQsQ0FBckIsRUFBeUI7QUFDckJULElBQUFBLElBQUksRUFBRUMsS0FEZTtBQUVyQkUsSUFBQUEsS0FBSyxFQUFFQyxHQUZjO0FBR3JCVyxJQUFBQSxJQUFJLEVBQUU7QUFBQyxPQUFDbEIsT0FBRCxHQUFVLENBQUNFLEtBQUQ7QUFBWDtBQUhlLEdBQXpCLEVBS0tpQixJQUxMLENBS1VoQixJQUFJLElBQUk7QUFDZFIsSUFBQUEsR0FBRyxDQUFDeUIsSUFBSixDQUFTakIsSUFBVDtBQUNELEdBUEgsRUFRS2tCLEtBUkwsQ0FRV0MsR0FBRyxJQUFJO0FBQ1ozQixJQUFBQSxHQUFHLENBQUM0QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCO0FBQ0QsR0FWTDtBQVdILENBaENELEUsQ0FtQ0E7O0FBQ0FoQyxXQUFXLENBQUNRLEtBQVosQ0FBa0IsZUFBbEIsRUFBbUNDLEdBQW5DLENBQXVDLGdCQUFlTCxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUM1RCxNQUFJYyxXQUFXLEdBQUdmLEdBQUcsQ0FBQzhCLE1BQUosQ0FBV2YsV0FBN0I7QUFDQSxRQUFNRyxNQUFNLEdBQUcsTUFBTUMsZ0JBQU1DLElBQU4sQ0FBVztBQUFDTCxJQUFBQSxXQUFXLEVBQUdBO0FBQWYsR0FBWCxFQUF3QyxVQUFTYSxHQUFULEVBQWNWLE1BQWQsRUFBc0I7QUFDL0VqQixJQUFBQSxHQUFHLENBQUN5QixJQUFKLENBQVNSLE1BQVQ7QUFDSCxHQUZvQixDQUFyQjtBQUdBakIsRUFBQUEsR0FBRyxDQUFDNEIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCUixNQUFyQixFQUE2QmEsSUFBN0I7QUFHSCxDQVJEO2VBVWVuQyxXLEVBRWY7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvamVubnl5dS9Eb2N1bWVudHMvTlROVS8zLiBIMjAxOS9XZWJEZXYvcHJvc2pla3RfMy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHcmFkZSBmcm9tICcuLi9tb2RlbHMvZ3JhZGVzLm1vZGVsJ1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IGdyYWRlUm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuZ3JhZGVSb3V0ZXMudXNlKGNvcnMoKSk7XG4gIC8vIEFsbG93IGNsaWVudCB0byBmZXRjaCBkYXRhXG4gIGdyYWRlUm91dGVzLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7IC8vIENhbiBjaGFuZ2UgKiB0byBhbGxvdyByZXF1ZXN0IGZyb20gc3BlY2lmaWMgY2xpZW50c1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIE9QVElPTlMsIFBVVCwgUEFUQ0gsIERFTEVURScpO1xuICAgICAgbmV4dCgpO1xufSk7XG5cbi8vIFRoZSBmdW5jdGlvbiBwYXNzZWQgaW50byB0aGUgZ2V0IGZ1bmN0aW9uIGhhbmRsZXMgYWxsIEdFVCByZXF1ZXN0cyBzZW50IHRvIC9ncmFkZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIEdyYWRlcy5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmdyYWRlUm91dGVzLnJvdXRlKCcvJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IHNvcnRpbmcgPSByZXEucXVlcnkuc29ydGluZyA/IHJlcS5xdWVyeS5zb3J0aW5nOiAnc2VtZXN0ZXJfY29kZSc7XG4gICAgbGV0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyID8gcmVxLnF1ZXJ5Lm9yZGVyIDogJzEnO1xuICAgIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyByZXEucXVlcnkucGFnZSA6IDE7XG4gICAgbGV0IHBhZ2VzPXBhcnNlSW50KHBhZ2UpO1xuICAgIGxldCBsaW1pdCA9IHJlcS5xdWVyeS5saW1pdCA/IHJlcS5xdWVyeS5saW1pdCA6IDEwO1xuICAgIGxldCBsaW09cGFyc2VJbnQobGltaXQpO1xuICAgIC8vIEFjY2VzcyBjb3Vyc2VfY29kZSBmcm9tIFVSTCBieSBzcGxpdHRpbmcgb24gLyBhbmQgc2VsZWN0aW5nIHRoZSAzcmQgZWxlbWVudC4gV2lsbCB3b3JrIGZvciBldmVyeSBwb3NzaWJsZSBzdGF0ZSBpbiB0aGlzIHByb2plY3QuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdFxuICAgIGxldCBjb250ZW50ID0ge307XG4gICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHJlcS5iYXNlVXJsLnNwbGl0KCcvJylbMl1cbiAgICAvLyBpZiAocXVlcnkuY291cnNlX2NvZGUpIHsgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXggOiBSZWdFeHAocXVlcnkuY291cnNlX2NvZGUpLCAkb3B0aW9uczonLWknfSB9XG5cbiAgICBcbiAgICAvLyBUaGUgY29udGVudCBvYmplY3QgYmVpbmcgc2VuZCBpbnRvIGZpbmQgaXMgb2YgdGhlIGZvcm0gZS5nLiwge2NvdXJzZV9jb2RlID0gXCJURFQ0MTQwXCJ9XG4gICAgY29uc3QgZ3JhZGVzID0gYXdhaXQgR3JhZGUuZmluZChjb250ZW50KTtcbiAgICBjb25zb2xlLmxvZyhncmFkZXNbMF0pXG4gICAgXG4gICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2VcbiAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgIEdyYWRlLnBhZ2luYXRlKGdyYWRlc1swXSx7XG4gICAgICAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICBsaW1pdDogbGltLFxuICAgICAgICBzb3J0OiB7W3NvcnRpbmddOltvcmRlcl1cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihwYWdlID0+IHtcbiAgICAgICAgcmVzLmpzb24ocGFnZSk7XG4gICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xuICAgICAgICB9KVxufSk7XG5cblxuLy8gTWFrZXMgaXQgcG9zc2libGUgdG8gZ28gZGlyZWN0bHkgdG8gdGhlIHNlbWVzdGVycyBvZiBhIGNvdXJzZSBvYmplY3QgYnkgdmlzaXRpbmcgaXQyODEwLTM5LmlkaS5udG51Lm5vOjMwMDEvZ3JhZGVzL1REVDQxMTBcbmdyYWRlUm91dGVzLnJvdXRlKCcvOmNvdXJzZV9jb2RlJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IGNvdXJzZV9jb2RlID0gcmVxLnBhcmFtcy5jb3Vyc2VfY29kZTtcbiAgICBjb25zdCBncmFkZXMgPSBhd2FpdCBHcmFkZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgZnVuY3Rpb24oZXJyLCBncmFkZXMpIHtcbiAgICAgICAgcmVzLmpzb24oZ3JhZGVzKTtcbiAgICB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZ3JhZGVSb3V0ZXM7XG5cbi8vIEZvcm1hdCBmb3Igc3DDuHJyaW5nZXI6XG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDEvZ3JhZGVzP2NvdXJzZV9jb2RlPVREVDQxMTAmc2VtZXN0ZXJzLnNlbWVzdGVyX2NvZGU9SDIwMThcblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "grades.js"
      ],
      "names": [
        "gradeRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "sorting",
        "query",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "content",
        "course_code",
        "baseUrl",
        "split",
        "grades",
        "Grade",
        "find",
        "console",
        "log",
        "paginate",
        "sort",
        "then",
        "json",
        "catch",
        "err",
        "status",
        "params",
        "send"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import Grade from '../models/grades.model'\nimport express from 'express';\nimport cors from 'cors';\nimport Axios from 'axios';\n\nconst gradeRoutes = express.Router();\n\ngradeRoutes.use(cors());\n  // Allow client to fetch data\n  gradeRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to /grades \n// Further on, we're calling Grades.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ngradeRoutes.route('/').get(async function(req, res) {\n    let sorting = req.query.sorting ? req.query.sorting: 'semester_code';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n    // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n    // Saving all possible attributes for a course document in the collection in content object\n    let content = {};\n    content.course_code = req.baseUrl.split('/')[2]\n    // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n\n    \n    // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n    const grades = await Grade.find(content);\n    console.log(grades[0])\n    \n    // The content in json() is what is being returned in the HTTP Response\n    // res.status(200).json(grades).send();\n\n    Grade.paginate(grades[0],{\n        page: pages,\n        limit: lim,\n        sort: {[sorting]:[order]\n        }\n      }).then(page => {\n        res.json(page);\n      })\n        .catch(err => {\n          res.status(500).json(err);\n        })\n});\n\n\n// Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\ngradeRoutes.route('/:course_code').get(async function(req, res) {\n    let course_code = req.params.course_code;\n    const grades = await Grade.find({course_code : course_code}, function(err, grades) {\n        res.json(grades);\n    });\n    res.status(200).json(grades).send();\n\n   \n});\n\nexport default gradeRoutes;\n\n// Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571653791764
  },
  "{\"sourceRoot\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"filename\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"12.9.1\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "12.9.1"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models/grades.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
        "sourceFileName": "grades.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Grade = new Schema({\n  course_code: {\n    type: String\n  },\n  semesters: {\n    type: Array\n  }\n}, {\n  collection: 'grades'\n});\nGrade.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Grade', Grade);\nvar _default = Grade;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkdyYWRlIiwiY291cnNlX2NvZGUiLCJ0eXBlIiwiU3RyaW5nIiwic2VtZXN0ZXJzIiwiQXJyYXkiLCJjb2xsZWN0aW9uIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxrQkFBU0QsTUFBeEI7QUFFQSxJQUFJRSxLQUFLLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ25CRyxFQUFBQSxXQUFXLEVBQUc7QUFDVkMsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBREs7QUFJbkJDLEVBQUFBLFNBQVMsRUFBRztBQUNSRixJQUFBQSxJQUFJLEVBQUVHO0FBREU7QUFKTyxDQUFYLEVBUVI7QUFBRUMsRUFBQUEsVUFBVSxFQUFHO0FBQWYsQ0FSUSxDQUFaO0FBVUlOLEtBQUssQ0FBQ08sTUFBTixDQUFhQyx5QkFBYjtBQUVKQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLGtCQUFTWSxLQUFULENBQWUsT0FBZixFQUF3QlgsS0FBeEIsQ0FBakI7ZUFFZUEsSyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvamVubnl5dS9Eb2N1bWVudHMvTlROVS8zLiBIMjAxOS9XZWJEZXYvcHJvc2pla3RfMy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlJztcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgR3JhZGUgPSBuZXcgU2NoZW1hKHtcbiAgICBjb3Vyc2VfY29kZSA6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBzZW1lc3RlcnMgOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfX0sXG5cbiAgICB7IGNvbGxlY3Rpb24gOiAnZ3JhZGVzJyB9XG4gICAgKVxuICAgIEdyYWRlLnBsdWdpbihtb25nb29zZVBhZ2luYXRlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbCgnR3JhZGUnLCBHcmFkZSk7XG5cbmV4cG9ydCBkZWZhdWx0IEdyYWRlIl19",
    "map": {
      "version": 3,
      "sources": [
        "grades.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Grade",
        "course_code",
        "type",
        "String",
        "semesters",
        "Array",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,KAAK,GAAG,IAAIF,MAAJ,CAAW;AACnBG,EAAAA,WAAW,EAAG;AACVC,IAAAA,IAAI,EAAEC;AADI,GADK;AAInBC,EAAAA,SAAS,EAAG;AACRF,IAAAA,IAAI,EAAEG;AADE;AAJO,CAAX,EAQR;AAAEC,EAAAA,UAAU,EAAG;AAAf,CARQ,CAAZ;AAUIN,KAAK,CAACO,MAAN,CAAaC,yBAAb;AAEJC,MAAM,CAACC,OAAP,GAAiBX,kBAASY,KAAT,CAAe,OAAf,EAAwBX,KAAxB,CAAjB;eAEeA,K",
      "sourceRoot": "/Users/jennyyu/Documents/NTNU/3. H2019/WebDev/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Grade = new Schema({\n    course_code : {\n        type: String\n    },\n    semesters : {\n        type: Array\n    }},\n\n    { collection : 'grades' }\n    )\n    Grade.plugin(mongoosePaginate);\n\nmodule.exports = mongoose.model('Grade', Grade);\n\nexport default Grade"
      ]
    },
    "sourceType": "script",
    "mtime": 1571590056672
  }
}