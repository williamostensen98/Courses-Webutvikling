{
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"./routes/course\"));\n\nvar _grades = _interopRequireDefault(require(\"./routes/grades\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Babel is added as a dependency in package.json and used to type modern .js syntax and then transpiled. \n// import express from 'express' is equal to const express = require('express')\nconst API_PORT = 3001; // Listening for incoming HTTP requests on port 3001\n\nconst app = (0, _express.default)(); // Creating an express-object\n// When calling app.use(), we add another \"filter\" for all requests to go through. E.g., app.use(bodyParser.json()) parses incoming requests to JSON-format.\n\napp.use(_bodyParser.default.json());\napp.use((0, _cors.default)());\napp.use('/courses', _course.default);\napp.use('/courses/:course_code/grades', _grades.default);\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\"); // * indicates that anyone can connect. Can be changed to specific IPs.\n\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); // Which headers we allow\n\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE'); // Defining all type of requests we want to accept.\n\n  next();\n});\napp.listen(API_PORT, () => console.log(`LISTENING ON PORT ${API_PORT}`)); // Adress to MongoDB. On format: mongodb://<username>:<pwd>@<IP>/<DNS>:<port>/<database>\n\nconst dbRoute = 'mongodb://victojo:admin@it2810-39.idi.ntnu.no:27017/grades'; // Connecting to the MongoDB by using mongoose\n\n_mongoose.default.connect(dbRoute, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useFindAndModify: false\n}); // Connection is our active connection to the MongoDB\n\n\nconst connection = _mongoose.default.connection; // Once the connection is established, execute the content of function\n\nconnection.once('open', function () {\n  console.log(\"MongoDB database connection established successfully\");\n}); // Handle all 404 errors (not found)\n\napp.use((req, res, next) => {\n  res.status(404).send(\"The information you are looking for is not here! Try a different path\");\n}); // Handles all requests resulting in a 500 response\n\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.sendFile(_path.default.join(__dirname, '../public/500.html'));\n}); //  URL: https://grades.no/api/courses/tdt4145/grades\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJBUElfUE9SVCIsImFwcCIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwiY291cnNlUm91dGVzIiwiZ3JhZGVSb3V0ZXMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsImRiUm91dGUiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwiY29ubmVjdGlvbiIsIm9uY2UiLCJzdGF0dXMiLCJzZW5kIiwiZXJyIiwiZXJyb3IiLCJzdGFjayIsInNlbmRGaWxlIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTtBQUNBO0FBR0EsTUFBTUEsUUFBUSxHQUFHLElBQWpCLEMsQ0FBdUI7O0FBQ3ZCLE1BQU1DLEdBQUcsR0FBRyx1QkFBWixDLENBQXVCO0FBRXZCOztBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxvQkFBUjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUSxVQUFSLEVBQW9CRyxlQUFwQjtBQUNBSixHQUFHLENBQUNDLEdBQUosQ0FBUSw4QkFBUixFQUF3Q0ksZUFBeEM7QUFHQUwsR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBU0ssR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUM3QkQsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFENkIsQ0FDbUI7O0FBQ2hERixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxnREFBM0MsRUFGNkIsQ0FFaUU7O0FBQzlGRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0MsRUFINkIsQ0FHeUQ7O0FBQ3RGRCxFQUFBQSxJQUFJO0FBQ1AsQ0FMRDtBQU9BUixHQUFHLENBQUNVLE1BQUosQ0FBV1gsUUFBWCxFQUFxQixNQUFNWSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxxQkFBb0JiLFFBQVMsRUFBMUMsQ0FBM0IsRSxDQUVBOztBQUNBLE1BQU1jLE9BQU8sR0FBRyw0REFBaEIsQyxDQUVBOztBQUNBQyxrQkFBU0MsT0FBVCxDQUFpQkYsT0FBakIsRUFBMEI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFLElBQW5CO0FBQXlCQyxFQUFBQSxrQkFBa0IsRUFBRSxJQUE3QztBQUFtREMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFBckUsQ0FBMUIsRSxDQUNBOzs7QUFDQSxNQUFNQyxVQUFVLEdBQUdMLGtCQUFTSyxVQUE1QixDLENBRUE7O0FBQ0FBLFVBQVUsQ0FBQ0MsSUFBWCxDQUFnQixNQUFoQixFQUF3QixZQUFXO0FBQy9CVCxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzREFBWjtBQUNILENBRkQsRSxDQUlBOztBQUNBWixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDSyxHQUFELEVBQUtDLEdBQUwsRUFBU0MsSUFBVCxLQUFrQjtBQUN0QkQsRUFBQUEsR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsdUVBQXJCO0FBQ0QsQ0FGSCxFLENBSUE7O0FBQ0F0QixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDc0IsR0FBRCxFQUFLakIsR0FBTCxFQUFTQyxHQUFULEVBQWFDLElBQWIsS0FBc0I7QUFDMUJHLEVBQUFBLE9BQU8sQ0FBQ2EsS0FBUixDQUFjRCxHQUFHLENBQUNFLEtBQWxCO0FBQ0FsQixFQUFBQSxHQUFHLENBQUNtQixRQUFKLENBQWFDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFvQixvQkFBcEIsQ0FBYjtBQUNELENBSEgsRSxDQUtBIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9WaWN0b3IvRG9jdW1lbnRzL05UTlUvSDIwMTkvV2VidXR2aWtsaW5nL3Byb3NqZWt0XzMvYmFja2VuZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGNvdXJzZVJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvY291cnNlXCJcbmltcG9ydCBncmFkZVJvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvZ3JhZGVzXCJcbi8vIEJhYmVsIGlzIGFkZGVkIGFzIGEgZGVwZW5kZW5jeSBpbiBwYWNrYWdlLmpzb24gYW5kIHVzZWQgdG8gdHlwZSBtb2Rlcm4gLmpzIHN5bnRheCBhbmQgdGhlbiB0cmFuc3BpbGVkLiBcbi8vIGltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnIGlzIGVxdWFsIHRvIGNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcblxuXG5jb25zdCBBUElfUE9SVCA9IDMwMDE7IC8vIExpc3RlbmluZyBmb3IgaW5jb21pbmcgSFRUUCByZXF1ZXN0cyBvbiBwb3J0IDMwMDFcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTsgLy8gQ3JlYXRpbmcgYW4gZXhwcmVzcy1vYmplY3RcblxuLy8gV2hlbiBjYWxsaW5nIGFwcC51c2UoKSwgd2UgYWRkIGFub3RoZXIgXCJmaWx0ZXJcIiBmb3IgYWxsIHJlcXVlc3RzIHRvIGdvIHRocm91Z2guIEUuZy4sIGFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpIHBhcnNlcyBpbmNvbWluZyByZXF1ZXN0cyB0byBKU09OLWZvcm1hdC5cbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZSgnL2NvdXJzZXMnLCBjb3Vyc2VSb3V0ZXMpXG5hcHAudXNlKCcvY291cnNlcy86Y291cnNlX2NvZGUvZ3JhZGVzJywgZ3JhZGVSb3V0ZXMpXG5cblxuYXBwLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpOyAvLyAqIGluZGljYXRlcyB0aGF0IGFueW9uZSBjYW4gY29ubmVjdC4gQ2FuIGJlIGNoYW5nZWQgdG8gc3BlY2lmaWMgSVBzLlxuICAgIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdFwiKTsgLy8gV2hpY2ggaGVhZGVycyB3ZSBhbGxvd1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBPUFRJT05TLCBQVVQsIFBBVENILCBERUxFVEUnKTsgLy8gRGVmaW5pbmcgYWxsIHR5cGUgb2YgcmVxdWVzdHMgd2Ugd2FudCB0byBhY2NlcHQuXG4gICAgbmV4dCgpO1xufSk7XG5cbmFwcC5saXN0ZW4oQVBJX1BPUlQsICgpID0+IGNvbnNvbGUubG9nKGBMSVNURU5JTkcgT04gUE9SVCAke0FQSV9QT1JUfWApKTtcblxuLy8gQWRyZXNzIHRvIE1vbmdvREIuIE9uIGZvcm1hdDogbW9uZ29kYjovLzx1c2VybmFtZT46PHB3ZD5APElQPi88RE5TPjo8cG9ydD4vPGRhdGFiYXNlPlxuY29uc3QgZGJSb3V0ZSA9ICdtb25nb2RiOi8vdmljdG9qbzphZG1pbkBpdDI4MTAtMzkuaWRpLm50bnUubm86MjcwMTcvZ3JhZGVzJztcblxuLy8gQ29ubmVjdGluZyB0byB0aGUgTW9uZ29EQiBieSB1c2luZyBtb25nb29zZVxubW9uZ29vc2UuY29ubmVjdChkYlJvdXRlLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLCB1c2VGaW5kQW5kTW9kaWZ5OiBmYWxzZSB9KTtcbi8vIENvbm5lY3Rpb24gaXMgb3VyIGFjdGl2ZSBjb25uZWN0aW9uIHRvIHRoZSBNb25nb0RCXG5jb25zdCBjb25uZWN0aW9uID0gbW9uZ29vc2UuY29ubmVjdGlvbjtcblxuLy8gT25jZSB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCwgZXhlY3V0ZSB0aGUgY29udGVudCBvZiBmdW5jdGlvblxuY29ubmVjdGlvbi5vbmNlKCdvcGVuJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJNb25nb0RCIGRhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5XCIpO1xufSlcblxuLy8gSGFuZGxlIGFsbCA0MDQgZXJyb3JzIChub3QgZm91bmQpXG5hcHAudXNlKChyZXEscmVzLG5leHQpID0+IHtcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIlRoZSBpbmZvcm1hdGlvbiB5b3UgYXJlIGxvb2tpbmcgZm9yIGlzIG5vdCBoZXJlISBUcnkgYSBkaWZmZXJlbnQgcGF0aFwiKVxuICB9KVxuXG4vLyBIYW5kbGVzIGFsbCByZXF1ZXN0cyByZXN1bHRpbmcgaW4gYSA1MDAgcmVzcG9uc2VcbmFwcC51c2UoKGVycixyZXEscmVzLG5leHQpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjaylcbiAgICByZXMuc2VuZEZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwnLi4vcHVibGljLzUwMC5odG1sJykpXG4gIH0pXG5cbi8vICBVUkw6IGh0dHBzOi8vZ3JhZGVzLm5vL2FwaS9jb3Vyc2VzL3RkdDQxNDUvZ3JhZGVzXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "API_PORT",
        "app",
        "use",
        "bodyParser",
        "json",
        "courseRoutes",
        "gradeRoutes",
        "req",
        "res",
        "next",
        "header",
        "listen",
        "console",
        "log",
        "dbRoute",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useFindAndModify",
        "connection",
        "once",
        "status",
        "send",
        "err",
        "error",
        "stack",
        "sendFile",
        "path",
        "join",
        "__dirname"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;AACA;AAGA,MAAMA,QAAQ,GAAG,IAAjB,C,CAAuB;;AACvB,MAAMC,GAAG,GAAG,uBAAZ,C,CAAuB;AAEvB;;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBG,eAApB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,8BAAR,EAAwCI,eAAxC;AAGAL,GAAG,CAACC,GAAJ,CAAQ,UAASK,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC7BD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C,EAD6B,CACmB;;AAChDF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C,EAF6B,CAEiE;;AAC9FF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,wCAA3C,EAH6B,CAGyD;;AACtFD,EAAAA,IAAI;AACP,CALD;AAOAR,GAAG,CAACU,MAAJ,CAAWX,QAAX,EAAqB,MAAMY,OAAO,CAACC,GAAR,CAAa,qBAAoBb,QAAS,EAA1C,CAA3B,E,CAEA;;AACA,MAAMc,OAAO,GAAG,4DAAhB,C,CAEA;;AACAC,kBAASC,OAAT,CAAiBF,OAAjB,EAA0B;AAAEG,EAAAA,eAAe,EAAE,IAAnB;AAAyBC,EAAAA,kBAAkB,EAAE,IAA7C;AAAmDC,EAAAA,gBAAgB,EAAE;AAArE,CAA1B,E,CACA;;;AACA,MAAMC,UAAU,GAAGL,kBAASK,UAA5B,C,CAEA;;AACAA,UAAU,CAACC,IAAX,CAAgB,MAAhB,EAAwB,YAAW;AAC/BT,EAAAA,OAAO,CAACC,GAAR,CAAY,sDAAZ;AACH,CAFD,E,CAIA;;AACAZ,GAAG,CAACC,GAAJ,CAAQ,CAACK,GAAD,EAAKC,GAAL,EAASC,IAAT,KAAkB;AACtBD,EAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uEAArB;AACD,CAFH,E,CAIA;;AACAtB,GAAG,CAACC,GAAJ,CAAQ,CAACsB,GAAD,EAAKjB,GAAL,EAASC,GAAT,EAAaC,IAAb,KAAsB;AAC1BG,EAAAA,OAAO,CAACa,KAAR,CAAcD,GAAG,CAACE,KAAlB;AACAlB,EAAAA,GAAG,CAACmB,QAAJ,CAAaC,cAAKC,IAAL,CAAUC,SAAV,EAAoB,oBAApB,CAAb;AACD,CAHH,E,CAKA",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourcesContent": [
        "import express from 'express'\nimport mongoose from 'mongoose'\nimport bodyParser from 'body-parser';\nimport path from 'path';\nimport cors from 'cors';\nimport courseRoutes from \"./routes/course\"\nimport gradeRoutes from \"./routes/grades\"\n// Babel is added as a dependency in package.json and used to type modern .js syntax and then transpiled. \n// import express from 'express' is equal to const express = require('express')\n\n\nconst API_PORT = 3001; // Listening for incoming HTTP requests on port 3001\nconst app = express(); // Creating an express-object\n\n// When calling app.use(), we add another \"filter\" for all requests to go through. E.g., app.use(bodyParser.json()) parses incoming requests to JSON-format.\napp.use(bodyParser.json());\napp.use(cors());\napp.use('/courses', courseRoutes)\napp.use('/courses/:course_code/grades', gradeRoutes)\n\n\napp.use(function(req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\"); // * indicates that anyone can connect. Can be changed to specific IPs.\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); // Which headers we allow\n    res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE'); // Defining all type of requests we want to accept.\n    next();\n});\n\napp.listen(API_PORT, () => console.log(`LISTENING ON PORT ${API_PORT}`));\n\n// Adress to MongoDB. On format: mongodb://<username>:<pwd>@<IP>/<DNS>:<port>/<database>\nconst dbRoute = 'mongodb://victojo:admin@it2810-39.idi.ntnu.no:27017/grades';\n\n// Connecting to the MongoDB by using mongoose\nmongoose.connect(dbRoute, { useNewUrlParser: true, useUnifiedTopology: true, useFindAndModify: false });\n// Connection is our active connection to the MongoDB\nconst connection = mongoose.connection;\n\n// Once the connection is established, execute the content of function\nconnection.once('open', function() {\n    console.log(\"MongoDB database connection established successfully\");\n})\n\n// Handle all 404 errors (not found)\napp.use((req,res,next) => {\n    res.status(404).send(\"The information you are looking for is not here! Try a different path\")\n  })\n\n// Handles all requests resulting in a 500 response\napp.use((err,req,res,next) => {\n    console.error(err.stack)\n    res.sendFile(path.join(__dirname,'../public/500.html'))\n  })\n\n//  URL: https://grades.no/api/courses/tdt4145/grades\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1571649396339
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "course.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"../models/course.model\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst courseRoutes = _express.default.Router();\n\ncourseRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ncourseRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n\n  next();\n}); // The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ncourseRoutes.route('/').get(async function (req, res) {\n  // Saving all possible attributes for a course document in the collection in content object. \n  // Checks if attribute exists on req.query and saves it if it exists.\n  let content = {};\n  let query = await req.query;\n\n  if (query._id) {\n    content._id = query._id;\n  }\n\n  if (query.course_code) {\n    content.course_code = {\n      $regex: RegExp(query.course_code),\n      $options: '-i'\n    };\n  }\n\n  if (query.credits) {\n    content.credits = Number(query.credits);\n  }\n\n  if (query.norwegian_name) {\n    content.norwegian_name = {\n      $regex: RegExp(query.norwegian_name),\n      $options: '-i'\n    };\n  }\n\n  if (query.taught_in_spring) {\n    content.taught_in_spring = true;\n  }\n\n  if (query.taught_in_autumn) {\n    content.taught_in_autumn = true;\n  }\n\n  if (query.content) {\n    content.content = {\n      $regex: RegExp(query.content),\n      $options: '-i'\n    };\n  }\n\n  if (query.learning_goal) {\n    content.learning_goal = {\n      $regex: RegExp(query.learning_goal),\n      $options: '-i'\n    };\n  } // Syntax to find partial match by using MongoDB find()-function:\n  // find(({norwegian_name : {$regex : /Ava/}})\n  // console.log(content)\n  // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n  // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n\n\n  let sorting = req.query.sorting ? req.query.sorting : 'norwegian_name';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n  // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n\n  _course.default.paginate(content, {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(paginated_content => {\n    // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n    res.json(paginated_content);\n  }).catch(error => {\n    // In case of error, return status 500 and error message.\n    res.status(500).json(error);\n  });\n}); // This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\n\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n  let course_code = req.params.course_code;\n  course = await _course.default.find({\n    course_code: course_code\n  }, (err, course) => {\n    res.json(course);\n  }).catch(error => res.status(500).json(error));\n}); // For updating rows in collection with reviews and rated difficulty. \n\ncourseRoutes.put('/:course_code', (req, res) => {\n  console.log(req.body.difficulty);\n  let difficulty = parseInt(req.body.difficulty); // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n\n  let course = _course.default.find({\n    course_code: req.params.course_code\n  });\n\n  if (req.body.review && 6 > difficulty > 0) {\n    console.log(req.params.course_code); // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n\n    _course.default.findOneAndUpdate(course, {\n      \"$push\": {\n        \"reviews\": req.body.review\n      },\n      \"$push\": {\n        \"difficulty\": parseInt(req.body.difficulty)\n      }\n    }).then(course => res.json(course)).catch(err => res.status(500).json(err));\n  }\n}); // TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\nvar _default = courseRoutes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VSb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInJvdXRlIiwiZ2V0IiwiY29udGVudCIsInF1ZXJ5IiwiX2lkIiwiY291cnNlX2NvZGUiLCIkcmVnZXgiLCJSZWdFeHAiLCIkb3B0aW9ucyIsImNyZWRpdHMiLCJOdW1iZXIiLCJub3J3ZWdpYW5fbmFtZSIsInRhdWdodF9pbl9zcHJpbmciLCJ0YXVnaHRfaW5fYXV0dW1uIiwibGVhcm5pbmdfZ29hbCIsInNvcnRpbmciLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJDb3Vyc2UiLCJwYWdpbmF0ZSIsInNvcnQiLCJ0aGVuIiwicGFnaW5hdGVkX2NvbnRlbnQiLCJqc29uIiwiY2F0Y2giLCJlcnJvciIsInN0YXR1cyIsInBhcmFtcyIsImNvdXJzZSIsImZpbmQiLCJlcnIiLCJwdXQiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImRpZmZpY3VsdHkiLCJyZXZpZXciLCJmaW5kT25lQW5kVXBkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxZQUFZLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXJCOztBQUdBRixZQUFZLENBQUNHLEdBQWIsQ0FBaUIsb0JBQWpCLEUsQ0FDRTs7QUFDQUgsWUFBWSxDQUFDRyxHQUFiLENBQWlCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDeENELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDZCQUFYLEVBQTBDLEdBQTFDLEVBRHdDLENBQ1E7O0FBQ2hERixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxnREFBM0M7QUFDRUYsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsOEJBQVgsRUFBMkMsVUFBM0MsRUFI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QVNDLFVBQXJCO0FBQ0EsTUFBSUEsVUFBVSxHQUFHcEIsUUFBUSxDQUFDdkIsR0FBRyxDQUFDMEMsSUFBSixDQUFTQyxVQUFWLENBQXpCLENBRjRDLENBRzVDOztBQUNBLE1BQUlQLE1BQU0sR0FBR1YsZ0JBQU9XLElBQVAsQ0FBWTtBQUFDNUIsSUFBQUEsV0FBVyxFQUFHVCxHQUFHLENBQUNtQyxNQUFKLENBQVcxQjtBQUExQixHQUFaLENBQWI7O0FBQ0EsTUFBSVQsR0FBRyxDQUFDMEMsSUFBSixDQUFTRSxNQUFULElBQW1CLElBQUVELFVBQUYsR0FBYSxDQUFwQyxFQUF1QztBQUNuQ0gsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVl6QyxHQUFHLENBQUNtQyxNQUFKLENBQVcxQixXQUF2QixFQURtQyxDQUVuQzs7QUFDQWlCLG9CQUFPbUIsZ0JBQVAsQ0FBd0JULE1BQXhCLEVBQWdDO0FBQUMsZUFBUztBQUFFLG1CQUFXcEMsR0FBRyxDQUFDMEMsSUFBSixDQUFTRTtBQUF0QixPQUFWO0FBQTJDLGVBQVU7QUFBQyxzQkFBZXJCLFFBQVEsQ0FBQ3ZCLEdBQUcsQ0FBQzBDLElBQUosQ0FBU0MsVUFBVjtBQUF4QjtBQUFyRCxLQUFoQyxFQUNDZCxJQURELENBQ01PLE1BQU0sSUFBSW5DLEdBQUcsQ0FBQzhCLElBQUosQ0FBU0ssTUFBVCxDQURoQixFQUVDSixLQUZELENBRU9NLEdBQUcsSUFBSXJDLEdBQUcsQ0FBQ2lDLE1BQUosQ0FBVyxHQUFYLEVBQWdCSCxJQUFoQixDQUFxQk8sR0FBckIsQ0FGZDtBQUdIO0FBQ0osQ0FaRCxFLENBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O2VBR2UxQyxZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9WaWN0b3IvRG9jdW1lbnRzL05UTlUvSDIwMTkvV2VidXR2aWtsaW5nL3Byb3NqZWt0XzMvYmFja2VuZC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IENvdXJzZSBmcm9tICcuLi9tb2RlbHMvY291cnNlLm1vZGVsJztcbmltcG9ydCB7IG1vZGVsIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5cbmNvbnN0IGNvdXJzZVJvdXRlcyA9IGV4cHJlc3MuUm91dGVyKClcblxuXG5jb3Vyc2VSb3V0ZXMudXNlKGNvcnMoKSk7XG4gIC8vIEFsbG93IGNsaWVudCB0byBmZXRjaCBkYXRhXG4gIGNvdXJzZVJvdXRlcy51c2UoZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpOyAvLyBDYW4gY2hhbmdlICogdG8gYWxsb3cgcmVxdWVzdCBmcm9tIHNwZWNpZmljIGNsaWVudHMuIEluIHRoaXMgcHJvamVjdCB3ZSBkb250IGNhcmUgdG8gaGFuZGxlIHNlY3VyaXR5IGlzc3Vlcy5cbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQVVQnKTsgLy8gV2Ugb25seSBhbGxvdyBHRVQgYW5kIFBVVCByZXF1ZXN0cy4gT24gcHVycG9zZSwgd2UgZGVjaWRlZCB0byBub3QgaGF2ZSBhbnkgZnVuY3Rpb25hbGl0eSB0byBhZGQgY291cnNlcywgbmVpdGhlciBkZWxldGUgdGhlbS5cbiAgICAgIG5leHQoKTtcbn0pO1xuXG4vLyBUaGUgZnVuY3Rpb24gcGFzc2VkIGludG8gdGhlIGdldCBmdW5jdGlvbiBoYW5kbGVzIGFsbCBHRVQgcmVxdWVzdHMgc2VudCB0byBpdDI4MTAtMzkuaWRpLm50bnUubm86PFBPUlQtTlVNQkVSPi9jb3Vyc2VzIFxuLy8gRnVydGhlciBvbiwgd2UncmUgY2FsbGluZyBDb3Vyc2UuZmluZCB0byBnZXQgYSBsaXN0IG9mIGFsbCBjb3Vyc2UgaXRlbXMgZnJvbSB0aGUgTW9uZ29EQi4gVGhlIGZpbmQgZnVuY3Rpb24gdGFrZXMgb25lIGFyZ3VtZW50LCBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4vLyB3aGljaCBpcyBleGVjdXRlZCBvbmNlIHRoZSByZXN1bHQgaXMgYXZhaWxhYmxlLiBBbGwgcmVzdWx0cyBhdmFpbGFibGUgaW4gY291cnNlcyBhcmUgYWRkZWQgaW4gSlNPTiBmb3JtYXQgdG8gdGhlIHJlc3BvbnNlIGJ5IGNhbGxpbmcgcmVzLmpzb24oY291cnNlcykuXG5jb3Vyc2VSb3V0ZXMucm91dGUoJy8nKS5nZXQoYXN5bmMgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBcblxuICAgIC8vIFNhdmluZyBhbGwgcG9zc2libGUgYXR0cmlidXRlcyBmb3IgYSBjb3Vyc2UgZG9jdW1lbnQgaW4gdGhlIGNvbGxlY3Rpb24gaW4gY29udGVudCBvYmplY3QuIFxuICAgIC8vIENoZWNrcyBpZiBhdHRyaWJ1dGUgZXhpc3RzIG9uIHJlcS5xdWVyeSBhbmQgc2F2ZXMgaXQgaWYgaXQgZXhpc3RzLlxuICAgIGxldCBjb250ZW50ID0ge307XG4gICAgbGV0IHF1ZXJ5ID0gYXdhaXQgcmVxLnF1ZXJ5O1xuICAgIGlmIChxdWVyeS5faWQpIHsgY29udGVudC5faWQgPSBxdWVyeS5faWR9IFxuICAgIGlmIChxdWVyeS5jb3Vyc2VfY29kZSkgeyBjb250ZW50LmNvdXJzZV9jb2RlID0geyRyZWdleDogUmVnRXhwKHF1ZXJ5LmNvdXJzZV9jb2RlKSwgJG9wdGlvbnM6Jy1pJ319XG4gICAgaWYgKHF1ZXJ5LmNyZWRpdHMpIHsgY29udGVudC5jcmVkaXRzID0gTnVtYmVyKHF1ZXJ5LmNyZWRpdHMpfVxuICAgIGlmIChxdWVyeS5ub3J3ZWdpYW5fbmFtZSkgeyBjb250ZW50Lm5vcndlZ2lhbl9uYW1lID0geyRyZWdleCA6IFJlZ0V4cChxdWVyeS5ub3J3ZWdpYW5fbmFtZSksICRvcHRpb25zOictaSd9fVxuICAgIGlmIChxdWVyeS50YXVnaHRfaW5fc3ByaW5nKSB7IGNvbnRlbnQudGF1Z2h0X2luX3NwcmluZyA9IHRydWV9IFxuICAgIGlmIChxdWVyeS50YXVnaHRfaW5fYXV0dW1uKSB7IGNvbnRlbnQudGF1Z2h0X2luX2F1dHVtbiA9IHRydWV9IFxuICAgIGlmIChxdWVyeS5jb250ZW50KSB7IGNvbnRlbnQuY29udGVudCA9IHskcmVnZXg6IFJlZ0V4cChxdWVyeS5jb250ZW50KSwgJG9wdGlvbnM6Jy1pJ319XG4gICAgaWYgKHF1ZXJ5LmxlYXJuaW5nX2dvYWwpIHsgY29udGVudC5sZWFybmluZ19nb2FsID0geyRyZWdleDogUmVnRXhwKHF1ZXJ5LmxlYXJuaW5nX2dvYWwpLCAkb3B0aW9uczonLWknfX1cblxuICAgIC8vIFN5bnRheCB0byBmaW5kIHBhcnRpYWwgbWF0Y2ggYnkgdXNpbmcgTW9uZ29EQiBmaW5kKCktZnVuY3Rpb246XG4gICAgLy8gZmluZCgoe25vcndlZ2lhbl9uYW1lIDogeyRyZWdleCA6IC9BdmEvfX0pXG4gICAgLy8gY29uc29sZS5sb2coY29udGVudClcbiAgICAvLyBjb25zdCBjb3Vyc2VzID0gYXdhaXQgQ291cnNlLmZpbmQoKGNvbnRlbnQpLCBmdW5jdGlvbihlcnIsIGNvdXJzZXMpIHt9KS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgXG4gICAgLy8gVmFsdWVzIHJldHJpZXZlZCBieSB0aGUgcXVlcnksIGVsc2Ugc2V0IHRvIGRlZmF1bHQgdmFsdWVzLiBVc2VkIGluIHBhZ2luYXRpb24gYW5kIHNvcnRpbmcgb2YgcmVzdWx0cy5cbiAgICBsZXQgc29ydGluZyA9IHJlcS5xdWVyeS5zb3J0aW5nID8gcmVxLnF1ZXJ5LnNvcnRpbmc6ICdub3J3ZWdpYW5fbmFtZSc7XG4gICAgbGV0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyID8gcmVxLnF1ZXJ5Lm9yZGVyIDogJzEnO1xuICAgIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyByZXEucXVlcnkucGFnZSA6IDE7XG4gICAgbGV0IHBhZ2VzPXBhcnNlSW50KHBhZ2UpO1xuICAgIGxldCBsaW1pdCA9IHJlcS5xdWVyeS5saW1pdCA/IHJlcS5xdWVyeS5saW1pdCA6IDEwO1xuICAgIGxldCBsaW09cGFyc2VJbnQobGltaXQpO1xuXG4gICAgLy8gVXNlcyBtb25nb29zZS1wYWdpbmF0ZSB0byBwYWdpbmF0ZSByZXN1bHRzLiBQbHVnaW4gaW4gaW1wb3J0ZWQgaW4gdGhlIGNvdXJzZS5tb2RlbC5qcy4gUmVzcG9uc2UgdG8gY2xpZW50IGlzIHNlbnQgaW4gdGhpcyBmdW5jdGlvbi4gXG4gICAgLy8gVGFrZXMgdG8gYXJndW1lbnRzLiBPbmUgY29udGVudCBvYmplY3QsIGFuZCBvbmUgb2JqZWN0IGNvbnRhaW5pbmcgcGFnZXMsIHBhZ2UgbGltaXQgYW5kIHdoYXQgdG8gc29ydCBieS5cbiAgICBDb3Vyc2UucGFnaW5hdGUoY29udGVudCxcbiAgICAgICAgeyAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICAgICAgbGltaXQ6IGxpbSxcbiAgICAgICAgICAgIHNvcnQ6IHtbc29ydGluZ106W29yZGVyXX1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocGFnaW5hdGVkX2NvbnRlbnQgPT4ge1xuICAgICAgICAgICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2UuIEluIHRoaXMgY2FzZSBwYWdpbmF0ZWRfY29udGVudCBpcyB0aGUgZW50aXJlIHBhZ2UgY29udGFpbmluZyBhbGwgI3BhZ2Ugb2Ygb2JqZWN0c1xuICAgICAgICAgICAgcmVzLmpzb24ocGFnaW5hdGVkX2NvbnRlbnQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBlcnJvciwgcmV0dXJuIHN0YXR1cyA1MDAgYW5kIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpO1xuICAgICAgICB9KVxufSk7XG5cbi8vIFRoaXMgcGF0aCBlbmRwb2ludCBpcyB1c2VkIHRvIHJldHJpZXZlIGEgY291cnNlIGJ5IGl0cyBjb3Vyc2VfY29kZS4gVGhpcyB3aWxsIHJldHVybiBhIGNvdXJzZSBvYmplY3QgaW4gSlNPTiBmb3JtYXQgYXMgcmVzcG9uc2UgdG8gYSBHRVQgcmVxdWVzdCBvbiBjb3Vyc2VfY29kZS5cbmNvdXJzZVJvdXRlcy5yb3V0ZSgnLzpjb3Vyc2VfY29kZScpLmdldChhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgY291cnNlX2NvZGUgPSByZXEucGFyYW1zLmNvdXJzZV9jb2RlO1xuICAgIGNvdXJzZSA9IGF3YWl0IENvdXJzZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgKGVyciwgY291cnNlKSA9PiB7XG4gICAgICAgIHJlcy5qc29uKGNvdXJzZSk7XG4gICAgfSkuY2F0Y2goZXJyb3IgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyb3IpKTtcbn0pO1xuXG5cbi8vIEZvciB1cGRhdGluZyByb3dzIGluIGNvbGxlY3Rpb24gd2l0aCByZXZpZXdzIGFuZCByYXRlZCBkaWZmaWN1bHR5LiBcbmNvdXJzZVJvdXRlcy5wdXQoJy86Y291cnNlX2NvZGUnLCAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXEuYm9keS5kaWZmaWN1bHR5KVxuICAgIGxldCBkaWZmaWN1bHR5ID0gcGFyc2VJbnQocmVxLmJvZHkuZGlmZmljdWx0eSlcbiAgICAvLyBGaW5kIHRoZSBjb3JyZWN0IGNvdXJzZSBpbiB0aGUgREIuIENvdXJzZV9jb2RlIGlzIGEgcHJpbWFyeSBrZXksIGFuZCB0aGUgc2VhcmNoIHdpbGwgYWx3YXlzIHJldHVybiBvbmUgcmVzdWx0LlxuICAgIGxldCBjb3Vyc2UgPSBDb3Vyc2UuZmluZCh7Y291cnNlX2NvZGUgOiByZXEucGFyYW1zLmNvdXJzZV9jb2RlfSlcbiAgICBpZiAocmVxLmJvZHkucmV2aWV3ICYmIDY+ZGlmZmljdWx0eT4wKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcS5wYXJhbXMuY291cnNlX2NvZGUpXG4gICAgICAgIC8vIEZpbmQgZG9jdW1lbnQgXCJjb3Vyc2VcIiBpbiBkYiBhbmQgcHVzaCB0aGUgcmV2aWV3IHRvIHRoZSByZXZpZXcgYXJyYXkgb24gdGhlIGRvY3VtZW50LiBBbHNvIHVwZGF0ZSBkaWZmaWN1bHR5IHRvIG5ldyBhdmVyYWdlLlxuICAgICAgICBDb3Vyc2UuZmluZE9uZUFuZFVwZGF0ZShjb3Vyc2UsIHtcIiRwdXNoXCI6IHsgXCJyZXZpZXdzXCI6IHJlcS5ib2R5LnJldmlldyB9LCAgXCIkcHVzaFwiIDoge1wiZGlmZmljdWx0eVwiIDogcGFyc2VJbnQocmVxLmJvZHkuZGlmZmljdWx0eSl9fSlcbiAgICAgICAgLnRoZW4oY291cnNlID0+IHJlcy5qc29uKGNvdXJzZSkpXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKSkgICBcbiAgICB9ICAgIFxufSk7XG5cblxuXG4vLyBUT0RPOiBSZXdyaXRlIHRoaXMgdG8gaGFuZGxlIGFkZGluZyByZXZpZXdzIG9mIGNvdXJzZXNcbi8vIGNvdXJzZVJvdXRlcy5yb3V0ZSgnLzpjb3Vyc2VfY29kZS9hZGQnKS5wb3N0KGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4vLyAgICAgbGV0IGNvdXJzZSA9IG5ldyBDb3Vyc2UocmVxLmJvZHkpO1xuLy8gICAgIGNvdXJzZS5zYXZlKClcbi8vICAgICAgICAgLnRoZW4oY291cnNlID0+IHtcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsnQ291cnNlJzogJ1Jldmlld3MgYWRkZWQgc3VjY2Vzc2Z1bGx5Lid9KTtcbi8vICAgICAgICAgfSlcbi8vICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4vLyAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQWRkaW5nIG5ldyByZXZpZXcgdG8gY291cnNlLCAnLCBjb3Vyc2UsICcsIGZhaWxlZCcpO1xuLy8gICAgICAgICB9KTtcbi8vIH0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNvdXJzZVJvdXRlczsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "course.js"
      ],
      "names": [
        "courseRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "content",
        "query",
        "_id",
        "course_code",
        "$regex",
        "RegExp",
        "$options",
        "credits",
        "Number",
        "norwegian_name",
        "taught_in_spring",
        "taught_in_autumn",
        "learning_goal",
        "sorting",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "Course",
        "paginate",
        "sort",
        "then",
        "paginated_content",
        "json",
        "catch",
        "error",
        "status",
        "params",
        "course",
        "find",
        "err",
        "put",
        "console",
        "log",
        "body",
        "difficulty",
        "review",
        "findOneAndUpdate"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import express from 'express';\nimport cors from 'cors';\nimport Course from '../models/course.model';\nimport { model } from 'mongoose';\n\n\nconst courseRoutes = express.Router()\n\n\ncourseRoutes.use(cors());\n  // Allow client to fetch data\n  courseRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ncourseRoutes.route('/').get(async function(req, res) {\n    \n\n    // Saving all possible attributes for a course document in the collection in content object. \n    // Checks if attribute exists on req.query and saves it if it exists.\n    let content = {};\n    let query = await req.query;\n    if (query._id) { content._id = query._id} \n    if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n    if (query.credits) { content.credits = Number(query.credits)}\n    if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n    if (query.taught_in_spring) { content.taught_in_spring = true} \n    if (query.taught_in_autumn) { content.taught_in_autumn = true} \n    if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n    if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n\n    // Syntax to find partial match by using MongoDB find()-function:\n    // find(({norwegian_name : {$regex : /Ava/}})\n    // console.log(content)\n    // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n    \n    // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n    let sorting = req.query.sorting ? req.query.sorting: 'norwegian_name';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n\n    // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n    // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n    Course.paginate(content,\n        {   page: pages,\n            limit: lim,\n            sort: {[sorting]:[order]}\n        })\n        .then(paginated_content => {\n            // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n            res.json(paginated_content);\n        })\n        .catch(error => {\n            // In case of error, return status 500 and error message.\n          res.status(500).json(error);\n        })\n});\n\n// This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n    let course_code = req.params.course_code;\n    course = await Course.find({course_code : course_code}, (err, course) => {\n        res.json(course);\n    }).catch(error => res.status(500).json(error));\n});\n\n\n// For updating rows in collection with reviews and rated difficulty. \ncourseRoutes.put('/:course_code', (req, res) => {\n    console.log(req.body.difficulty)\n    let difficulty = parseInt(req.body.difficulty)\n    // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n    let course = Course.find({course_code : req.params.course_code})\n    if (req.body.review && 6>difficulty>0) {\n        console.log(req.params.course_code)\n        // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n        Course.findOneAndUpdate(course, {\"$push\": { \"reviews\": req.body.review },  \"$push\" : {\"difficulty\" : parseInt(req.body.difficulty)}})\n        .then(course => res.json(course))\n        .catch(err => res.status(500).json(err))   \n    }    \n});\n\n\n\n// TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\n\nexport default courseRoutes;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571648642084
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
        "sourceFileName": "course.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Course = new Schema({\n  norwegian_name: {\n    type: String\n  },\n  course_code: {\n    type: String\n  },\n  credit: {\n    type: Number\n  },\n  taught_in_spring: {\n    type: Boolean\n  },\n  taught_in_autumn: {\n    type: Boolean\n  },\n  content: {\n    type: String\n  },\n  learning_goal: {\n    type: String\n  },\n  reviews: {\n    type: Array\n  },\n  difficulty: {\n    type: Array\n  }\n}, {\n  collection: 'courses'\n});\nCourse.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Course', Course);\nvar _default = Course;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvdXJzZSIsIm5vcndlZ2lhbl9uYW1lIiwidHlwZSIsIlN0cmluZyIsImNvdXJzZV9jb2RlIiwiY3JlZGl0IiwiTnVtYmVyIiwidGF1Z2h0X2luX3NwcmluZyIsIkJvb2xlYW4iLCJ0YXVnaHRfaW5fYXV0dW1uIiwiY29udGVudCIsImxlYXJuaW5nX2dvYWwiLCJyZXZpZXdzIiwiQXJyYXkiLCJkaWZmaWN1bHR5IiwiY29sbGVjdGlvbiIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsSUFBSUUsTUFBTSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUNwQkcsRUFBQUEsY0FBYyxFQUFFO0FBQ1pDLElBQUFBLElBQUksRUFBRUM7QUFETSxHQURJO0FBSXBCQyxFQUFBQSxXQUFXLEVBQUc7QUFDVkYsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBSk07QUFPcEJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKSCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FQWTtBQVVwQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDZEwsSUFBQUEsSUFBSSxFQUFFTTtBQURRLEdBVkU7QUFhcEJDLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRU07QUFEUSxHQWJFO0FBZ0JwQkUsRUFBQUEsT0FBTyxFQUFFO0FBQ0xSLElBQUFBLElBQUksRUFBRUM7QUFERCxHQWhCVztBQW1CcEJRLEVBQUFBLGFBQWEsRUFBRTtBQUNYVCxJQUFBQSxJQUFJLEVBQUVDO0FBREssR0FuQks7QUFzQnBCUyxFQUFBQSxPQUFPLEVBQUU7QUFDTFYsSUFBQUEsSUFBSSxFQUFFVztBQURELEdBdEJXO0FBeUJwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JaLElBQUFBLElBQUksRUFBRVc7QUFERTtBQXpCUSxDQUFYLEVBNkJUO0FBQUVFLEVBQUFBLFVBQVUsRUFBRztBQUFmLENBN0JTLENBQWI7QUFnQ0lmLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY0MseUJBQWQ7QUFHSkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsa0JBQVNxQixLQUFULENBQWUsUUFBZixFQUF5QnBCLE1BQXpCLENBQWpCO2VBRWVBLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL1ZpY3Rvci9Eb2N1bWVudHMvTlROVS9IMjAxOS9XZWJ1dHZpa2xpbmcvcHJvc2pla3RfMy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlJztcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgQ291cnNlID0gbmV3IFNjaGVtYSh7XG4gICAgbm9yd2VnaWFuX25hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjb3Vyc2VfY29kZSA6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjcmVkaXQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyXG4gICAgfSxcbiAgICB0YXVnaHRfaW5fc3ByaW5nOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9LFxuICAgIHRhdWdodF9pbl9hdXR1bW46IHtcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGxlYXJuaW5nX2dvYWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICByZXZpZXdzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfSxcbiAgICBkaWZmaWN1bHR5OiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfVxuICAgIH0sXG4gICAgeyBjb2xsZWN0aW9uIDogJ2NvdXJzZXMnIH1cbiAgICApXG5cbiAgICBDb3Vyc2UucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0NvdXJzZScsIENvdXJzZSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvdXJzZTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "course.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Course",
        "norwegian_name",
        "type",
        "String",
        "course_code",
        "credit",
        "Number",
        "taught_in_spring",
        "Boolean",
        "taught_in_autumn",
        "content",
        "learning_goal",
        "reviews",
        "Array",
        "difficulty",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACpBG,EAAAA,cAAc,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADI;AAIpBC,EAAAA,WAAW,EAAG;AACVF,IAAAA,IAAI,EAAEC;AADI,GAJM;AAOpBE,EAAAA,MAAM,EAAE;AACJH,IAAAA,IAAI,EAAEI;AADF,GAPY;AAUpBC,EAAAA,gBAAgB,EAAE;AACdL,IAAAA,IAAI,EAAEM;AADQ,GAVE;AAapBC,EAAAA,gBAAgB,EAAE;AACdP,IAAAA,IAAI,EAAEM;AADQ,GAbE;AAgBpBE,EAAAA,OAAO,EAAE;AACLR,IAAAA,IAAI,EAAEC;AADD,GAhBW;AAmBpBQ,EAAAA,aAAa,EAAE;AACXT,IAAAA,IAAI,EAAEC;AADK,GAnBK;AAsBpBS,EAAAA,OAAO,EAAE;AACLV,IAAAA,IAAI,EAAEW;AADD,GAtBW;AAyBpBC,EAAAA,UAAU,EAAE;AACRZ,IAAAA,IAAI,EAAEW;AADE;AAzBQ,CAAX,EA6BT;AAAEE,EAAAA,UAAU,EAAG;AAAf,CA7BS,CAAb;AAgCIf,MAAM,CAACgB,MAAP,CAAcC,yBAAd;AAGJC,MAAM,CAACC,OAAP,GAAiBpB,kBAASqB,KAAT,CAAe,QAAf,EAAyBpB,MAAzB,CAAjB;eAEeA,M",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Course = new Schema({\n    norwegian_name: {\n        type: String\n    },\n    course_code : {\n        type: String\n    },\n    credit: {\n        type: Number\n    },\n    taught_in_spring: {\n        type: Boolean\n    },\n    taught_in_autumn: {\n        type: Boolean\n    },\n    content: {\n        type: String\n    },\n    learning_goal: {\n        type: String\n    },\n    reviews: {\n        type: Array\n    },\n    difficulty: {\n        type: Array\n    }\n    },\n    { collection : 'courses' }\n    )\n\n    Course.plugin(mongoosePaginate);\n\n\nmodule.exports = mongoose.model('Course', Course);\n\nexport default Course;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571647434424
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "grades.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _grades = _interopRequireDefault(require(\"../models/grades.model\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst gradeRoutes = _express.default.Router();\n\ngradeRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ngradeRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n  next();\n}); // The function passed into the get function handles all GET requests sent to /courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ngradeRoutes.route('/').get(async function (req, res) {\n  let sorting = req.query.sorting ? req.query.sorting : 'semester_code';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n  // Saving all possible attributes for a course document in the collection in content object\n\n  let content = {};\n  content.course_code = req.baseUrl.split('/')[2]; // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n  // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n\n  const grades = await _grades.default.find(content);\n  console.log(grades[0]); // The content in json() is what is being returned in the HTTP Response\n  // res.status(200).json(grades).send();\n\n  _grades.default.paginate(grades[0], {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(page => {\n    res.json(page);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}); // Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\n\ngradeRoutes.route('/:course_code').get(async function (req, res) {\n  let course_code = req.params.course_code;\n  const grades = await _grades.default.find({\n    course_code: course_code\n  }, function (err, grades) {\n    res.json(grades);\n  });\n  res.status(200).json(grades).send();\n});\nvar _default = gradeRoutes; // Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5qcyJdLCJuYW1lcyI6WyJncmFkZVJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicm91dGUiLCJnZXQiLCJzb3J0aW5nIiwicXVlcnkiLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJjb250ZW50IiwiY291cnNlX2NvZGUiLCJiYXNlVXJsIiwic3BsaXQiLCJncmFkZXMiLCJHcmFkZSIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzb3J0IiwidGhlbiIsImpzb24iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsInBhcmFtcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixvQkFBaEIsRSxDQUNFOztBQUNBSCxXQUFXLENBQUNHLEdBQVosQ0FBZ0IsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN2Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEdUMsQ0FDUzs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNFRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0M7QUFDQUQsRUFBQUEsSUFBSTtBQUNULENBTEMsRSxDQU9GO0FBQ0E7QUFDQTs7QUFDQU4sV0FBVyxDQUFDUSxLQUFaLENBQWtCLEdBQWxCLEVBQXVCQyxHQUF2QixDQUEyQixnQkFBZUwsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFDaEQsTUFBSUssT0FBTyxHQUFHTixHQUFHLENBQUNPLEtBQUosQ0FBVUQsT0FBVixHQUFvQk4sR0FBRyxDQUFDTyxLQUFKLENBQVVELE9BQTlCLEdBQXVDLGVBQXJEO0FBQ0EsTUFBSUUsS0FBSyxHQUFHUixHQUFHLENBQUNPLEtBQUosQ0FBVUMsS0FBVixHQUFrQlIsR0FBRyxDQUFDTyxLQUFKLENBQVVDLEtBQTVCLEdBQW9DLEdBQWhEO0FBQ0EsTUFBSUMsSUFBSSxHQUFHVCxHQUFHLENBQUNPLEtBQUosQ0FBVUUsSUFBVixHQUFpQlQsR0FBRyxDQUFDTyxLQUFKLENBQVVFLElBQTNCLEdBQWtDLENBQTdDO0FBQ0EsTUFBSUMsS0FBSyxHQUFDQyxRQUFRLENBQUNGLElBQUQsQ0FBbEI7QUFDQSxNQUFJRyxLQUFLLEdBQUdaLEdBQUcsQ0FBQ08sS0FBSixDQUFVSyxLQUFWLEdBQWtCWixHQUFHLENBQUNPLEtBQUosQ0FBVUssS0FBNUIsR0FBb0MsRUFBaEQ7QUFDQSxNQUFJQyxHQUFHLEdBQUNGLFFBQVEsQ0FBQ0MsS0FBRCxDQUFoQixDQU5nRCxDQU9oRDtBQUNBOztBQUNBLE1BQUlFLE9BQU8sR0FBRyxFQUFkO0FBQ0FBLEVBQUFBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQmYsR0FBRyxDQUFDZ0IsT0FBSixDQUFZQyxLQUFaLENBQWtCLEdBQWxCLEVBQXVCLENBQXZCLENBQXRCLENBVmdELENBV2hEO0FBR0E7O0FBQ0EsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLGdCQUFNQyxJQUFOLENBQVdOLE9BQVgsQ0FBckI7QUFDQU8sRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLE1BQU0sQ0FBQyxDQUFELENBQWxCLEVBaEJnRCxDQWtCaEQ7QUFDQTs7QUFFQUMsa0JBQU1JLFFBQU4sQ0FBZUwsTUFBTSxDQUFDLENBQUQsQ0FBckIsRUFBeUI7QUFDckJULElBQUFBLElBQUksRUFBRUMsS0FEZTtBQUVyQkUsSUFBQUEsS0FBSyxFQUFFQyxHQUZjO0FBR3JCVyxJQUFBQSxJQUFJLEVBQUU7QUFBQyxPQUFDbEIsT0FBRCxHQUFVLENBQUNFLEtBQUQ7QUFBWDtBQUhlLEdBQXpCLEVBS0tpQixJQUxMLENBS1VoQixJQUFJLElBQUk7QUFDZFIsSUFBQUEsR0FBRyxDQUFDeUIsSUFBSixDQUFTakIsSUFBVDtBQUNELEdBUEgsRUFRS2tCLEtBUkwsQ0FRV0MsR0FBRyxJQUFJO0FBQ1ozQixJQUFBQSxHQUFHLENBQUM0QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCO0FBQ0QsR0FWTDtBQVdILENBaENELEUsQ0FtQ0E7O0FBQ0FoQyxXQUFXLENBQUNRLEtBQVosQ0FBa0IsZUFBbEIsRUFBbUNDLEdBQW5DLENBQXVDLGdCQUFlTCxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUM1RCxNQUFJYyxXQUFXLEdBQUdmLEdBQUcsQ0FBQzhCLE1BQUosQ0FBV2YsV0FBN0I7QUFDQSxRQUFNRyxNQUFNLEdBQUcsTUFBTUMsZ0JBQU1DLElBQU4sQ0FBVztBQUFDTCxJQUFBQSxXQUFXLEVBQUdBO0FBQWYsR0FBWCxFQUF3QyxVQUFTYSxHQUFULEVBQWNWLE1BQWQsRUFBc0I7QUFDL0VqQixJQUFBQSxHQUFHLENBQUN5QixJQUFKLENBQVNSLE1BQVQ7QUFDSCxHQUZvQixDQUFyQjtBQUdBakIsRUFBQUEsR0FBRyxDQUFDNEIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCUixNQUFyQixFQUE2QmEsSUFBN0I7QUFHSCxDQVJEO2VBVWVuQyxXLEVBRWY7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvVmljdG9yL0RvY3VtZW50cy9OVE5VL0gyMDE5L1dlYnV0dmlrbGluZy9wcm9zamVrdF8zL2JhY2tlbmQvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdyYWRlIGZyb20gJy4uL21vZGVscy9ncmFkZXMubW9kZWwnXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgZ3JhZGVSb3V0ZXMgPSBleHByZXNzLlJvdXRlcigpO1xuXG5ncmFkZVJvdXRlcy51c2UoY29ycygpKTtcbiAgLy8gQWxsb3cgY2xpZW50IHRvIGZldGNoIGRhdGFcbiAgZ3JhZGVSb3V0ZXMudXNlKGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTsgLy8gQ2FuIGNoYW5nZSAqIHRvIGFsbG93IHJlcXVlc3QgZnJvbSBzcGVjaWZpYyBjbGllbnRzXG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgT1BUSU9OUywgUFVULCBQQVRDSCwgREVMRVRFJyk7XG4gICAgICBuZXh0KCk7XG59KTtcblxuLy8gVGhlIGZ1bmN0aW9uIHBhc3NlZCBpbnRvIHRoZSBnZXQgZnVuY3Rpb24gaGFuZGxlcyBhbGwgR0VUIHJlcXVlc3RzIHNlbnQgdG8gL2NvdXJzZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIENvdXJzZS5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmdyYWRlUm91dGVzLnJvdXRlKCcvJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IHNvcnRpbmcgPSByZXEucXVlcnkuc29ydGluZyA/IHJlcS5xdWVyeS5zb3J0aW5nOiAnc2VtZXN0ZXJfY29kZSc7XG4gICAgbGV0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyID8gcmVxLnF1ZXJ5Lm9yZGVyIDogJzEnO1xuICAgIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyByZXEucXVlcnkucGFnZSA6IDE7XG4gICAgbGV0IHBhZ2VzPXBhcnNlSW50KHBhZ2UpO1xuICAgIGxldCBsaW1pdCA9IHJlcS5xdWVyeS5saW1pdCA/IHJlcS5xdWVyeS5saW1pdCA6IDEwO1xuICAgIGxldCBsaW09cGFyc2VJbnQobGltaXQpO1xuICAgIC8vIEFjY2VzcyBjb3Vyc2VfY29kZSBmcm9tIFVSTCBieSBzcGxpdHRpbmcgb24gLyBhbmQgc2VsZWN0aW5nIHRoZSAzcmQgZWxlbWVudC4gV2lsbCB3b3JrIGZvciBldmVyeSBwb3NzaWJsZSBzdGF0ZSBpbiB0aGlzIHByb2plY3QuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdFxuICAgIGxldCBjb250ZW50ID0ge307XG4gICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHJlcS5iYXNlVXJsLnNwbGl0KCcvJylbMl1cbiAgICAvLyBpZiAocXVlcnkuY291cnNlX2NvZGUpIHsgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXggOiBSZWdFeHAocXVlcnkuY291cnNlX2NvZGUpLCAkb3B0aW9uczonLWknfSB9XG5cbiAgICBcbiAgICAvLyBUaGUgY29udGVudCBvYmplY3QgYmVpbmcgc2VuZCBpbnRvIGZpbmQgaXMgb2YgdGhlIGZvcm0gZS5nLiwge2NvdXJzZV9jb2RlID0gXCJURFQ0MTQwXCJ9XG4gICAgY29uc3QgZ3JhZGVzID0gYXdhaXQgR3JhZGUuZmluZChjb250ZW50KTtcbiAgICBjb25zb2xlLmxvZyhncmFkZXNbMF0pXG4gICAgXG4gICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2VcbiAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgIEdyYWRlLnBhZ2luYXRlKGdyYWRlc1swXSx7XG4gICAgICAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICBsaW1pdDogbGltLFxuICAgICAgICBzb3J0OiB7W3NvcnRpbmddOltvcmRlcl1cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihwYWdlID0+IHtcbiAgICAgICAgcmVzLmpzb24ocGFnZSk7XG4gICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xuICAgICAgICB9KVxufSk7XG5cblxuLy8gTWFrZXMgaXQgcG9zc2libGUgdG8gZ28gZGlyZWN0bHkgdG8gdGhlIHNlbWVzdGVycyBvZiBhIGNvdXJzZSBvYmplY3QgYnkgdmlzaXRpbmcgaXQyODEwLTM5LmlkaS5udG51Lm5vOjMwMDEvZ3JhZGVzL1REVDQxMTBcbmdyYWRlUm91dGVzLnJvdXRlKCcvOmNvdXJzZV9jb2RlJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IGNvdXJzZV9jb2RlID0gcmVxLnBhcmFtcy5jb3Vyc2VfY29kZTtcbiAgICBjb25zdCBncmFkZXMgPSBhd2FpdCBHcmFkZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgZnVuY3Rpb24oZXJyLCBncmFkZXMpIHtcbiAgICAgICAgcmVzLmpzb24oZ3JhZGVzKTtcbiAgICB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZ3JhZGVSb3V0ZXM7XG5cbi8vIEZvcm1hdCBmb3Igc3DDuHJyaW5nZXI6XG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDEvZ3JhZGVzP2NvdXJzZV9jb2RlPVREVDQxMTAmc2VtZXN0ZXJzLnNlbWVzdGVyX2NvZGU9SDIwMTgiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "grades.js"
      ],
      "names": [
        "gradeRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "sorting",
        "query",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "content",
        "course_code",
        "baseUrl",
        "split",
        "grades",
        "Grade",
        "find",
        "console",
        "log",
        "paginate",
        "sort",
        "then",
        "json",
        "catch",
        "err",
        "status",
        "params",
        "send"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import Grade from '../models/grades.model'\nimport express from 'express';\nimport cors from 'cors';\nimport Axios from 'axios';\n\nconst gradeRoutes = express.Router();\n\ngradeRoutes.use(cors());\n  // Allow client to fetch data\n  gradeRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to /courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ngradeRoutes.route('/').get(async function(req, res) {\n    let sorting = req.query.sorting ? req.query.sorting: 'semester_code';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n    // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n    // Saving all possible attributes for a course document in the collection in content object\n    let content = {};\n    content.course_code = req.baseUrl.split('/')[2]\n    // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n\n    \n    // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n    const grades = await Grade.find(content);\n    console.log(grades[0])\n    \n    // The content in json() is what is being returned in the HTTP Response\n    // res.status(200).json(grades).send();\n\n    Grade.paginate(grades[0],{\n        page: pages,\n        limit: lim,\n        sort: {[sorting]:[order]\n        }\n      }).then(page => {\n        res.json(page);\n      })\n        .catch(err => {\n          res.status(500).json(err);\n        })\n});\n\n\n// Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\ngradeRoutes.route('/:course_code').get(async function(req, res) {\n    let course_code = req.params.course_code;\n    const grades = await Grade.find({course_code : course_code}, function(err, grades) {\n        res.json(grades);\n    });\n    res.status(200).json(grades).send();\n\n   \n});\n\nexport default gradeRoutes;\n\n// Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018"
      ]
    },
    "sourceType": "script",
    "mtime": 1571650487103
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/grades.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
        "sourceFileName": "grades.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Grade = new Schema({\n  course_code: {\n    type: String\n  },\n  semesters: {\n    type: Array\n  }\n}, {\n  collection: 'grades'\n});\nGrade.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Grade', Grade);\nvar _default = Grade;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkdyYWRlIiwiY291cnNlX2NvZGUiLCJ0eXBlIiwiU3RyaW5nIiwic2VtZXN0ZXJzIiwiQXJyYXkiLCJjb2xsZWN0aW9uIiwicGx1Z2luIiwibW9uZ29vc2VQYWdpbmF0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxrQkFBU0QsTUFBeEI7QUFFQSxJQUFJRSxLQUFLLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ25CRyxFQUFBQSxXQUFXLEVBQUc7QUFDVkMsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBREs7QUFJbkJDLEVBQUFBLFNBQVMsRUFBRztBQUNSRixJQUFBQSxJQUFJLEVBQUVHO0FBREU7QUFKTyxDQUFYLEVBUVI7QUFBRUMsRUFBQUEsVUFBVSxFQUFHO0FBQWYsQ0FSUSxDQUFaO0FBVUlOLEtBQUssQ0FBQ08sTUFBTixDQUFhQyx5QkFBYjtBQUVKQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLGtCQUFTWSxLQUFULENBQWUsT0FBZixFQUF3QlgsS0FBeEIsQ0FBakI7ZUFFZUEsSyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvVmljdG9yL0RvY3VtZW50cy9OVE5VL0gyMDE5L1dlYnV0dmlrbGluZy9wcm9zamVrdF8zL2JhY2tlbmQvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IG1vbmdvb3NlUGFnaW5hdGUgZnJvbSAnbW9uZ29vc2UtcGFnaW5hdGUnO1xuXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmxldCBHcmFkZSA9IG5ldyBTY2hlbWEoe1xuICAgIGNvdXJzZV9jb2RlIDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIHNlbWVzdGVycyA6IHtcbiAgICAgICAgdHlwZTogQXJyYXlcbiAgICB9fSxcblxuICAgIHsgY29sbGVjdGlvbiA6ICdncmFkZXMnIH1cbiAgICApXG4gICAgR3JhZGUucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdHcmFkZScsIEdyYWRlKTtcblxuZXhwb3J0IGRlZmF1bHQgR3JhZGUiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "grades.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Grade",
        "course_code",
        "type",
        "String",
        "semesters",
        "Array",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,KAAK,GAAG,IAAIF,MAAJ,CAAW;AACnBG,EAAAA,WAAW,EAAG;AACVC,IAAAA,IAAI,EAAEC;AADI,GADK;AAInBC,EAAAA,SAAS,EAAG;AACRF,IAAAA,IAAI,EAAEG;AADE;AAJO,CAAX,EAQR;AAAEC,EAAAA,UAAU,EAAG;AAAf,CARQ,CAAZ;AAUIN,KAAK,CAACO,MAAN,CAAaC,yBAAb;AAEJC,MAAM,CAACC,OAAP,GAAiBX,kBAASY,KAAT,CAAe,OAAf,EAAwBX,KAAxB,CAAjB;eAEeA,K",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Grade = new Schema({\n    course_code : {\n        type: String\n    },\n    semesters : {\n        type: Array\n    }},\n\n    { collection : 'grades' }\n    )\n    Grade.plugin(mongoosePaginate);\n\nmodule.exports = mongoose.model('Grade', Grade);\n\nexport default Grade"
      ]
    },
    "sourceType": "script",
    "mtime": 1571581796399
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/course.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "course.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _course = _interopRequireDefault(require(\"../models/course.model\"));\n\nvar _mongoose = require(\"mongoose\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst courseRoutes = _express.default.Router();\n\ncourseRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ncourseRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n\n  next();\n}); // The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ncourseRoutes.route('/').get(async function (req, res) {\n  // Saving all possible attributes for a course document in the collection in content object. \n  // Checks if attribute exists on req.query and saves it if it exists.\n  let content = {};\n  let query = await req.query;\n\n  if (query._id) {\n    content._id = query._id;\n  }\n\n  if (query.course_code) {\n    content.course_code = {\n      $regex: RegExp(query.course_code),\n      $options: '-i'\n    };\n  }\n\n  if (query.credits) {\n    content.credits = Number(query.credits);\n  }\n\n  if (query.norwegian_name) {\n    content.norwegian_name = {\n      $regex: RegExp(query.norwegian_name),\n      $options: '-i'\n    };\n  }\n\n  if (query.taught_in_spring) {\n    content.taught_in_spring = true;\n  }\n\n  if (query.taught_in_autumn) {\n    content.taught_in_autumn = true;\n  }\n\n  if (query.content) {\n    content.content = {\n      $regex: RegExp(query.content),\n      $options: '-i'\n    };\n  }\n\n  if (query.learning_goal) {\n    content.learning_goal = {\n      $regex: RegExp(query.learning_goal),\n      $options: '-i'\n    };\n  } // Syntax to find partial match by using MongoDB find()-function:\n  // find(({norwegian_name : {$regex : /Ava/}})\n  // console.log(content)\n  // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n  // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n\n\n  let sorting = req.query.sorting ? req.query.sorting : 'norwegian_name';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n  // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n\n  _course.default.paginate(content, {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(paginated_content => {\n    // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n    res.json(paginated_content);\n  }).catch(error => {\n    // In case of error, return status 500 and error message.\n    res.status(500).json(error);\n  });\n}); // This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\n\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n  let course_code = req.params.course_code;\n  course = await _course.default.find({\n    course_code: course_code\n  }, (err, course) => {\n    res.json(course);\n  }).catch(error => res.status(500).json(error));\n}); // For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \n\ncourseRoutes.put('/:course_code', (req, res) => {\n  console.log(req.body.difficulty);\n  let difficulty = parseInt(req.body.difficulty); // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n\n  let course = _course.default.find({\n    course_code: req.params.course_code\n  });\n\n  if (req.body.review && 6 > difficulty > 0) {\n    console.log(req.params.course_code); // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n\n    _course.default.findOneAndUpdate(course, {\n      \"$push\": {\n        \"reviews\": req.body.review\n      },\n      \"$push\": {\n        \"difficulty\": parseInt(req.body.difficulty)\n      }\n    }).then(course => res.json(course)).catch(err => res.status(500).json(err));\n  }\n}); // TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\nvar _default = courseRoutes;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5qcyJdLCJuYW1lcyI6WyJjb3Vyc2VSb3V0ZXMiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlciIsInJvdXRlIiwiZ2V0IiwiY29udGVudCIsInF1ZXJ5IiwiX2lkIiwiY291cnNlX2NvZGUiLCIkcmVnZXgiLCJSZWdFeHAiLCIkb3B0aW9ucyIsImNyZWRpdHMiLCJOdW1iZXIiLCJub3J3ZWdpYW5fbmFtZSIsInRhdWdodF9pbl9zcHJpbmciLCJ0YXVnaHRfaW5fYXV0dW1uIiwibGVhcm5pbmdfZ29hbCIsInNvcnRpbmciLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJDb3Vyc2UiLCJwYWdpbmF0ZSIsInNvcnQiLCJ0aGVuIiwicGFnaW5hdGVkX2NvbnRlbnQiLCJqc29uIiwiY2F0Y2giLCJlcnJvciIsInN0YXR1cyIsInBhcmFtcyIsImNvdXJzZSIsImZpbmQiLCJlcnIiLCJwdXQiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImRpZmZpY3VsdHkiLCJyZXZpZXciLCJmaW5kT25lQW5kVXBkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxZQUFZLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXJCOztBQUdBRixZQUFZLENBQUNHLEdBQWIsQ0FBaUIsb0JBQWpCLEUsQ0FDRTs7QUFDQUgsWUFBWSxDQUFDRyxHQUFiLENBQWlCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDeENELEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDZCQUFYLEVBQTBDLEdBQTFDLEVBRHdDLENBQ1E7O0FBQ2hERixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyxnREFBM0M7QUFDRUYsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsOEJBQVgsRUFBMkMsVUFBM0MsRUFI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QUosQ0FBU0MsVUFBckI7QUFDQSxNQUFJQSxVQUFVLEdBQUdwQixRQUFRLENBQUN2QixHQUFHLENBQUMwQyxJQUFKLENBQVNDLFVBQVYsQ0FBekIsQ0FGNEMsQ0FHNUM7O0FBQ0EsTUFBSVAsTUFBTSxHQUFHVixnQkFBT1csSUFBUCxDQUFZO0FBQUM1QixJQUFBQSxXQUFXLEVBQUdULEdBQUcsQ0FBQ21DLE1BQUosQ0FBVzFCO0FBQTFCLEdBQVosQ0FBYjs7QUFDQSxNQUFJVCxHQUFHLENBQUMwQyxJQUFKLENBQVNFLE1BQVQsSUFBbUIsSUFBRUQsVUFBRixHQUFhLENBQXBDLEVBQXVDO0FBQ25DSCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWXpDLEdBQUcsQ0FBQ21DLE1BQUosQ0FBVzFCLFdBQXZCLEVBRG1DLENBRW5DOztBQUNBaUIsb0JBQU9tQixnQkFBUCxDQUF3QlQsTUFBeEIsRUFBZ0M7QUFBQyxlQUFTO0FBQUUsbUJBQVdwQyxHQUFHLENBQUMwQyxJQUFKLENBQVNFO0FBQXRCLE9BQVY7QUFBMkMsZUFBVTtBQUFDLHNCQUFlckIsUUFBUSxDQUFDdkIsR0FBRyxDQUFDMEMsSUFBSixDQUFTQyxVQUFWO0FBQXhCO0FBQXJELEtBQWhDLEVBQ0NkLElBREQsQ0FDTU8sTUFBTSxJQUFJbkMsR0FBRyxDQUFDOEIsSUFBSixDQUFTSyxNQUFULENBRGhCLEVBRUNKLEtBRkQsQ0FFT00sR0FBRyxJQUFJckMsR0FBRyxDQUFDaUMsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCTyxHQUFyQixDQUZkO0FBR0g7QUFDSixDQVpELEUsQ0FnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7ZUFHZTFDLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL1ZpY3Rvci9Eb2N1bWVudHMvTlROVS9IMjAxOS9XZWJ1dHZpa2xpbmcvcHJvc2pla3RfMy9iYWNrZW5kL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgQ291cnNlIGZyb20gJy4uL21vZGVscy9jb3Vyc2UubW9kZWwnO1xuaW1wb3J0IHsgbW9kZWwgfSBmcm9tICdtb25nb29zZSc7XG5cblxuY29uc3QgY291cnNlUm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKVxuXG5cbmNvdXJzZVJvdXRlcy51c2UoY29ycygpKTtcbiAgLy8gQWxsb3cgY2xpZW50IHRvIGZldGNoIGRhdGFcbiAgY291cnNlUm91dGVzLnVzZShmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7IC8vIENhbiBjaGFuZ2UgKiB0byBhbGxvdyByZXF1ZXN0IGZyb20gc3BlY2lmaWMgY2xpZW50cy4gSW4gdGhpcyBwcm9qZWN0IHdlIGRvbnQgY2FyZSB0byBoYW5kbGUgc2VjdXJpdHkgaXNzdWVzLlxuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBVVCcpOyAvLyBXZSBvbmx5IGFsbG93IEdFVCBhbmQgUFVUIHJlcXVlc3RzLiBPbiBwdXJwb3NlLCB3ZSBkZWNpZGVkIHRvIG5vdCBoYXZlIGFueSBmdW5jdGlvbmFsaXR5IHRvIGFkZCBjb3Vyc2VzLCBuZWl0aGVyIGRlbGV0ZSB0aGVtLlxuICAgICAgbmV4dCgpO1xufSk7XG5cbi8vIFRoZSBmdW5jdGlvbiBwYXNzZWQgaW50byB0aGUgZ2V0IGZ1bmN0aW9uIGhhbmRsZXMgYWxsIEdFVCByZXF1ZXN0cyBzZW50IHRvIGl0MjgxMC0zOS5pZGkubnRudS5ubzo8UE9SVC1OVU1CRVI+L2NvdXJzZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIENvdXJzZS5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmNvdXJzZVJvdXRlcy5yb3V0ZSgnLycpLmdldChhc3luYyBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIFxuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdC4gXG4gICAgLy8gQ2hlY2tzIGlmIGF0dHJpYnV0ZSBleGlzdHMgb24gcmVxLnF1ZXJ5IGFuZCBzYXZlcyBpdCBpZiBpdCBleGlzdHMuXG4gICAgbGV0IGNvbnRlbnQgPSB7fTtcbiAgICBsZXQgcXVlcnkgPSBhd2FpdCByZXEucXVlcnk7XG4gICAgaWYgKHF1ZXJ5Ll9pZCkgeyBjb250ZW50Ll9pZCA9IHF1ZXJ5Ll9pZH0gXG4gICAgaWYgKHF1ZXJ5LmNvdXJzZV9jb2RlKSB7IGNvbnRlbnQuY291cnNlX2NvZGUgPSB7JHJlZ2V4OiBSZWdFeHAocXVlcnkuY291cnNlX2NvZGUpLCAkb3B0aW9uczonLWknfX1cbiAgICBpZiAocXVlcnkuY3JlZGl0cykgeyBjb250ZW50LmNyZWRpdHMgPSBOdW1iZXIocXVlcnkuY3JlZGl0cyl9XG4gICAgaWYgKHF1ZXJ5Lm5vcndlZ2lhbl9uYW1lKSB7IGNvbnRlbnQubm9yd2VnaWFuX25hbWUgPSB7JHJlZ2V4IDogUmVnRXhwKHF1ZXJ5Lm5vcndlZ2lhbl9uYW1lKSwgJG9wdGlvbnM6Jy1pJ319XG4gICAgaWYgKHF1ZXJ5LnRhdWdodF9pbl9zcHJpbmcpIHsgY29udGVudC50YXVnaHRfaW5fc3ByaW5nID0gdHJ1ZX0gXG4gICAgaWYgKHF1ZXJ5LnRhdWdodF9pbl9hdXR1bW4pIHsgY29udGVudC50YXVnaHRfaW5fYXV0dW1uID0gdHJ1ZX0gXG4gICAgaWYgKHF1ZXJ5LmNvbnRlbnQpIHsgY29udGVudC5jb250ZW50ID0geyRyZWdleDogUmVnRXhwKHF1ZXJ5LmNvbnRlbnQpLCAkb3B0aW9uczonLWknfX1cbiAgICBpZiAocXVlcnkubGVhcm5pbmdfZ29hbCkgeyBjb250ZW50LmxlYXJuaW5nX2dvYWwgPSB7JHJlZ2V4OiBSZWdFeHAocXVlcnkubGVhcm5pbmdfZ29hbCksICRvcHRpb25zOictaSd9fVxuXG4gICAgLy8gU3ludGF4IHRvIGZpbmQgcGFydGlhbCBtYXRjaCBieSB1c2luZyBNb25nb0RCIGZpbmQoKS1mdW5jdGlvbjpcbiAgICAvLyBmaW5kKCh7bm9yd2VnaWFuX25hbWUgOiB7JHJlZ2V4IDogL0F2YS99fSlcbiAgICAvLyBjb25zb2xlLmxvZyhjb250ZW50KVxuICAgIC8vIGNvbnN0IGNvdXJzZXMgPSBhd2FpdCBDb3Vyc2UuZmluZCgoY29udGVudCksIGZ1bmN0aW9uKGVyciwgY291cnNlcykge30pLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICBcbiAgICAvLyBWYWx1ZXMgcmV0cmlldmVkIGJ5IHRoZSBxdWVyeSwgZWxzZSBzZXQgdG8gZGVmYXVsdCB2YWx1ZXMuIFVzZWQgaW4gcGFnaW5hdGlvbiBhbmQgc29ydGluZyBvZiByZXN1bHRzLlxuICAgIGxldCBzb3J0aW5nID0gcmVxLnF1ZXJ5LnNvcnRpbmcgPyByZXEucXVlcnkuc29ydGluZzogJ25vcndlZ2lhbl9uYW1lJztcbiAgICBsZXQgb3JkZXIgPSByZXEucXVlcnkub3JkZXIgPyByZXEucXVlcnkub3JkZXIgOiAnMSc7XG4gICAgbGV0IHBhZ2UgPSByZXEucXVlcnkucGFnZSA/IHJlcS5xdWVyeS5wYWdlIDogMTtcbiAgICBsZXQgcGFnZXM9cGFyc2VJbnQocGFnZSk7XG4gICAgbGV0IGxpbWl0ID0gcmVxLnF1ZXJ5LmxpbWl0ID8gcmVxLnF1ZXJ5LmxpbWl0IDogMTA7XG4gICAgbGV0IGxpbT1wYXJzZUludChsaW1pdCk7XG5cbiAgICAvLyBVc2VzIG1vbmdvb3NlLXBhZ2luYXRlIHRvIHBhZ2luYXRlIHJlc3VsdHMuIFBsdWdpbiBpbiBpbXBvcnRlZCBpbiB0aGUgY291cnNlLm1vZGVsLmpzLiBSZXNwb25zZSB0byBjbGllbnQgaXMgc2VudCBpbiB0aGlzIGZ1bmN0aW9uLiBcbiAgICAvLyBUYWtlcyB0byBhcmd1bWVudHMuIE9uZSBjb250ZW50IG9iamVjdCwgYW5kIG9uZSBvYmplY3QgY29udGFpbmluZyBwYWdlcywgcGFnZSBsaW1pdCBhbmQgd2hhdCB0byBzb3J0IGJ5LlxuICAgIENvdXJzZS5wYWdpbmF0ZShjb250ZW50LFxuICAgICAgICB7ICAgcGFnZTogcGFnZXMsXG4gICAgICAgICAgICBsaW1pdDogbGltLFxuICAgICAgICAgICAgc29ydDoge1tzb3J0aW5nXTpbb3JkZXJdfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihwYWdpbmF0ZWRfY29udGVudCA9PiB7XG4gICAgICAgICAgICAvLyBUaGUgY29udGVudCBpbiBqc29uKCkgaXMgd2hhdCBpcyBiZWluZyByZXR1cm5lZCBpbiB0aGUgSFRUUCBSZXNwb25zZS4gSW4gdGhpcyBjYXNlIHBhZ2luYXRlZF9jb250ZW50IGlzIHRoZSBlbnRpcmUgcGFnZSBjb250YWluaW5nIGFsbCAjcGFnZSBvZiBvYmplY3RzXG4gICAgICAgICAgICByZXMuanNvbihwYWdpbmF0ZWRfY29udGVudCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIGVycm9yLCByZXR1cm4gc3RhdHVzIDUwMCBhbmQgZXJyb3IgbWVzc2FnZS5cbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnJvcik7XG4gICAgICAgIH0pXG59KTtcblxuLy8gVGhpcyBwYXRoIGVuZHBvaW50IGlzIHVzZWQgdG8gcmV0cmlldmUgYSBjb3Vyc2UgYnkgaXRzIGNvdXJzZV9jb2RlLiBUaGlzIHdpbGwgcmV0dXJuIGEgY291cnNlIG9iamVjdCBpbiBKU09OIGZvcm1hdCBhcyByZXNwb25zZSB0byBhIEdFVCByZXF1ZXN0IG9uIGNvdXJzZV9jb2RlLlxuY291cnNlUm91dGVzLnJvdXRlKCcvOmNvdXJzZV9jb2RlJykuZ2V0KGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGxldCBjb3Vyc2VfY29kZSA9IHJlcS5wYXJhbXMuY291cnNlX2NvZGU7XG4gICAgY291cnNlID0gYXdhaXQgQ291cnNlLmZpbmQoe2NvdXJzZV9jb2RlIDogY291cnNlX2NvZGV9LCAoZXJyLCBjb3Vyc2UpID0+IHtcbiAgICAgICAgcmVzLmpzb24oY291cnNlKTtcbiAgICB9KS5jYXRjaChlcnJvciA9PiByZXMuc3RhdHVzKDUwMCkuanNvbihlcnJvcikpO1xufSk7XG5cblxuLy8gRm9yIHVwZGF0aW5nIHJvd3MgaW4gY29sbGVjdGlvbiB3aXRoIHJldmlld3MgYW5kIHJhdGVkIGRpZmZpY3VsdHkuIFBVVCByZXF1ZXN0cyB0byBpdDI4MTAuMzkuaWRpLm50bnUubm86MzAwMS9jb3Vyc2VzLzxDT1VSU0VfQ09ERT4gd2lsbCB1cGRhdGUgdGhlIGNvdXJzZSBcbi8vIGlmIHRoZSByZXF1ZXN0IGNvbnRhaW5zIGEgcmV2aWV3IEFORCBhIGRpZmZpY3VsdHkuIFxuY291cnNlUm91dGVzLnB1dCgnLzpjb3Vyc2VfY29kZScsIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5LmRpZmZpY3VsdHkpXG4gICAgbGV0IGRpZmZpY3VsdHkgPSBwYXJzZUludChyZXEuYm9keS5kaWZmaWN1bHR5KVxuICAgIC8vIEZpbmQgdGhlIGNvcnJlY3QgY291cnNlIGluIHRoZSBEQi4gQ291cnNlX2NvZGUgaXMgYSBwcmltYXJ5IGtleSwgYW5kIHRoZSBzZWFyY2ggd2lsbCBhbHdheXMgcmV0dXJuIG9uZSByZXN1bHQuXG4gICAgbGV0IGNvdXJzZSA9IENvdXJzZS5maW5kKHtjb3Vyc2VfY29kZSA6IHJlcS5wYXJhbXMuY291cnNlX2NvZGV9KVxuICAgIGlmIChyZXEuYm9keS5yZXZpZXcgJiYgNj5kaWZmaWN1bHR5PjApIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVxLnBhcmFtcy5jb3Vyc2VfY29kZSlcbiAgICAgICAgLy8gRmluZCBkb2N1bWVudCBcImNvdXJzZVwiIGluIGRiIGFuZCBwdXNoIHRoZSByZXZpZXcgdG8gdGhlIHJldmlldyBhcnJheSBvbiB0aGUgZG9jdW1lbnQuIEFsc28gdXBkYXRlIGRpZmZpY3VsdHkgdG8gbmV3IGF2ZXJhZ2UuXG4gICAgICAgIENvdXJzZS5maW5kT25lQW5kVXBkYXRlKGNvdXJzZSwge1wiJHB1c2hcIjogeyBcInJldmlld3NcIjogcmVxLmJvZHkucmV2aWV3IH0sICBcIiRwdXNoXCIgOiB7XCJkaWZmaWN1bHR5XCIgOiBwYXJzZUludChyZXEuYm9keS5kaWZmaWN1bHR5KX19KVxuICAgICAgICAudGhlbihjb3Vyc2UgPT4gcmVzLmpzb24oY291cnNlKSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpKSAgIFxuICAgIH0gICAgXG59KTtcblxuXG5cbi8vIFRPRE86IFJld3JpdGUgdGhpcyB0byBoYW5kbGUgYWRkaW5nIHJldmlld3Mgb2YgY291cnNlc1xuLy8gY291cnNlUm91dGVzLnJvdXRlKCcvOmNvdXJzZV9jb2RlL2FkZCcpLnBvc3QoZnVuY3Rpb24ocmVxLCByZXMpIHtcbi8vICAgICBsZXQgY291cnNlID0gbmV3IENvdXJzZShyZXEuYm9keSk7XG4vLyAgICAgY291cnNlLnNhdmUoKVxuLy8gICAgICAgICAudGhlbihjb3Vyc2UgPT4ge1xuLy8gICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeydDb3Vyc2UnOiAnUmV2aWV3cyBhZGRlZCBzdWNjZXNzZnVsbHkuJ30pO1xuLy8gICAgICAgICB9KVxuLy8gICAgICAgICAuY2F0Y2goZXJyID0+IHtcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdBZGRpbmcgbmV3IHJldmlldyB0byBjb3Vyc2UsICcsIGNvdXJzZSwgJywgZmFpbGVkJyk7XG4vLyAgICAgICAgIH0pO1xuLy8gfSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgY291cnNlUm91dGVzOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "course.js"
      ],
      "names": [
        "courseRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "content",
        "query",
        "_id",
        "course_code",
        "$regex",
        "RegExp",
        "$options",
        "credits",
        "Number",
        "norwegian_name",
        "taught_in_spring",
        "taught_in_autumn",
        "learning_goal",
        "sorting",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "Course",
        "paginate",
        "sort",
        "then",
        "paginated_content",
        "json",
        "catch",
        "error",
        "status",
        "params",
        "course",
        "find",
        "err",
        "put",
        "console",
        "log",
        "body",
        "difficulty",
        "review",
        "findOneAndUpdate"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import express from 'express';\nimport cors from 'cors';\nimport Course from '../models/course.model';\nimport { model } from 'mongoose';\n\n\nconst courseRoutes = express.Router()\n\n\ncourseRoutes.use(cors());\n  // Allow client to fetch data\n  courseRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients. In this project we dont care to handle security issues.\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, PUT'); // We only allow GET and PUT requests. On purpose, we decided to not have any functionality to add courses, neither delete them.\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to it2810-39.idi.ntnu.no:<PORT-NUMBER>/courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ncourseRoutes.route('/').get(async function(req, res) {\n    \n\n    // Saving all possible attributes for a course document in the collection in content object. \n    // Checks if attribute exists on req.query and saves it if it exists.\n    let content = {};\n    let query = await req.query;\n    if (query._id) { content._id = query._id} \n    if (query.course_code) { content.course_code = {$regex: RegExp(query.course_code), $options:'-i'}}\n    if (query.credits) { content.credits = Number(query.credits)}\n    if (query.norwegian_name) { content.norwegian_name = {$regex : RegExp(query.norwegian_name), $options:'-i'}}\n    if (query.taught_in_spring) { content.taught_in_spring = true} \n    if (query.taught_in_autumn) { content.taught_in_autumn = true} \n    if (query.content) { content.content = {$regex: RegExp(query.content), $options:'-i'}}\n    if (query.learning_goal) { content.learning_goal = {$regex: RegExp(query.learning_goal), $options:'-i'}}\n\n    // Syntax to find partial match by using MongoDB find()-function:\n    // find(({norwegian_name : {$regex : /Ava/}})\n    // console.log(content)\n    // const courses = await Course.find((content), function(err, courses) {}).catch(err => console.log(err));\n    \n    // Values retrieved by the query, else set to default values. Used in pagination and sorting of results.\n    let sorting = req.query.sorting ? req.query.sorting: 'norwegian_name';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n\n    // Uses mongoose-paginate to paginate results. Plugin in imported in the course.model.js. Response to client is sent in this function. \n    // Takes to arguments. One content object, and one object containing pages, page limit and what to sort by.\n    Course.paginate(content,\n        {   page: pages,\n            limit: lim,\n            sort: {[sorting]:[order]}\n        })\n        .then(paginated_content => {\n            // The content in json() is what is being returned in the HTTP Response. In this case paginated_content is the entire page containing all #page of objects\n            res.json(paginated_content);\n        })\n        .catch(error => {\n            // In case of error, return status 500 and error message.\n          res.status(500).json(error);\n        })\n});\n\n// This path endpoint is used to retrieve a course by its course_code. This will return a course object in JSON format as response to a GET request on course_code.\ncourseRoutes.route('/:course_code').get(async (req, res) => {\n    let course_code = req.params.course_code;\n    course = await Course.find({course_code : course_code}, (err, course) => {\n        res.json(course);\n    }).catch(error => res.status(500).json(error));\n});\n\n\n// For updating rows in collection with reviews and rated difficulty. PUT requests to it2810.39.idi.ntnu.no:3001/courses/<COURSE_CODE> will update the course \n// if the request contains a review AND a difficulty. \ncourseRoutes.put('/:course_code', (req, res) => {\n    console.log(req.body.difficulty)\n    let difficulty = parseInt(req.body.difficulty)\n    // Find the correct course in the DB. Course_code is a primary key, and the search will always return one result.\n    let course = Course.find({course_code : req.params.course_code})\n    if (req.body.review && 6>difficulty>0) {\n        console.log(req.params.course_code)\n        // Find document \"course\" in db and push the review to the review array on the document. Also update difficulty to new average.\n        Course.findOneAndUpdate(course, {\"$push\": { \"reviews\": req.body.review },  \"$push\" : {\"difficulty\" : parseInt(req.body.difficulty)}})\n        .then(course => res.json(course))\n        .catch(err => res.status(500).json(err))   \n    }    \n});\n\n\n\n// TODO: Rewrite this to handle adding reviews of courses\n// courseRoutes.route('/:course_code/add').post(function(req, res) {\n//     let course = new Course(req.body);\n//     course.save()\n//         .then(course => {\n//             res.status(200).json({'Course': 'Reviews added successfully.'});\n//         })\n//         .catch(err => {\n//             res.status(400).send('Adding new review to course, ', course, ', failed');\n//         });\n// });\n\n\nexport default courseRoutes;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571662756030
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models/course.model.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
        "sourceFileName": "course.model.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginate = _interopRequireDefault(require(\"mongoose-paginate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Schema = _mongoose.default.Schema;\nlet Course = new Schema({\n  norwegian_name: {\n    type: String\n  },\n  course_code: {\n    type: String\n  },\n  credit: {\n    type: Number\n  },\n  taught_in_spring: {\n    type: Boolean\n  },\n  taught_in_autumn: {\n    type: Boolean\n  },\n  content: {\n    type: String\n  },\n  learning_goal: {\n    type: String\n  },\n  reviews: {\n    type: Array\n  },\n  difficulty: {\n    type: Array\n  }\n}, {\n  collection: 'courses'\n});\nCourse.plugin(_mongoosePaginate.default);\nmodule.exports = _mongoose.default.model('Course', Course);\nvar _default = Course;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS5tb2RlbC5qcyJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvdXJzZSIsIm5vcndlZ2lhbl9uYW1lIiwidHlwZSIsIlN0cmluZyIsImNvdXJzZV9jb2RlIiwiY3JlZGl0IiwiTnVtYmVyIiwidGF1Z2h0X2luX3NwcmluZyIsIkJvb2xlYW4iLCJ0YXVnaHRfaW5fYXV0dW1uIiwiY29udGVudCIsImxlYXJuaW5nX2dvYWwiLCJyZXZpZXdzIiwiQXJyYXkiLCJkaWZmaWN1bHR5IiwiY29sbGVjdGlvbiIsInBsdWdpbiIsIm1vbmdvb3NlUGFnaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsSUFBSUUsTUFBTSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUNwQkcsRUFBQUEsY0FBYyxFQUFFO0FBQ1pDLElBQUFBLElBQUksRUFBRUM7QUFETSxHQURJO0FBSXBCQyxFQUFBQSxXQUFXLEVBQUc7QUFDVkYsSUFBQUEsSUFBSSxFQUFFQztBQURJLEdBSk07QUFPcEJFLEVBQUFBLE1BQU0sRUFBRTtBQUNKSCxJQUFBQSxJQUFJLEVBQUVJO0FBREYsR0FQWTtBQVVwQkMsRUFBQUEsZ0JBQWdCLEVBQUU7QUFDZEwsSUFBQUEsSUFBSSxFQUFFTTtBQURRLEdBVkU7QUFhcEJDLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2RQLElBQUFBLElBQUksRUFBRU07QUFEUSxHQWJFO0FBZ0JwQkUsRUFBQUEsT0FBTyxFQUFFO0FBQ0xSLElBQUFBLElBQUksRUFBRUM7QUFERCxHQWhCVztBQW1CcEJRLEVBQUFBLGFBQWEsRUFBRTtBQUNYVCxJQUFBQSxJQUFJLEVBQUVDO0FBREssR0FuQks7QUFzQnBCUyxFQUFBQSxPQUFPLEVBQUU7QUFDTFYsSUFBQUEsSUFBSSxFQUFFVztBQURELEdBdEJXO0FBeUJwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JaLElBQUFBLElBQUksRUFBRVc7QUFERTtBQXpCUSxDQUFYLEVBNkJUO0FBQUVFLEVBQUFBLFVBQVUsRUFBRztBQUFmLENBN0JTLENBQWI7QUFnQ0lmLE1BQU0sQ0FBQ2dCLE1BQVAsQ0FBY0MseUJBQWQ7QUFHSkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCcEIsa0JBQVNxQixLQUFULENBQWUsUUFBZixFQUF5QnBCLE1BQXpCLENBQWpCO2VBRWVBLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL1ZpY3Rvci9Eb2N1bWVudHMvTlROVS9IMjAxOS9XZWJ1dHZpa2xpbmcvcHJvc2pla3RfMy9iYWNrZW5kL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBtb25nb29zZVBhZ2luYXRlIGZyb20gJ21vbmdvb3NlLXBhZ2luYXRlJztcblxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG5sZXQgQ291cnNlID0gbmV3IFNjaGVtYSh7XG4gICAgbm9yd2VnaWFuX25hbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjb3Vyc2VfY29kZSA6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICBjcmVkaXQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyXG4gICAgfSxcbiAgICB0YXVnaHRfaW5fc3ByaW5nOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9LFxuICAgIHRhdWdodF9pbl9hdXR1bW46IHtcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGxlYXJuaW5nX2dvYWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgfSxcbiAgICByZXZpZXdzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfSxcbiAgICBkaWZmaWN1bHR5OiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgfVxuICAgIH0sXG4gICAgeyBjb2xsZWN0aW9uIDogJ2NvdXJzZXMnIH1cbiAgICApXG5cbiAgICBDb3Vyc2UucGx1Z2luKG1vbmdvb3NlUGFnaW5hdGUpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbW9uZ29vc2UubW9kZWwoJ0NvdXJzZScsIENvdXJzZSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvdXJzZTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "course.model.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "Course",
        "norwegian_name",
        "type",
        "String",
        "course_code",
        "credit",
        "Number",
        "taught_in_spring",
        "Boolean",
        "taught_in_autumn",
        "content",
        "learning_goal",
        "reviews",
        "Array",
        "difficulty",
        "collection",
        "plugin",
        "mongoosePaginate",
        "module",
        "exports",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,IAAIE,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACpBG,EAAAA,cAAc,EAAE;AACZC,IAAAA,IAAI,EAAEC;AADM,GADI;AAIpBC,EAAAA,WAAW,EAAG;AACVF,IAAAA,IAAI,EAAEC;AADI,GAJM;AAOpBE,EAAAA,MAAM,EAAE;AACJH,IAAAA,IAAI,EAAEI;AADF,GAPY;AAUpBC,EAAAA,gBAAgB,EAAE;AACdL,IAAAA,IAAI,EAAEM;AADQ,GAVE;AAapBC,EAAAA,gBAAgB,EAAE;AACdP,IAAAA,IAAI,EAAEM;AADQ,GAbE;AAgBpBE,EAAAA,OAAO,EAAE;AACLR,IAAAA,IAAI,EAAEC;AADD,GAhBW;AAmBpBQ,EAAAA,aAAa,EAAE;AACXT,IAAAA,IAAI,EAAEC;AADK,GAnBK;AAsBpBS,EAAAA,OAAO,EAAE;AACLV,IAAAA,IAAI,EAAEW;AADD,GAtBW;AAyBpBC,EAAAA,UAAU,EAAE;AACRZ,IAAAA,IAAI,EAAEW;AADE;AAzBQ,CAAX,EA6BT;AAAEE,EAAAA,UAAU,EAAG;AAAf,CA7BS,CAAb;AAgCIf,MAAM,CAACgB,MAAP,CAAcC,yBAAd;AAGJC,MAAM,CAACC,OAAP,GAAiBpB,kBAASqB,KAAT,CAAe,QAAf,EAAyBpB,MAAzB,CAAjB;eAEeA,M",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/models",
      "sourcesContent": [
        "import mongoose from \"mongoose\";\nimport mongoosePaginate from 'mongoose-paginate';\n\nconst Schema = mongoose.Schema;\n\nlet Course = new Schema({\n    norwegian_name: {\n        type: String\n    },\n    course_code : {\n        type: String\n    },\n    credit: {\n        type: Number\n    },\n    taught_in_spring: {\n        type: Boolean\n    },\n    taught_in_autumn: {\n        type: Boolean\n    },\n    content: {\n        type: String\n    },\n    learning_goal: {\n        type: String\n    },\n    reviews: {\n        type: Array\n    },\n    difficulty: {\n        type: Array\n    }\n    },\n    { collection : 'courses' }\n    )\n\n    Course.plugin(mongoosePaginate);\n\n\nmodule.exports = mongoose.model('Course', Course);\n\nexport default Course;"
      ]
    },
    "sourceType": "script",
    "mtime": 1571647434424
  },
  "{\"sourceRoot\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"filename\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend\",\"plugins\":[{\"key\":\"module-resolver\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"root\":[\"./src\"]}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":true}},{\"key\":\"corejs2-usage\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":{\"options\":{\"loose\":false,\"includePrerelease\":false},\"loose\":false,\"raw\":\"2.0.0\",\"major\":2,\"minor\":0,\"patch\":0,\"prerelease\":[],\"build\":[],\"version\":\"2.0.0\"},\"polyfillTargets\":{\"node\":\"10.15.3\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"regenerator\":false,\"debug\":false}}],\"presets\":[]}:7.6.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "module-resolver",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "root": [
              "./src"
            ]
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": true
          }
        },
        {
          "key": "corejs2-usage",
          "visitor": {
            "ImportDeclaration": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "YieldExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": {
              "options": {
                "loose": false,
                "includePrerelease": false
              },
              "loose": false,
              "raw": "2.0.0",
              "major": 2,
              "minor": 0,
              "patch": 0,
              "prerelease": [],
              "build": [],
              "version": "2.0.0"
            },
            "polyfillTargets": {
              "node": "10.15.3"
            },
            "include": {},
            "exclude": {},
            "proposals": false,
            "shippedProposals": false,
            "regenerator": false,
            "debug": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes/grades.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
        "sourceFileName": "grades.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _grades = _interopRequireDefault(require(\"../models/grades.model\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst gradeRoutes = _express.default.Router();\n\ngradeRoutes.use((0, _cors.default)()); // Allow client to fetch data\n\ngradeRoutes.use(function (req, res, next) {\n  res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n  next();\n}); // The function passed into the get function handles all GET requests sent to /courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\n\ngradeRoutes.route('/').get(async function (req, res) {\n  let sorting = req.query.sorting ? req.query.sorting : 'semester_code';\n  let order = req.query.order ? req.query.order : '1';\n  let page = req.query.page ? req.query.page : 1;\n  let pages = parseInt(page);\n  let limit = req.query.limit ? req.query.limit : 10;\n  let lim = parseInt(limit); // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n  // Saving all possible attributes for a course document in the collection in content object\n\n  let content = {};\n  content.course_code = req.baseUrl.split('/')[2]; // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n  // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n\n  const grades = await _grades.default.find(content);\n  console.log(grades[0]); // The content in json() is what is being returned in the HTTP Response\n  // res.status(200).json(grades).send();\n\n  _grades.default.paginate(grades[0], {\n    page: pages,\n    limit: lim,\n    sort: {\n      [sorting]: [order]\n    }\n  }).then(page => {\n    res.json(page);\n  }).catch(err => {\n    res.status(500).json(err);\n  });\n}); // Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\n\ngradeRoutes.route('/:course_code').get(async function (req, res) {\n  let course_code = req.params.course_code;\n  const grades = await _grades.default.find({\n    course_code: course_code\n  }, function (err, grades) {\n    res.json(grades);\n  });\n  res.status(200).json(grades).send();\n});\nvar _default = gradeRoutes; // Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYWRlcy5qcyJdLCJuYW1lcyI6WyJncmFkZVJvdXRlcyIsImV4cHJlc3MiLCJSb3V0ZXIiLCJ1c2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwicm91dGUiLCJnZXQiLCJzb3J0aW5nIiwicXVlcnkiLCJvcmRlciIsInBhZ2UiLCJwYWdlcyIsInBhcnNlSW50IiwibGltaXQiLCJsaW0iLCJjb250ZW50IiwiY291cnNlX2NvZGUiLCJiYXNlVXJsIiwic3BsaXQiLCJncmFkZXMiLCJHcmFkZSIsImZpbmQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzb3J0IiwidGhlbiIsImpzb24iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsInBhcmFtcyIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csR0FBWixDQUFnQixvQkFBaEIsRSxDQUNFOztBQUNBSCxXQUFXLENBQUNHLEdBQVosQ0FBZ0IsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QjtBQUN2Q0QsRUFBQUEsR0FBRyxDQUFDRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUMsRUFEdUMsQ0FDUzs7QUFDaERGLEVBQUFBLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNFRixFQUFBQSxHQUFHLENBQUNFLE1BQUosQ0FBVyw4QkFBWCxFQUEyQyx3Q0FBM0M7QUFDQUQsRUFBQUEsSUFBSTtBQUNULENBTEMsRSxDQU9GO0FBQ0E7QUFDQTs7QUFDQU4sV0FBVyxDQUFDUSxLQUFaLENBQWtCLEdBQWxCLEVBQXVCQyxHQUF2QixDQUEyQixnQkFBZUwsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFDaEQsTUFBSUssT0FBTyxHQUFHTixHQUFHLENBQUNPLEtBQUosQ0FBVUQsT0FBVixHQUFvQk4sR0FBRyxDQUFDTyxLQUFKLENBQVVELE9BQTlCLEdBQXVDLGVBQXJEO0FBQ0EsTUFBSUUsS0FBSyxHQUFHUixHQUFHLENBQUNPLEtBQUosQ0FBVUMsS0FBVixHQUFrQlIsR0FBRyxDQUFDTyxLQUFKLENBQVVDLEtBQTVCLEdBQW9DLEdBQWhEO0FBQ0EsTUFBSUMsSUFBSSxHQUFHVCxHQUFHLENBQUNPLEtBQUosQ0FBVUUsSUFBVixHQUFpQlQsR0FBRyxDQUFDTyxLQUFKLENBQVVFLElBQTNCLEdBQWtDLENBQTdDO0FBQ0EsTUFBSUMsS0FBSyxHQUFDQyxRQUFRLENBQUNGLElBQUQsQ0FBbEI7QUFDQSxNQUFJRyxLQUFLLEdBQUdaLEdBQUcsQ0FBQ08sS0FBSixDQUFVSyxLQUFWLEdBQWtCWixHQUFHLENBQUNPLEtBQUosQ0FBVUssS0FBNUIsR0FBb0MsRUFBaEQ7QUFDQSxNQUFJQyxHQUFHLEdBQUNGLFFBQVEsQ0FBQ0MsS0FBRCxDQUFoQixDQU5nRCxDQU9oRDtBQUNBOztBQUNBLE1BQUlFLE9BQU8sR0FBRyxFQUFkO0FBQ0FBLEVBQUFBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQmYsR0FBRyxDQUFDZ0IsT0FBSixDQUFZQyxLQUFaLENBQWtCLEdBQWxCLEVBQXVCLENBQXZCLENBQXRCLENBVmdELENBV2hEO0FBR0E7O0FBQ0EsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLGdCQUFNQyxJQUFOLENBQVdOLE9BQVgsQ0FBckI7QUFDQU8sRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlKLE1BQU0sQ0FBQyxDQUFELENBQWxCLEVBaEJnRCxDQWtCaEQ7QUFDQTs7QUFFQUMsa0JBQU1JLFFBQU4sQ0FBZUwsTUFBTSxDQUFDLENBQUQsQ0FBckIsRUFBeUI7QUFDckJULElBQUFBLElBQUksRUFBRUMsS0FEZTtBQUVyQkUsSUFBQUEsS0FBSyxFQUFFQyxHQUZjO0FBR3JCVyxJQUFBQSxJQUFJLEVBQUU7QUFBQyxPQUFDbEIsT0FBRCxHQUFVLENBQUNFLEtBQUQ7QUFBWDtBQUhlLEdBQXpCLEVBS0tpQixJQUxMLENBS1VoQixJQUFJLElBQUk7QUFDZFIsSUFBQUEsR0FBRyxDQUFDeUIsSUFBSixDQUFTakIsSUFBVDtBQUNELEdBUEgsRUFRS2tCLEtBUkwsQ0FRV0MsR0FBRyxJQUFJO0FBQ1ozQixJQUFBQSxHQUFHLENBQUM0QixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCO0FBQ0QsR0FWTDtBQVdILENBaENELEUsQ0FtQ0E7O0FBQ0FoQyxXQUFXLENBQUNRLEtBQVosQ0FBa0IsZUFBbEIsRUFBbUNDLEdBQW5DLENBQXVDLGdCQUFlTCxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUM1RCxNQUFJYyxXQUFXLEdBQUdmLEdBQUcsQ0FBQzhCLE1BQUosQ0FBV2YsV0FBN0I7QUFDQSxRQUFNRyxNQUFNLEdBQUcsTUFBTUMsZ0JBQU1DLElBQU4sQ0FBVztBQUFDTCxJQUFBQSxXQUFXLEVBQUdBO0FBQWYsR0FBWCxFQUF3QyxVQUFTYSxHQUFULEVBQWNWLE1BQWQsRUFBc0I7QUFDL0VqQixJQUFBQSxHQUFHLENBQUN5QixJQUFKLENBQVNSLE1BQVQ7QUFDSCxHQUZvQixDQUFyQjtBQUdBakIsRUFBQUEsR0FBRyxDQUFDNEIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCUixNQUFyQixFQUE2QmEsSUFBN0I7QUFHSCxDQVJEO2VBVWVuQyxXLEVBRWY7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvVmljdG9yL0RvY3VtZW50cy9OVE5VL0gyMDE5L1dlYnV0dmlrbGluZy9wcm9zamVrdF8zL2JhY2tlbmQvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdyYWRlIGZyb20gJy4uL21vZGVscy9ncmFkZXMubW9kZWwnXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgZ3JhZGVSb3V0ZXMgPSBleHByZXNzLlJvdXRlcigpO1xuXG5ncmFkZVJvdXRlcy51c2UoY29ycygpKTtcbiAgLy8gQWxsb3cgY2xpZW50IHRvIGZldGNoIGRhdGFcbiAgZ3JhZGVSb3V0ZXMudXNlKGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTsgLy8gQ2FuIGNoYW5nZSAqIHRvIGFsbG93IHJlcXVlc3QgZnJvbSBzcGVjaWZpYyBjbGllbnRzXG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgT1BUSU9OUywgUFVULCBQQVRDSCwgREVMRVRFJyk7XG4gICAgICBuZXh0KCk7XG59KTtcblxuLy8gVGhlIGZ1bmN0aW9uIHBhc3NlZCBpbnRvIHRoZSBnZXQgZnVuY3Rpb24gaGFuZGxlcyBhbGwgR0VUIHJlcXVlc3RzIHNlbnQgdG8gL2NvdXJzZXMgXG4vLyBGdXJ0aGVyIG9uLCB3ZSdyZSBjYWxsaW5nIENvdXJzZS5maW5kIHRvIGdldCBhIGxpc3Qgb2YgYWxsIGNvdXJzZSBpdGVtcyBmcm9tIHRoZSBNb25nb0RCLiBUaGUgZmluZCBmdW5jdGlvbiB0YWtlcyBvbmUgYXJndW1lbnQsIGEgY2FsbGJhY2sgZnVuY3Rpb25cbi8vIHdoaWNoIGlzIGV4ZWN1dGVkIG9uY2UgdGhlIHJlc3VsdCBpcyBhdmFpbGFibGUuIEFsbCByZXN1bHRzIGF2YWlsYWJsZSBpbiBjb3Vyc2VzIGFyZSBhZGRlZCBpbiBKU09OIGZvcm1hdCB0byB0aGUgcmVzcG9uc2UgYnkgY2FsbGluZyByZXMuanNvbihjb3Vyc2VzKS5cbmdyYWRlUm91dGVzLnJvdXRlKCcvJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IHNvcnRpbmcgPSByZXEucXVlcnkuc29ydGluZyA/IHJlcS5xdWVyeS5zb3J0aW5nOiAnc2VtZXN0ZXJfY29kZSc7XG4gICAgbGV0IG9yZGVyID0gcmVxLnF1ZXJ5Lm9yZGVyID8gcmVxLnF1ZXJ5Lm9yZGVyIDogJzEnO1xuICAgIGxldCBwYWdlID0gcmVxLnF1ZXJ5LnBhZ2UgPyByZXEucXVlcnkucGFnZSA6IDE7XG4gICAgbGV0IHBhZ2VzPXBhcnNlSW50KHBhZ2UpO1xuICAgIGxldCBsaW1pdCA9IHJlcS5xdWVyeS5saW1pdCA/IHJlcS5xdWVyeS5saW1pdCA6IDEwO1xuICAgIGxldCBsaW09cGFyc2VJbnQobGltaXQpO1xuICAgIC8vIEFjY2VzcyBjb3Vyc2VfY29kZSBmcm9tIFVSTCBieSBzcGxpdHRpbmcgb24gLyBhbmQgc2VsZWN0aW5nIHRoZSAzcmQgZWxlbWVudC4gV2lsbCB3b3JrIGZvciBldmVyeSBwb3NzaWJsZSBzdGF0ZSBpbiB0aGlzIHByb2plY3QuXG4gICAgLy8gU2F2aW5nIGFsbCBwb3NzaWJsZSBhdHRyaWJ1dGVzIGZvciBhIGNvdXJzZSBkb2N1bWVudCBpbiB0aGUgY29sbGVjdGlvbiBpbiBjb250ZW50IG9iamVjdFxuICAgIGxldCBjb250ZW50ID0ge307XG4gICAgY29udGVudC5jb3Vyc2VfY29kZSA9IHJlcS5iYXNlVXJsLnNwbGl0KCcvJylbMl1cbiAgICAvLyBpZiAocXVlcnkuY291cnNlX2NvZGUpIHsgY29udGVudC5jb3Vyc2VfY29kZSA9IHskcmVnZXggOiBSZWdFeHAocXVlcnkuY291cnNlX2NvZGUpLCAkb3B0aW9uczonLWknfSB9XG5cbiAgICBcbiAgICAvLyBUaGUgY29udGVudCBvYmplY3QgYmVpbmcgc2VuZCBpbnRvIGZpbmQgaXMgb2YgdGhlIGZvcm0gZS5nLiwge2NvdXJzZV9jb2RlID0gXCJURFQ0MTQwXCJ9XG4gICAgY29uc3QgZ3JhZGVzID0gYXdhaXQgR3JhZGUuZmluZChjb250ZW50KTtcbiAgICBjb25zb2xlLmxvZyhncmFkZXNbMF0pXG4gICAgXG4gICAgLy8gVGhlIGNvbnRlbnQgaW4ganNvbigpIGlzIHdoYXQgaXMgYmVpbmcgcmV0dXJuZWQgaW4gdGhlIEhUVFAgUmVzcG9uc2VcbiAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgIEdyYWRlLnBhZ2luYXRlKGdyYWRlc1swXSx7XG4gICAgICAgIHBhZ2U6IHBhZ2VzLFxuICAgICAgICBsaW1pdDogbGltLFxuICAgICAgICBzb3J0OiB7W3NvcnRpbmddOltvcmRlcl1cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihwYWdlID0+IHtcbiAgICAgICAgcmVzLmpzb24ocGFnZSk7XG4gICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xuICAgICAgICB9KVxufSk7XG5cblxuLy8gTWFrZXMgaXQgcG9zc2libGUgdG8gZ28gZGlyZWN0bHkgdG8gdGhlIHNlbWVzdGVycyBvZiBhIGNvdXJzZSBvYmplY3QgYnkgdmlzaXRpbmcgaXQyODEwLTM5LmlkaS5udG51Lm5vOjMwMDEvZ3JhZGVzL1REVDQxMTBcbmdyYWRlUm91dGVzLnJvdXRlKCcvOmNvdXJzZV9jb2RlJykuZ2V0KGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgbGV0IGNvdXJzZV9jb2RlID0gcmVxLnBhcmFtcy5jb3Vyc2VfY29kZTtcbiAgICBjb25zdCBncmFkZXMgPSBhd2FpdCBHcmFkZS5maW5kKHtjb3Vyc2VfY29kZSA6IGNvdXJzZV9jb2RlfSwgZnVuY3Rpb24oZXJyLCBncmFkZXMpIHtcbiAgICAgICAgcmVzLmpzb24oZ3JhZGVzKTtcbiAgICB9KTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihncmFkZXMpLnNlbmQoKTtcblxuICAgXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZ3JhZGVSb3V0ZXM7XG5cbi8vIEZvcm1hdCBmb3Igc3DDuHJyaW5nZXI6XG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDEvZ3JhZGVzP2NvdXJzZV9jb2RlPVREVDQxMTAmc2VtZXN0ZXJzLnNlbWVzdGVyX2NvZGU9SDIwMTgiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "grades.js"
      ],
      "names": [
        "gradeRoutes",
        "express",
        "Router",
        "use",
        "req",
        "res",
        "next",
        "header",
        "route",
        "get",
        "sorting",
        "query",
        "order",
        "page",
        "pages",
        "parseInt",
        "limit",
        "lim",
        "content",
        "course_code",
        "baseUrl",
        "split",
        "grades",
        "Grade",
        "find",
        "console",
        "log",
        "paginate",
        "sort",
        "then",
        "json",
        "catch",
        "err",
        "status",
        "params",
        "send"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,GAAZ,CAAgB,oBAAhB,E,CACE;;AACAH,WAAW,CAACG,GAAZ,CAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACvCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C,EADuC,CACS;;AAChDF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACEF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,wCAA3C;AACAD,EAAAA,IAAI;AACT,CALC,E,CAOF;AACA;AACA;;AACAN,WAAW,CAACQ,KAAZ,CAAkB,GAAlB,EAAuBC,GAAvB,CAA2B,gBAAeL,GAAf,EAAoBC,GAApB,EAAyB;AAChD,MAAIK,OAAO,GAAGN,GAAG,CAACO,KAAJ,CAAUD,OAAV,GAAoBN,GAAG,CAACO,KAAJ,CAAUD,OAA9B,GAAuC,eAArD;AACA,MAAIE,KAAK,GAAGR,GAAG,CAACO,KAAJ,CAAUC,KAAV,GAAkBR,GAAG,CAACO,KAAJ,CAAUC,KAA5B,GAAoC,GAAhD;AACA,MAAIC,IAAI,GAAGT,GAAG,CAACO,KAAJ,CAAUE,IAAV,GAAiBT,GAAG,CAACO,KAAJ,CAAUE,IAA3B,GAAkC,CAA7C;AACA,MAAIC,KAAK,GAACC,QAAQ,CAACF,IAAD,CAAlB;AACA,MAAIG,KAAK,GAAGZ,GAAG,CAACO,KAAJ,CAAUK,KAAV,GAAkBZ,GAAG,CAACO,KAAJ,CAAUK,KAA5B,GAAoC,EAAhD;AACA,MAAIC,GAAG,GAACF,QAAQ,CAACC,KAAD,CAAhB,CANgD,CAOhD;AACA;;AACA,MAAIE,OAAO,GAAG,EAAd;AACAA,EAAAA,OAAO,CAACC,WAAR,GAAsBf,GAAG,CAACgB,OAAJ,CAAYC,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAtB,CAVgD,CAWhD;AAGA;;AACA,QAAMC,MAAM,GAAG,MAAMC,gBAAMC,IAAN,CAAWN,OAAX,CAArB;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAAC,CAAD,CAAlB,EAhBgD,CAkBhD;AACA;;AAEAC,kBAAMI,QAAN,CAAeL,MAAM,CAAC,CAAD,CAArB,EAAyB;AACrBT,IAAAA,IAAI,EAAEC,KADe;AAErBE,IAAAA,KAAK,EAAEC,GAFc;AAGrBW,IAAAA,IAAI,EAAE;AAAC,OAAClB,OAAD,GAAU,CAACE,KAAD;AAAX;AAHe,GAAzB,EAKKiB,IALL,CAKUhB,IAAI,IAAI;AACdR,IAAAA,GAAG,CAACyB,IAAJ,CAASjB,IAAT;AACD,GAPH,EAQKkB,KARL,CAQWC,GAAG,IAAI;AACZ3B,IAAAA,GAAG,CAAC4B,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBE,GAArB;AACD,GAVL;AAWH,CAhCD,E,CAmCA;;AACAhC,WAAW,CAACQ,KAAZ,CAAkB,eAAlB,EAAmCC,GAAnC,CAAuC,gBAAeL,GAAf,EAAoBC,GAApB,EAAyB;AAC5D,MAAIc,WAAW,GAAGf,GAAG,CAAC8B,MAAJ,CAAWf,WAA7B;AACA,QAAMG,MAAM,GAAG,MAAMC,gBAAMC,IAAN,CAAW;AAACL,IAAAA,WAAW,EAAGA;AAAf,GAAX,EAAwC,UAASa,GAAT,EAAcV,MAAd,EAAsB;AAC/EjB,IAAAA,GAAG,CAACyB,IAAJ,CAASR,MAAT;AACH,GAFoB,CAArB;AAGAjB,EAAAA,GAAG,CAAC4B,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqBR,MAArB,EAA6Ba,IAA7B;AAGH,CARD;eAUenC,W,EAEf;AACA",
      "sourceRoot": "/Users/Victor/Documents/NTNU/H2019/Webutvikling/prosjekt_3/backend/routes",
      "sourcesContent": [
        "import Grade from '../models/grades.model'\nimport express from 'express';\nimport cors from 'cors';\nimport Axios from 'axios';\n\nconst gradeRoutes = express.Router();\n\ngradeRoutes.use(cors());\n  // Allow client to fetch data\n  gradeRoutes.use(function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*'); // Can change * to allow request from specific clients\n    res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n      res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n      next();\n});\n\n// The function passed into the get function handles all GET requests sent to /courses \n// Further on, we're calling Course.find to get a list of all course items from the MongoDB. The find function takes one argument, a callback function\n// which is executed once the result is available. All results available in courses are added in JSON format to the response by calling res.json(courses).\ngradeRoutes.route('/').get(async function(req, res) {\n    let sorting = req.query.sorting ? req.query.sorting: 'semester_code';\n    let order = req.query.order ? req.query.order : '1';\n    let page = req.query.page ? req.query.page : 1;\n    let pages=parseInt(page);\n    let limit = req.query.limit ? req.query.limit : 10;\n    let lim=parseInt(limit);\n    // Access course_code from URL by splitting on / and selecting the 3rd element. Will work for every possible state in this project.\n    // Saving all possible attributes for a course document in the collection in content object\n    let content = {};\n    content.course_code = req.baseUrl.split('/')[2]\n    // if (query.course_code) { content.course_code = {$regex : RegExp(query.course_code), $options:'-i'} }\n\n    \n    // The content object being send into find is of the form e.g., {course_code = \"TDT4140\"}\n    const grades = await Grade.find(content);\n    console.log(grades[0])\n    \n    // The content in json() is what is being returned in the HTTP Response\n    // res.status(200).json(grades).send();\n\n    Grade.paginate(grades[0],{\n        page: pages,\n        limit: lim,\n        sort: {[sorting]:[order]\n        }\n      }).then(page => {\n        res.json(page);\n      })\n        .catch(err => {\n          res.status(500).json(err);\n        })\n});\n\n\n// Makes it possible to go directly to the semesters of a course object by visiting it2810-39.idi.ntnu.no:3001/grades/TDT4110\ngradeRoutes.route('/:course_code').get(async function(req, res) {\n    let course_code = req.params.course_code;\n    const grades = await Grade.find({course_code : course_code}, function(err, grades) {\n        res.json(grades);\n    });\n    res.status(200).json(grades).send();\n\n   \n});\n\nexport default gradeRoutes;\n\n// Format for sprringer:\n// http://localhost:3001/grades?course_code=TDT4110&semesters.semester_code=H2018"
      ]
    },
    "sourceType": "script",
    "mtime": 1571650487103
  }
}